<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>损不足</title>
  
  <subtitle>奉有余</subtitle>
  <link href="https://blog.leafminer.cn/atom.xml" rel="self"/>
  
  <link href="https://blog.leafminer.cn/"/>
  <updated>2024-11-16T13:12:24.103Z</updated>
  <id>https://blog.leafminer.cn/</id>
  
  <author>
    <name>虫子</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Github中自定义个人主页</title>
    <link href="https://blog.leafminer.cn/2024/11/16/ce7848fe48f6/"/>
    <id>https://blog.leafminer.cn/2024/11/16/ce7848fe48f6/</id>
    <published>2024-11-16T12:57:34.000Z</published>
    <updated>2024-11-16T13:12:24.103Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><h1>Github中自定义个人主页</h1><h2 id="​"><img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731761417027-80f8993d-9548-4d53-94e2-0533efbe32d7.png" alt="">​</h2><p>在Github中设定一个账号与同名的repository即可在该仓库的<code>readme.md</code>​文件中自定义展示到主页的内容。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731664630208-26ff787b-dccc-4aed-addf-d78197ea116b.png" alt="">​</p><p><strong>leafminer/leafminer</strong> is a ✨<em>special</em> ✨ repository that you can use to add a <code>README.md</code>​ to your GitHub profile. Make sure it’s public and initialize it with a <strong>README</strong> to get started.</p><h2 id="参考">参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly96aHVhbmxhbi56aGlodS5jb20vcC8xODkyNDkwNTA=">自定义你的github主页 - 知乎<i class="fa fa-external-link-alt"></i></span></p><p><span class="exturl" data-url="aHR0cHM6Ly9iYnMuaHVhd2VpY2xvdWQuY29tL2Jsb2dzLzQyMTgyNQ==">GitHub教程-自定义个人页制作-云社区-华为云<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
      
      
    <summary type="html">&lt;link rel=&quot;stylesheet&quot; class=&quot;aplayer-secondary-style-marker&quot; href=&quot;&#92;assets&#92;css&#92;APlayer.min.css&quot;&gt;&lt;script src=&quot;&#92;assets&#92;js&#92;APlayer.min.js&quot; cla</summary>
      
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="主页展示" scheme="https://blog.leafminer.cn/tags/%E4%B8%BB%E9%A1%B5%E5%B1%95%E7%A4%BA/"/>
    
    <category term="Github" scheme="https://blog.leafminer.cn/tags/Github/"/>
    
    <category term="个人主页" scheme="https://blog.leafminer.cn/tags/%E4%B8%AA%E4%BA%BA%E4%B8%BB%E9%A1%B5/"/>
    
  </entry>
  
  <entry>
    <title>用 vercel + Github 搭建 hexo 博客</title>
    <link href="https://blog.leafminer.cn/2024/11/08/8eb747462c1d/"/>
    <id>https://blog.leafminer.cn/2024/11/08/8eb747462c1d/</id>
    <published>2024-11-08T02:46:20.000Z</published>
    <updated>2024-11-08T03:06:52.040Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p><span class="exturl" data-url="aHR0cHM6Ly92ZXJjZWwuY29tLw==">Vercel<i class="fa fa-external-link-alt"></i></span> 提供了一个云平台，可以优化整个项目开发和部署体验，它有很强大的功能值得去探索，个人使用是免费的，提供了域名访问，使用方便快捷。在vercel上选择New Project，然后如果你是用Github账号登录的话，这边会显示你的所有Github仓库，选择github pages的仓库即可往github上push的任何更改，都会同步到vercel上。把 Hexo 文件放在 Github 上，每次更新文件都推送到 Github 上，由 Vercel 自动拉取构建。</p><span id="more"></span><h2 id="搭建前准备">搭建前准备</h2><ol><li class="lvl-3"><p>注册Github账号</p></li><li class="lvl-3"><p>注册Vercel账号，建议使用Github授权登录，方便后续部署。</p></li><li class="lvl-3"><p>本地安装hexo和node</p></li></ol><h2 id="创建项目">创建项目</h2><p>vercel 平台中选择hexo模版，创建新项目，也可以选git 仓库中已存在的项目。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731029999479-af39687f-7e21-499c-8e59-26d5e4091ed1.png" alt="">​</p><h2 id="后续使用">后续使用</h2><p>在 GitHub 中将我们创建好的博客项目 clone 到本地。</p><h2 id="使用vercel部署hexo博客出现的问题解决">使用vercel部署hexo博客出现的问题解决</h2><p>通常来说只需要import导入github中的博客项目，然后在Framework Preset中选择“Hexo”，最后deploy部署即可。</p><h4 id="问题一：“hexo-command-not-found”">问题一：“hexo:command not found”</h4><p>经过一通搜索后，大概猜到了是npm的问题，可以打开项目的Setting：</p><p>将“Install Command”一栏打开，并输入“npm install”，保存后该问题解决。</p><h4 id="问题二：“no-such-file-or-directory-open-‘-vercel-path0-package-json’”">问题二：“no such file or directory, open ‘/vercel/path0/package.json’”</h4><p>在github项目库中确实没有这个文件，于是手动将根目录下的package.json上传即可。</p><h4 id="问题三：“The-Output-Directory-“public”-is-empty”">问题三：“The Output Directory “public” is empty”</h4><p>由于import的时候默认选择了Output Directory为public，但实际上github项目库中没有这个文件夹，因此也需要修改Setting，将”Output Directory“这一栏打开，内容为空，保存即可。</p><h2 id="参考">参考</h2><ol><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9qdWVqaW4uY24vcG9zdC82OTE1MjQ2MjUwOTMzNjE2NjQ4">如何使用 vercel + hexo 搭建博客vercel: Vercel 提供了一个云平台，可以优化整个项目开发和部署 - 掘金<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9vaGV2YW4uY29tL3ZlcmNlbC1oZXhvLWNvbmZpZ3VyYXRpb24uaHRtbA==">使用 Vercel 和 Github 部署 Hexo 安装以及使用教程 | EvanNotFound's Blog<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly95dXhpLTE3LWdpdGh1Yi1pby52ZXJjZWwuYXBwLzIwMjQvMDYvMDYvJUU0JUJEJUJGJUU3JTk0JUE4dmVyY2VsJUU5JTgzJUE4JUU3JUJEJUIyaGV4byVFNSU4RCU5QSVFNSVBRSVBMiVFNSU4NyVCQSVFNyU4RSVCMCVFNyU5QSU4NCVFOSU5NyVBRSVFOSVBMiU5OCVFOCVBNyVBMyVFNSU4NiVCMy8=">yuxi-17-github-io.vercel.app<i class="fa fa-external-link-alt"></i></span></p></li></ol></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly92ZXJjZWwuY29tLw==&quot;&gt;Vercel&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; 提供了一个云平台，可以优化整个项目开发和部署体验，它有很强大的功能值得去探索，个人使用是免费的，提供了域名访问，使用方便快捷。在vercel上选择New Project，然后如果你是用Github账号登录的话，这边会显示你的所有Github仓库，选择github pages的仓库即可往github上push的任何更改，都会同步到vercel上。把 Hexo 文件放在 Github 上，每次更新文件都推送到 Github 上，由 Vercel 自动拉取构建。&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Github" scheme="https://blog.leafminer.cn/tags/Github/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="部署" scheme="https://blog.leafminer.cn/tags/%E9%83%A8%E7%BD%B2/"/>
    
    <category term="vercel" scheme="https://blog.leafminer.cn/tags/vercel/"/>
    
    <category term="搭建" scheme="https://blog.leafminer.cn/tags/%E6%90%AD%E5%BB%BA/"/>
    
  </entry>
  
  <entry>
    <title>快速高效地构建ML树——IQ-TREE安装和使用示例</title>
    <link href="https://blog.leafminer.cn/2024/11/06/d4fa8f53fea0/"/>
    <id>https://blog.leafminer.cn/2024/11/06/d4fa8f53fea0/</id>
    <published>2024-11-06T12:19:27.000Z</published>
    <updated>2024-11-09T04:12:49.122Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731116365649-8f7d2b15-847e-420b-81e9-1d8a0ab96f53.png" alt="">​</p><h3 id="IQ-TREE">IQ-TREE</h3><p>IQ-TREE是一款专为系统发育分析设计的软件工具，其核心功能涵盖系统发育树的推断、统计模型的选择以及结果的综合评估。在系统发育基因组学领域，该学科专注于从全基因组视角探索不同生物种类或个体间的进化联系及其历史背景。通过处理并对比海量的遗传信息，IQ-TREE能够构建出反映这些生物间演化路径的系统发育树。相较于同类软件如RAxML和PhyML，IQ-TREE展现出更为优越的表现力。此外，除了提供传统意义上的本地安装选项外，用户也可以选择访问其在线版本进行操作。</p><span id="more"></span><p><span class="exturl" data-url="aHR0cDovL2lxdHJlZS5jaWJpdi51bml2aWUuYWMuYXQv">http://iqtree.cibiv.univie.ac.at/<i class="fa fa-external-link-alt"></i></span><img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731118196330-48ec685b-e807-4905-9e91-77807b7fc142.png" alt="">​</p><h3 id="下载安装">下载安装</h3><p>官网：<span class="exturl" data-url="aHR0cDovL3d3dy5pcXRyZWUub3JnLw==">http://www.iqtree.org/<i class="fa fa-external-link-alt"></i></span> 点击最新版本<code>Download v2.3.6 for Windows</code>​ 下载。</p><p>解压，并将<code>iqtree2</code>​根据文件位置添加到系统路径中。快捷键<code>Win+r</code>​输入<code>cmd</code>​，打开命令提示符，输入：</p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">path %path%;E:\soft\iqtree<span class="literal">-2</span>.<span class="number">3.6</span><span class="literal">-Windows</span>\bin</span><br><span class="line">iqtree2 <span class="literal">-version</span></span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731117517021-1c807c76-abe1-4cdb-9b70-266e6144046c.png" alt="">​</p><p>输入<code>iqtree2 -version</code>​可以查看是否添加成功。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731117605573-c06d81fc-cbb5-4d44-a150-fb94dad4ceb8.png" alt="">​</p><h3 id="使用帮助">使用帮助</h3><p>通过<code>iqtree2 -h</code>​命令查看相关命令帮助，</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731117884624-89ad900f-5582-43fa-a095-6eb34ab579c0.png" alt="">​</p><p>也可以看官网上的帮助文档。</p><p><span class="exturl" data-url="aHR0cDovL3d3dy5pcXRyZWUub3JnL2RvYy8=">http://www.iqtree.org/doc/<i class="fa fa-external-link-alt"></i></span>### 使用示例</p><p>准备好已经比对的序列文件，可以是以下这些格式：</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119661134-32d56b52-a93f-44df-8045-30e7bd44f90d.png" alt="">​</p><h4 id="在线使用">在线使用</h4><ol><li class="lvl-3"><p>导入比对的序列数据。</p></li></ol><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119632685-e31047bf-bd7c-420d-b840-099a2a4359bc.png" alt="">​</p><ol start="2"><li class="lvl-3"><p>软件会自动选择最佳模型。</p></li></ol><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119808481-56cb3f96-9ab0-4701-9434-1336468afa4b.png" alt="">​</p><ol start="3"><li class="lvl-3"><p>自举检验1000次，都是默认选项，不用动。</p></li></ol><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119869446-9935865d-7903-4c78-89d9-8999eec91337.png" alt="">​</p><ol start="4"><li class="lvl-3"><p>IQTree的参数。</p></li></ol><p>对于包含许多短序列的数据集，作者建议使用较小的扰动强度（-pers）和较大的-numstop值。较小的扰动强度意味着算法在搜索过程中的随机性较小，而较大的-numstop值意味着算法会在达到某个阈值之前继续搜索，这有助于算法在短序列数据集中找到更好的解。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731120304585-7ffd691d-e194-4975-aba9-e1f6bf35d6f5.png" alt="">​</p><ol start="5"><li class="lvl-3"><p>输入邮箱地址，点击提交。运行结束后结果会发送到邮箱。</p></li></ol><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731120470118-63f1fd1a-c4a3-4e27-b3fb-144bee6e877e.png" alt="">​</p><p>保存提交后正在运行的链接，等结束后可以通过该链接下载结果文件。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731120567802-6438ba0e-1c3d-43ca-8ea0-2a427a9e0bb1.png" alt="">​</p><p><strong>结果文件说明</strong>：</p><table><thead><tr><th><strong>Suffix</strong></th><th><strong>Explanation</strong></th></tr></thead><tbody><tr><td>​<code>.iqtree</code>​</td><td>运行的完整结果，是主报告文件。</td></tr><tr><td>​<code>.log</code>​</td><td>运行日志</td></tr><tr><td>​<code>.treefile</code>​</td><td>最大似然树以NEWICK格式表示，可以使用树形查看器程序进行可视化。</td></tr><tr><td>​<code>.svg</code>​</td><td>SVG格式的树图文件。</td></tr><tr><td>​<code>.pdf</code>​</td><td>pdf格式的树图文件。</td></tr><tr><td>​<code>.contree</code>​</td><td>带有分配的分支支持的<code>Consensus tree</code>​，其中分支长度基于原始比对进行了优化；如果选择了<code>Ultrafast Bootstrap</code>​，则会打印此树。</td></tr><tr><td>​<code>.ckp.gz</code>​</td><td>检查点文件；如果进程因RAM/CPU限制而停止，则会包含此文件。</td></tr></tbody></table><hr><h4 id="本地使用">本地使用</h4><ol><li class="lvl-3"><p>打开命令提示符：</p></li></ol><ul class="lvl-0"><li class="lvl-2"><p>点击Windows屏幕左下角的“开始”菜单。在搜索框中输入“cmd”并按回车键，打开命令提示符窗口。</p></li><li class="lvl-2"><p>或者快捷键<code>Win+r</code>​输入<code>cmd</code>​，打开命令提示符。</p></li></ul><ol start="2"><li class="lvl-3"><p>命令提示符窗口中输入运行示例：</p></li></ol><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iqtree2 <span class="literal">-s</span> E:\Desktop\果蝇心管自噬\<span class="number">2024</span>分析作图原始数据\<span class="number">20241010</span>_DHC_Atgs_pro_align.fas <span class="literal">-m</span> MFP <span class="literal">-B</span> <span class="number">1000</span> <span class="literal">-T</span> AUTO </span><br></pre></td></tr></table></figure><p>​<code>iqtree2 -s E:\Desktop\果蝇心管自噬\2024分析作图原始数据\20241010_DHC_Atgs_pro_align.fas -m MFP -B 1000 -T AUTO -o outgroup_name</code>​</p><ul class="lvl-0"><li class="lvl-2"><p>​<code>-s</code>​：比对好的fas格式文件</p></li><li class="lvl-2"><p>​<code>-m MFP</code>​：自动选择测试的最佳模型并建树</p></li><li class="lvl-2"><p>​<code>-B 1000</code>​：bootstrap检验次数</p></li><li class="lvl-2"><p>​<code>-o outgroup_name</code>​：选择外群</p></li></ul><ol start="3"><li class="lvl-3"><p>等待运行结束，生成的文件在比对文件夹中，比如<code>E:\Desktop\果蝇心管自噬\2024分析作图原始数据\</code>​</p></li></ol><p>生成的文件：</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1731125349444-e313d484-78ab-4c50-ae12-4dc9fe02fc5b.png" alt="">​</p><h3 id="参考">参考</h3><ol><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9tcC53ZWl4aW4ucXEuY29tL3M/c3JjPTExJnRpbWVzdGFtcD0xNzMxMTE1NTY0JnZlcj01NjE3JnNpZ25hdHVyZT16M2VhY3J6a3ZkTjRFbFByQ2dnemIyRmpUVU5DWlRLZXJoMEtJMXAtQk9wMDVaa1NpVWRCM2JOWnc3SW9EbVZ5Zlp6Q25oTVFHcGdHZUlnbDlRUVdVZ1BxLUpPZE8tRlZVeWo3MjktdHo1VTRSQXZjY1BxUm4xcExGWnJyTWpTRCZuZXc9MQ==">【软件速览】IQ-TREE：构建ML树<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cDovL3d3dy5pcXRyZWUub3JnL2RvYy9XZWItU2VydmVyLVR1dG9yaWFs">Web Server Tutorial<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cDovL3d3dy5pcXRyZWUub3JnL2RvYy9RdWlja3N0YXJ0">Getting Started<i class="fa fa-external-link-alt"></i></span></p></li></ol></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1731116365649-8f7d2b15-847e-420b-81e9-1d8a0ab96f53.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;
&lt;h3 id=&quot;IQ-TREE&quot;&gt;IQ-TREE&lt;/h3&gt;
&lt;p&gt;IQ-TREE是一款专为系统发育分析设计的软件工具，其核心功能涵盖系统发育树的推断、统计模型的选择以及结果的综合评估。在系统发育基因组学领域，该学科专注于从全基因组视角探索不同生物种类或个体间的进化联系及其历史背景。通过处理并对比海量的遗传信息，IQ-TREE能够构建出反映这些生物间演化路径的系统发育树。相较于同类软件如RAxML和PhyML，IQ-TREE展现出更为优越的表现力。此外，除了提供传统意义上的本地安装选项外，用户也可以选择访问其在线版本进行操作。&lt;/p&gt;</summary>
    
    
    
    <category term="原创" scheme="https://blog.leafminer.cn/categories/%E5%8E%9F%E5%88%9B/"/>
    
    <category term="工作" scheme="https://blog.leafminer.cn/categories/%E5%8E%9F%E5%88%9B/%E5%B7%A5%E4%BD%9C/"/>
    
    
    <category term="ML树" scheme="https://blog.leafminer.cn/tags/ML%E6%A0%91/"/>
    
    <category term="IQ-TREE" scheme="https://blog.leafminer.cn/tags/IQ-TREE/"/>
    
    <category term="系统发育" scheme="https://blog.leafminer.cn/tags/%E7%B3%BB%E7%BB%9F%E5%8F%91%E8%82%B2/"/>
    
    <category term="发育树" scheme="https://blog.leafminer.cn/tags/%E5%8F%91%E8%82%B2%E6%A0%91/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题加入音乐播放器-Aplayer</title>
    <link href="https://blog.leafminer.cn/2024/11/05/b4e5a4c77d8e/"/>
    <id>https://blog.leafminer.cn/2024/11/05/b4e5a4c77d8e/</id>
    <published>2024-11-05T13:39:38.000Z</published>
    <updated>2024-11-05T18:13:44.634Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>APlayer是一个功能丰富、支持多种媒体格式的HTML5音乐播放器，具有播放列表和歌词显示等实用功能。在Hexo中有可以使用的插件<code>hexo-tag-aplayer</code>​</p><span id="more"></span><h2 id="安装插件">安装插件</h2><p>插件网址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9oZXhvLXRhZy1hcGxheWVy">MoePlayer/hexo-tag-aplayer: Embed aplayer in Hexo posts/pages<i class="fa fa-external-link-alt"></i></span></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure><h2 id="配置使用">配置使用</h2><p>加入到侧边栏，在<code>\node_modules\hexo-theme-next\layout_macro\sidebar.njk</code>​文件中添加：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aplayer aplayer-tag-marker meting-tag-marker aplayer-withlrc aplayer-withlist&quot;</span> <span class="attr">data-id</span>=<span class="string">&quot;1534866348&quot;</span> <span class="attr">data-server</span>=<span class="string">&quot;tencent&quot;</span> <span class="attr">data-type</span>=<span class="string">&quot;playlist&quot;</span> <span class="attr">data-mutex</span>=<span class="string">&quot;true&quot;</span> <span class="attr">data-preload</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">data-theme</span>=<span class="string">&quot;#ad7a86&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730829307366-5dd68bc8-1e2a-41b6-b84c-5d6fe60246b7.png" alt="">​</p><p>在Markdown文档中：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure><h3 id="设置APlayer音乐播放器的选项：">设置APlayer音乐播放器的选项：</h3><ul class="lvl-0"><li class="lvl-2"><p>​<code>title</code>​: 音乐的标题。</p></li><li class="lvl-2"><p>​<code>author</code>​: 音乐的作者。</p></li><li class="lvl-2"><p>​<code>url</code>​: 音乐文件的URL地址。</p></li><li class="lvl-2"><p>​<code>picture_url</code>​: 可选参数，音乐封面图片的URL地址。</p></li><li class="lvl-2"><p>​<code>narrow</code>​: 可选参数，如果设置，播放器将采用窄样式显示。</p></li><li class="lvl-2"><p>​<code>autoplay</code>​: 可选参数，如果设置，音乐将在页面加载时自动播放。但请注意，移动浏览器不支持自动播放音乐。</p></li><li class="lvl-2"><p>​<code>width:xxx</code>​: 可选参数，以<code>width:</code>​为前缀，后面跟播放器的宽度值（默认为100%）。</p></li><li class="lvl-2"><p>​<code>lrc:xxx</code>​: 可选参数，以<code>lrc:</code>​为前缀，后面跟LRC歌词文件的URL地址。</p></li></ul><p>这些选项允许用户自定义APlayer音乐播放器的外观和行为，例如设置音乐标题、作者、文件链接、封面图片、是否自动播放、播放器宽度以及歌词文件链接等。</p><p>当启用了“post asset folders”（后端资源文件夹）功能后，你可以轻松地将你的图片、音乐和LRC文件放入资源文件夹中，并且可以通过特定的方式引用它们。例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure><h3 id="使用-aplayerlrc​-标签来直接插入歌词文本在博客中：">使用 <code>aplayerlrc</code>​ 标签来直接插入歌词文本在博客中：</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlrc &quot;title&quot; &quot;author&quot; &quot;url&quot; &quot;autoplay&quot; %&#125;</span><br><span class="line">[00:00.00]lrc here</span><br><span class="line">&#123;% endaplayerlrc %&#125;</span><br></pre></td></tr></table></figure><h3 id="播放列表">播放列表</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayerlist %&#125;</span><br><span class="line">&#123;</span><br><span class="line">    &quot;narrow&quot;: false,                          // （可选）播放器袖珍风格</span><br><span class="line">    &quot;autoplay&quot;: true,                         // （可选) 自动播放，移动端浏览器暂时不支持此功能</span><br><span class="line">    &quot;mode&quot;: &quot;random&quot;,                         // （可选）曲目循环类型，有 &#x27;random&#x27;（随机播放）, &#x27;single&#x27; (单曲播放), &#x27;circulation&#x27; (循环播放), &#x27;order&#x27; (列表播放)， 默认：&#x27;circulation&#x27; </span><br><span class="line">    &quot;showlrc&quot;: 3,                             // （可选）歌词显示配置项，可选项有：1,2,3</span><br><span class="line">    &quot;mutex&quot;: true,                            // （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</span><br><span class="line">    &quot;theme&quot;: &quot;#e6d0b2&quot;,                      // （可选）播放器风格色彩设置，默认：#b7daff</span><br><span class="line">    &quot;preload&quot;: &quot;metadata&quot;,                    // （可选）音乐文件预载入模式，可选项： &#x27;none&#x27; &#x27;metadata&#x27; &#x27;auto&#x27;, 默认: &#x27;auto&#x27;</span><br><span class="line">    &quot;listmaxheight&quot;: &quot;513px&quot;,                 // (可选) 该播放列表的最大长度</span><br><span class="line">    &quot;music&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class="line">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;title&quot;: &quot;アイロニ&quot;,</span><br><span class="line">            &quot;author&quot;: &quot;鹿乃&quot;,</span><br><span class="line">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class="line">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br><span class="line">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure><h3 id="开启MetingJS">开启MetingJS</h3><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21ldG93b2xmL01ldGluZ0pT">MetingJS<i class="fa fa-external-link-alt"></i></span> 是基于<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL21ldG93b2xmL01ldGluZw==">Meting API<i class="fa fa-external-link-alt"></i></span> 的 APlayer 衍生播放器，引入 MetingJS 后，播放器将支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。</p><p>使用 MetingJS，请在 Hexo 配置文件 <code>_config.yml</code>​ 中设置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">aplayer:</span><br><span class="line">  meting: true</span><br></pre></td></tr></table></figure><p>通过 <code>&#123;% meting ...%&#125;</code>​ 在文章中使用 MetingJS 播放器：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 简单示例 (id, server, type)  --&gt;</span><br><span class="line">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;</span><br><span class="line"></span><br><span class="line">&lt;!-- 进阶示例 --&gt;</span><br><span class="line">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure><p>有关 <code>&#123;% meting %&#125;</code>​ 的选项列表如下:</p><table><thead><tr><th><strong>选项</strong></th><th><strong>默认值</strong></th><th><strong>描述</strong></th></tr></thead><tbody><tr><td>id</td><td><strong>必须值</strong></td><td>歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td></tr><tr><td>server</td><td><strong>必须值</strong></td><td>音乐平台:<code>netease</code>​,<code>tencent</code>​,<code>kugou</code>​,<code>xiami</code>​,<code>baidu</code>​</td></tr><tr><td>type</td><td><strong>必须值</strong></td><td>​<code>song</code>​,<code>playlist</code>​,<code>album</code>​,<code>search</code>​,<code>artist</code>​</td></tr><tr><td>fixed</td><td>​<code>false</code>​</td><td>开启固定模式</td></tr><tr><td>mini</td><td>​<code>false</code>​</td><td>开启迷你模式</td></tr><tr><td>loop</td><td>​<code>all</code>​</td><td>列表循环模式：<code>all</code>​,<code>one</code>​,<code>none</code>​</td></tr><tr><td>order</td><td>​<code>list</code>​</td><td>列表播放模式：<code>list</code>​,<code>random</code>​</td></tr><tr><td>volume</td><td>0.7</td><td>播放器音量</td></tr><tr><td>lrctype</td><td>0</td><td>歌词格式类型</td></tr><tr><td>listfolded</td><td>​<code>false</code>​</td><td>指定音乐播放列表是否折叠</td></tr><tr><td>storagename</td><td>​<code>metingjs</code>​</td><td>LocalStorage 中存储播放器设定的键名</td></tr><tr><td>autoplay</td><td>​<code>true</code>​</td><td>自动播放，移动端浏览器暂时不支持此功能</td></tr><tr><td>mutex</td><td>​<code>true</code>​</td><td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td></tr><tr><td>listmaxheight</td><td>​<code>340px</code>​</td><td>播放列表的最大长度</td></tr><tr><td>preload</td><td>​<code>auto</code>​</td><td>音乐文件预载入模式，可选项：<code>none</code>​,<code>metadata</code>​,<code>auto</code>​</td></tr><tr><td>theme</td><td>​<code>#ad7a86</code>​</td><td>播放器风格色彩设置</td></tr></tbody></table><p>关于如何设置自建的 Meting API 服务器地址，以及其他 MetingJS 配置，请参考章节<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9oZXhvLXRhZy1hcGxheWVyL2Jsb2IvbWFzdGVyL2RvY3MvUkVBRE1FLXpoX2NuLm1kIyVFOCU4NyVBQSVFNSVBRSU5QSVFNCVCOSU4OSVFOSU4NSU4RCVFNyVCRCVBRTMwLSVFNiU5NiVCMCVFNSU4QSU5RiVFOCU4MyVCRA==">自定义配置<i class="fa fa-external-link-alt"></i></span></p><h3 id="在-Hexo-配置文件-config-yml​-中配置本插件：">在 Hexo 配置文件 <code>_config.yml</code>​ 中配置本插件：</h3><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">script_dir:</span> <span class="string">some/place</span>                        <span class="comment"># Public 目录下脚本目录路径，默认: &#x27;assets/js&#x27;</span></span><br><span class="line">  <span class="attr">style_dir:</span> <span class="string">some/place</span>                         <span class="comment"># Public 目录下样式目录路径，默认: &#x27;assets/css&#x27;</span></span><br><span class="line">  <span class="attr">cdn:</span> <span class="string">http://xxx/aplayer.min.js</span>                <span class="comment"># 引用 APlayer.js 外部 CDN 地址 (默认不开启)</span></span><br><span class="line">  <span class="attr">style_cdn:</span> <span class="string">http://xxx/aplayer.min.css</span>         <span class="comment"># 引用 APlayer.css 外部 CDN 地址 (默认不开启)</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span>                                  <span class="comment"># MetingJS 支持</span></span><br><span class="line">  <span class="attr">meting_api:</span> <span class="string">http://xxx/api.php</span>                <span class="comment"># 自定义 Meting API 地址</span></span><br><span class="line">  <span class="attr">meting_cdn:</span> <span class="string">http://xxx/Meing.min.js</span>           <span class="comment"># 引用 Meting.js 外部 CDN 地址 (默认不开启)</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">true</span>                            <span class="comment"># 自动插入 Aplayer.js 与 Meting.js 资源脚本, 默认开启</span></span><br><span class="line">  <span class="attr">externalLink:</span> <span class="string">http://xxx/aplayer.min.js</span>       <span class="comment"># 老版本参数，功能与参数 cdn 相同</span></span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tZXRpbmdAMS4yL2Rpc3QvTWV0aW5nLm1pbi5qcw==">https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p><span class="exturl" data-url="aHR0cHM6Ly91bnBrZy5jb20vbWV0aW5nQDEuMi9kaXN0L01ldGluZy5taW4uanM=">https://unpkg.com/meting@1.2/dist/Meting.min.js<i class="fa fa-external-link-alt"></i></span></p></li></ul><h2 id="示例">示例</h2><h3 id="QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐">QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐</h3><h4 id="创建自己的歌单-VIP没解析，放到列表里在博客中也播放不了">创建自己的歌单 (VIP没解析，放到列表里在博客中也播放不了)</h4><p>以QQ音乐为例，登录QQ音乐创建好歌单后，打开歌单，链接有需要的id</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730814806680-82efc149-de40-4240-8190-b5641dff6e96.png" alt="">​</p><h4 id="在markdown文件中引用：">在markdown文件中引用：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% meting &quot;1534866348&quot; &quot;tencent&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure>    <div id="aplayer-QIrDxEha" class="aplayer aplayer-tag-marker meting-tag-marker"         data-id="1534866348" data-server="tencent" data-type="playlist" data-mode="circulation" data-autoplay="false" data-mutex="false" data-listmaxheight="340px" data-preload="none" data-theme="#ad7a86"    ></div><h4 id="在html页面中引用：">在html页面中引用：</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;aplayer aplayer-tag-marker meting-tag-marker aplayer-withlrc aplayer-withlist&quot;</span> <span class="attr">data-id</span>=<span class="string">&quot;1534866348&quot;</span> <span class="attr">data-server</span>=<span class="string">&quot;tencent&quot;</span> <span class="attr">data-type</span>=<span class="string">&quot;playlist&quot;</span> <span class="attr">data-mutex</span>=<span class="string">&quot;true&quot;</span> <span class="attr">data-preload</span>=<span class="string">&quot;auto&quot;</span> <span class="attr">data-theme</span>=<span class="string">&quot;#ad7a86&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br></pre></td></tr></table></figure><hr><h3 id="source文件">source文件</h3><p>将所需文件放到<code>hexo\source\assets</code>​文件夹下，通过下面的方式引用。</p><h4 id="在markdown文件中引用：-2">在markdown文件中引用：</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;% aplayer &quot;雾里看花&quot; &quot;AI&quot; &quot;/assets/tgAI.mp3&quot; &quot;/assets/WVWAW5KC.png&quot; autoplay %&#125;</span><br></pre></td></tr></table></figure>        <div id="aplayer-JsskJiWZ" class="aplayer aplayer-tag-marker" style="margin-bottom: 20px;">            <pre class="aplayer-lrc-content"></pre>        </div>        <script>          var ap = new APlayer({            element: document.getElementById("aplayer-JsskJiWZ"),            narrow: false,            autoplay: false,            showlrc: false,            music: {              title: "雾里看花",              author: "AI",              url: "/assets/tgAI.mp3",              pic: "/assets/WVWAW5KC.png",              lrc: ""            }          });          window.aplayers || (window.aplayers = []);          window.aplayers.push(ap);        </script><h4 id="在html页面中引用：-2">在html页面中引用：</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;aplayer-iDYFLcdV&quot;</span> <span class="attr">class</span>=<span class="string">&quot;aplayer aplayer-tag-marker&quot;</span> <span class="attr">style</span>=<span class="string">&quot;margin-bottom: 20px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">pre</span> <span class="attr">class</span>=<span class="string">&quot;aplayer-lrc-content&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">pre</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">var</span> ap = <span class="keyword">new</span> <span class="title class_">APlayer</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">element</span>: <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;aplayer-iDYFLcdV&quot;</span>),</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">narrow</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">autoplay</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">showlrc</span>: <span class="literal">false</span>,</span></span><br><span class="line"><span class="language-javascript">            <span class="attr">music</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">title</span>: <span class="string">&quot;雾里看花&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">author</span>: <span class="string">&quot;AI&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">url</span>: <span class="string">&quot;/assets/tgAI.mp3&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">pic</span>: <span class="string">&quot;/assets/WVWAW5KC.png&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">lrc</span>: <span class="string">&quot;&quot;</span></span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">          &#125;);</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">window</span>.<span class="property">aplayers</span> || (<span class="variable language_">window</span>.<span class="property">aplayers</span> = []);</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">window</span>.<span class="property">aplayers</span>.<span class="title function_">push</span>(ap);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="参考">参考</h2><ol><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9hcGxheWVyLmpzLm9yZy8jL2hvbWU/aWQ9aW5zdGFsbGF0aW9u">Home - APlayer<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9oZXhvLXRhZy1hcGxheWVy">MoePlayer/hexo-tag-aplayer: Embed aplayer in Hexo posts/pages<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0RJWWdvZC9BUGxheWVy">DIYgod/APlayer:  Wow, such a beautiful HTML5 music player<i class="fa fa-external-link-alt"></i></span></p></li></ol></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;APlayer是一个功能丰富、支持多种媒体格式的HTML5音乐播放器，具有播放列表和歌词显示等实用功能。在Hexo中有可以使用的插件&lt;code&gt;hexo-tag-aplayer&lt;/code&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="音乐" scheme="https://blog.leafminer.cn/tags/%E9%9F%B3%E4%B9%90/"/>
    
    <category term="Aplayer" scheme="https://blog.leafminer.cn/tags/Aplayer/"/>
    
    <category term="播放器" scheme="https://blog.leafminer.cn/tags/%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题添加 Live2D 看板娘-通过CDN</title>
    <link href="https://blog.leafminer.cn/2024/11/04/79d2eab3e93c/"/>
    <id>https://blog.leafminer.cn/2024/11/04/79d2eab3e93c/</id>
    <published>2024-11-04T10:22:21.000Z</published>
    <updated>2024-11-05T11:58:44.548Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730714807141-e9c04931-c5d3-4964-88af-3ecdd75294c8.png" alt="">​</p><span id="more"></span><h2 id="Fork看板娘项目到自己的Github">Fork看板娘项目到自己的Github</h2><p>访问 <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3N0ZXZlbmpvZXpoYW5nL2xpdmUyZC13aWRnZXQ=">stevenjoezhang/live2d-widget: 把萌萌哒的看板娘抱回家 (ノ≧∇≦)ノ | Live2D widget for web platform<i class="fa fa-external-link-alt"></i></span>的 Github 仓库，点击右上角 Fork 该项目到自己的Github仓库 中。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730710539240-bbe50dc4-1ee5-4aad-9b7f-18ef23c72a50.png" alt="">​</p><p>通过<span class="exturl" data-url="aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L2doL2xlYWZtaW5lci9saXZlMmQtd2lkZ2V0QGxhdGVzdC9hdXRvbG9hZC5qcw==">https://cdn.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js<i class="fa fa-external-link-alt"></i></span></p><p>或者<span class="exturl" data-url="aHR0cHM6Ly9mYXN0bHkuanNkZWxpdnIubmV0L2doL2xlYWZtaW5lci9saXZlMmQtd2lkZ2V0QGxhdGVzdC9hdXRvbG9hZC5qcw==">https://fastly.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js<i class="fa fa-external-link-alt"></i></span>来引用</p><p>将CDN链接中的leafminer 换成你的Github用户名。</p><h2 id="通用">通用</h2><p>将下面这一行代码加入 html 页面的 <code>head</code>​ 或 <code>body</code>​ 中，即可加载看板娘：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不要复制这个注释 &lt;!-- lived2d --&gt;</span></span><br><span class="line">&lt;script src=<span class="string">&quot;https://fastly.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js&quot;</span>&gt;</span><br><span class="line">&lt;/script&gt; </span><br></pre></td></tr></table></figure><h2 id="Hexo博客的Next主题">Hexo博客的Next主题</h2><p>修改 /node_modules/hexo-theme-next/layout/_layout.njk 文件，在最后添加下面这行代码：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=<span class="string">&quot;https://cdn.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js&quot;</span>&gt;</span><br><span class="line">&lt;/script &gt;</span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730713781467-e9911c1d-c880-4fa5-b310-4806b301513e.png" alt="">​</p><h2 id="自定义">自定义</h2><h3 id="clone-你的项目到本地">clone 你的项目到本地</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git clone https://github.com/leafminer/live2d-widget.git</span><br></pre></td></tr></table></figure><h3 id="项目文件">项目文件</h3><ul class="lvl-0"><li class="lvl-2"><p>​<code>autoload.js</code>​ ：自动加载看板娘；</p></li><li class="lvl-2"><p>​<code>waifu.css</code>​ ：看板娘样式；</p></li><li class="lvl-2"><p>​<code>waifu-tips.js </code>​：看板娘说话的脚本；</p></li><li class="lvl-2"><p>​<code>waifu-tips.json </code>​：看板娘说话的内容；</p></li></ul><h3 id="路径">路径</h3><p>在<code> autoload.js</code>​ 的开头定义了加载看板娘的路径，注意这里需要使用绝对路径：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//注意：live2d_path参数应使用绝对路径</span></span><br><span class="line"><span class="keyword">const</span> live2d_path = <span class="string">&quot;https://cdn.jsdelivr.net/gh/leafminer/live2d-widget/&quot;</span>;</span><br><span class="line"><span class="comment">//const live2d_path = &quot;/live2d-widget/&quot;;</span></span><br></pre></td></tr></table></figure><h3 id="提交到库">提交到库</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git add -A</span><br><span class="line">git commit -m &quot;modify position to right&quot;</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure><h3 id="发布版本">发布版本</h3><p>是使用了Github免费的CDN服务，所以还需要发布一个新的版本：</p><h2 id="参考">参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly9ibG9nLjUxY3RvLmNvbS91XzEzNjQwNjI1LzQ5MDcwODY=">【Hexo搭建个人博客】（十二）Next主题中添加超级好玩的看板娘（CDN方式）_51CTO博客_hexo next主题<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1730714807141-e9c04931-c5d3-4964-88af-3ecdd75294c8.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Github" scheme="https://blog.leafminer.cn/tags/Github/"/>
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="Live2D" scheme="https://blog.leafminer.cn/tags/Live2D/"/>
    
    <category term="看板娘" scheme="https://blog.leafminer.cn/tags/%E7%9C%8B%E6%9D%BF%E5%A8%98/"/>
    
    <category term="CDN" scheme="https://blog.leafminer.cn/tags/CDN/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客添加关注微信导流</title>
    <link href="https://blog.leafminer.cn/2024/11/01/b7b4550e6ac7/"/>
    <id>https://blog.leafminer.cn/2024/11/01/b7b4550e6ac7/</id>
    <published>2024-11-01T09:58:34.000Z</published>
    <updated>2024-11-04T01:59:50.228Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>该工具的主要功能是通过隐藏文章的部分内容，引导用户关注您的微信公众号，并回复相关关键词之后，获取解锁链接，以现在用户从网站到公众号的导流。Hexo博客接入该功能有两种方式。</p><span id="more"></span><h2 id="注册账号">注册账号</h2><ul class="lvl-0"><li class="lvl-2"><p>注册：<span class="exturl" data-url="aHR0cDovL2FkbWluLm9wZW53cml0ZS5jbi8=">http://admin.openwrite.cn/open in new window<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p>登录：<span class="exturl" data-url="aHR0cHM6Ly9yZWFkbW9yZS5vcGVud3JpdGUuY24vbG9naW4=">https://readmore.openwrite.cn/loginopen in new window<i class="fa fa-external-link-alt"></i></span>， 用上面注册账号（通用，后续会合并到一个后台）</p></li></ul><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730450641429-5202dee7-65dc-4a4c-81a5-f94b0ffe78d1.png" alt="">​</p><p>通过添加博客列表，根据提示填写你的信息，生成对应的使用指南。如下：</p><h2 id="公众号设置">公众号设置</h2><p>登录微信公众号，设置<strong>关键词回复</strong>：</p><ul class="lvl-0"><li class="lvl-2"><p><input type="checkbox" id="checkbox0"><label for="checkbox0">关键词：more</label></p></li><li class="lvl-2"><p><input type="checkbox" id="checkbox1"><label for="checkbox1">回复内容，设置为</label><strong>文本</strong></p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;https://readmore.openwrite.cn/code/generate?blogId=33502-1730425843713-524&quot;</span>&gt;</span>点击该链接，获取博客解锁验证码<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure><h2 id="通用接入方式">通用接入方式</h2><p>博客的<strong>文章页面</strong>的末尾，增加如下js代码：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://readmore.openwrite.cn/js/readmore.js&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> btw = <span class="keyword">new</span> <span class="title class_">BTWPlugin</span>();</span></span><br><span class="line"><span class="language-javascript">    btw.<span class="title function_">init</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">id</span>: <span class="string">&#x27;container&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">blogId</span>: <span class="string">&#x27;33502-173dfdadfa-524&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">name</span>: <span class="string">&#x27;虫子的生存笔记&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">qrcode</span>: <span class="string">&#x27;https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">keyword</span>: <span class="string">&#x27;more&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">btnText</span>: <span class="string">&#x27;关注后阅读全文&#x27;</span>,</span></span><br><span class="line"><span class="language-javascript">        <span class="attr">cookieAge</span>: <span class="number">1</span>, <span class="comment">//验证后的过期时间（单位：小时）</span></span></span><br><span class="line"><span class="language-javascript">        <span class="attr">displayPercentage</span>: <span class="number">0.5</span> <span class="comment">//显示文章内容的百分比</span></span></span><br><span class="line"><span class="language-javascript">    &#125;);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="在Hexo博客Next主题中接入">在Hexo博客Next主题中接入</h3><p>在<code>\node_modules\hexo-theme-next\layout\_macro\post.njk</code>​文件中加入之前生成的js代码。<span class="exturl" data-url="aHR0cHM6Ly9yZWFkbW9yZS5vcGVud3JpdGUuY24vdXNlci9jaGFubmVs">自媒体 - 渠道管理<i class="fa fa-external-link-alt"></i></span></p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730454016963-19322c61-c348-4cbe-9b84-1e05c0d446f4.png" alt="">​</p><p>使文章选择性加入该功能，通过下面的代码，在文章markdown文件的题头里加入 <code>readmore: true</code>​ 以后，才会隐藏内容。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;%<span class="language-ruby"> <span class="keyword">if</span> (item.readmore) &#123; </span>%&gt;</span><br><span class="line"><span class="string">&lt;script</span> <span class="string">src=&quot;https://readmore.openwrite.cn/js/readmore.js&quot;</span> <span class="string">type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;</span></span><br><span class="line">    <span class="string">const</span> <span class="string">btw</span> <span class="string">=</span> <span class="string">new</span> <span class="string">BTWPlugin();</span></span><br><span class="line">    <span class="string">btw.init(&#123;</span></span><br><span class="line">        <span class="attr">id:</span> <span class="string">&#x27;container&#x27;</span><span class="string">,</span></span><br><span class="line">        <span class="attr">blogId:</span> <span class="string">&#x27;33502-1730425843713-524&#x27;</span><span class="string">,</span></span><br><span class="line">        <span class="attr">name:</span> <span class="string">&#x27;虫子的生存笔记&#x27;</span><span class="string">,</span></span><br><span class="line">        <span class="attr">qrcode:</span> <span class="string">&#x27;https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png&#x27;</span><span class="string">,</span></span><br><span class="line">        <span class="attr">keyword:</span> <span class="string">&#x27;more&#x27;</span><span class="string">,</span></span><br><span class="line">    <span class="string">&#125;);</span></span><br><span class="line"><span class="string">&lt;/script&gt;</span></span><br><span class="line">&lt;%<span class="language-ruby"> &#125; </span>%&gt;</span><br></pre></td></tr></table></figure><h2 id="Hexo博客Next主题–使用插件hexo-plugin-readmore">Hexo博客Next主题–使用插件<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Nub3dkcmVhbXMxMDA2L2hleG8tcGx1Z2luLXJlYWRtb3Jl">hexo-plugin-readmore<i class="fa fa-external-link-alt"></i></span></h2><h3 id="安装插件">安装插件</h3><p>插件链接：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3Nub3dkcmVhbXMxMDA2L2hleG8tcGx1Z2luLXJlYWRtb3Jl">hexo-plugin-readmore<i class="fa fa-external-link-alt"></i></span></p><p>Hexo 整合 OpenWrite 平台的 readmore 插件,实现博客的每一篇文章自动增加阅读更多效果,关注公众号后方可解锁全站文章,从而实现博客流量导流到微信公众号粉丝目的.</p><p>运行 <code>npm install</code>​ 命令安装到本地hexo博客目录，通过<code>hexo g&amp;&amp;hexo d</code>​部署到网站</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">$</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-plugin-readmore</span> <span class="string">--save</span></span><br></pre></td></tr></table></figure><h3 id="更新博客配置文件-config-yml​">更新博客配置文件 <code>_config.yml</code>​</h3><p>在 <code>_config.yml</code>​ 配置文件中,配置 <code>readmore</code>​ 插件相关信息,详情见 <span class="exturl" data-url="aHR0cHM6Ly9vcGVud3JpdGUuY24vZ3VpZGUvcmVhZG1vcmUvaW5zdGFsbC1oZXhvLmh0bWw=">OpenWrite 微信公众号增长神器 &quot;ReadMore&quot; 简介<i class="fa fa-external-link-alt"></i></span>.</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">plugins:</span></span><br><span class="line">  <span class="attr">readmore:</span></span><br><span class="line">    <span class="attr">blogId:</span> <span class="number">15702</span><span class="number">-1569305559839</span><span class="number">-744</span> <span class="comment"># [必选]OpenWrite 后台申请的博客唯一标识</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">雪之梦技术驿站</span> <span class="comment"># [必选]OpenWrite 后台申请的博客名称</span></span><br><span class="line">    <span class="attr">qrcode:</span> <span class="string">https://snowdreams1006.github.io/snowdreams1006-wechat-public.jpeg</span></span><br><span class="line">    <span class="comment"># [必选]OpenWrite 后台申请的微信公众号二维码</span></span><br><span class="line">    <span class="attr">keyword:</span> <span class="string">vip</span> <span class="comment"># [必选]OpenWrite 后台申请的微信公众号后台回复关键字</span></span><br></pre></td></tr></table></figure><p><strong>要替换成自己的相关配置</strong>!</p><p>其中,配置参数含义如下:</p><ul class="lvl-0"><li class="lvl-2"><p>​<code>blogId</code>​ : [必选]OpenWrite 后台申请的博客唯一标识</p></li><li class="lvl-2"><p>​<code>name</code>​ : [必选]OpenWrite 后台申请的博客名称</p></li><li class="lvl-2"><p>​<code>qrcode</code>​ : [必选]OpenWrite 后台申请的微信公众号二维码</p></li><li class="lvl-2"><p>​<code>keyword</code>​ : [必选]OpenWrite 后台申请的微信公众号后台回复关键字</p></li></ul><h2 id="参考">参考</h2><ol><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9yZWFkbW9yZS5vcGVud3JpdGUuY24vdXNlci9ibG9nMndlaXhpbi91c2U/aWQ9MzM1MDItMTczMDQyNTg0MzcxMy01MjQ=">自媒体 - 增长工具 - 博客导流公众号<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9vcGVud3JpdGUuY24vZ3VpZGUvcmVhZG1vcmUvcmVhZG1vcmUuaHRtbA==">博客导流公众号 | OpenWrite<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vc25vd2RyZWFtczEwMDYvcC8xMTY1NjI0MS5odG1s">Hexo 博客快速整合公众号导流工具,不用互推也能实现粉丝躺增! - 雪之梦技术驿站 - 博客园<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly9vcGVud3JpdGUuY24vZ3VpZGUvcmVhZG1vcmUvaW5zdGFsbC1oZXhvLmh0bWw=">Hexo博客整合 | OpenWrite<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-3"><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuZ3NndW5kYW0uY29tLzIwMjIvMjAyMi0xMi0xMi16MTQtaGV4by1yZWFkbW9yZS1kaXJlY3QtdG8td2VjaGF0Lw==">Hexo利用阅读更多的功能引流到微信公众号 | GSGUNDAM砍柴工<i class="fa fa-external-link-alt"></i></span></p></li></ol></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;该工具的主要功能是通过隐藏文章的部分内容，引导用户关注您的微信公众号，并回复相关关键词之后，获取解锁链接，以现在用户从网站到公众号的导流。Hexo博客接入该功能有两种方式。&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="公众号" scheme="https://blog.leafminer.cn/tags/%E5%85%AC%E4%BC%97%E5%8F%B7/"/>
    
    <category term="导流" scheme="https://blog.leafminer.cn/tags/%E5%AF%BC%E6%B5%81/"/>
    
    <category term="阅读全文" scheme="https://blog.leafminer.cn/tags/%E9%98%85%E8%AF%BB%E5%85%A8%E6%96%87/"/>
    
    <category term="微信" scheme="https://blog.leafminer.cn/tags/%E5%BE%AE%E4%BF%A1/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题加入音乐播放器-SQPlayer</title>
    <link href="https://blog.leafminer.cn/2024/10/30/cf403dbe36d3/"/>
    <id>https://blog.leafminer.cn/2024/10/30/cf403dbe36d3/</id>
    <published>2024-10-30T04:08:28.000Z</published>
    <updated>2024-11-05T12:09:22.286Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>SQPlayer一个简洁到极致的单曲播放器。代码由奇趣保罗(<span class="exturl" data-url="aHR0cHM6Ly9wYXVncmFtLmNvbQ==">https://paugram.com<i class="fa fa-external-link-alt"></i></span>)原创，并遵守 MIT 开源协议。</p><span id="more"></span><h2 id="下载播放器">下载播放器</h2><p>网址：<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0RyZWFtZXItUGF1bC9TcXVhcmUtUGxheWVy">github.com<i class="fa fa-external-link-alt"></i></span></p><p>解压找到需要的文件：SQPlayer.js和SQPlayer.css</p><h2 id="安装播放器">安装播放器</h2><p>将<code>SQPlayer.js</code>​放到博客对应的<code>\node_modules\hexo-theme-next\source\js</code>​文件夹下。</p><p>将<code>SQPlayer.css</code>​放到博客对应的<code>\node_modules\hexo-theme-next\source\css</code>​文件夹下。</p><h2 id="修改文件">修改文件</h2><p>修改<code>SQPlayer.css</code>​样式，使其适合主题侧边栏。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">sqp &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">15em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">8em</span>;</span><br><span class="line">    <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">    <span class="attribute">float</span>: right;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">overflow</span>: hidden;</span><br><span class="line">    user-<span class="selector-tag">select</span>: none;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0em</span>;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">1em</span> <span class="number">1em</span>;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#c8cae1</span> center/cover no-repeat;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改<code>SQPlayer.js</code>​</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">setupByCloudMusic = <span class="function">(<span class="params">cid, server</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> getData = &#123;</span><br><span class="line">      <span class="string">&quot;moeyao&quot;</span>: <span class="function">() =&gt;</span> (</span><br><span class="line">        <span class="title function_">fetch</span>(<span class="string">`https://api.moeyao.cn/meting/?server=tencent&amp;type=playlist&amp;id=<span class="subst">$&#123;cid&#125;</span>`</span>).<span class="title function_">then</span>(</span><br><span class="line">          <span class="function">(<span class="params">res</span>) =&gt;</span> res.<span class="title function_">json</span>()</span><br><span class="line">        ).<span class="title function_">then</span>(<span class="function">(<span class="params">items</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> item = items[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">          <span class="keyword">if</span> (!item) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;返回数据为空&quot;</span>);</span><br><span class="line">          &#125;</span><br><span class="line"></span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">setup</span>(&#123;</span><br><span class="line">            <span class="attr">title</span>: item.<span class="property">name</span>,</span><br><span class="line">            <span class="attr">artist</span>: item.<span class="property">artist</span>,</span><br><span class="line">            <span class="attr">cover</span>: item.<span class="property">cover</span>,</span><br><span class="line">            <span class="attr">link</span>: item.<span class="property">url</span></span><br><span class="line">          &#125;);</span><br><span class="line">        &#125;)</span><br><span class="line">      ),</span><br><span class="line">      <span class="comment">// &quot;paul&quot;: () =&gt; (</span></span><br><span class="line">      <span class="comment">//   fetch(`https://api.paugram.com/netease/?id=$&#123;cid&#125;`).then(</span></span><br><span class="line">      <span class="comment">//     (res) =&gt; res.json()</span></span><br><span class="line">      <span class="comment">//   ).then((item) =&gt; &#123;</span></span><br><span class="line">      <span class="comment">//     this.setup(item);</span></span><br><span class="line">      <span class="comment">//   &#125;)</span></span><br><span class="line">      <span class="comment">// ),</span></span><br><span class="line">    &#125;;</span><br></pre></td></tr></table></figure><h2 id="把CSS引入到生成的主页中">把CSS引入到生成的主页中</h2><p>需要在在网页 <code>head</code>​ 标签引用项目的 CSS 文件 <code>SQPlayer.css</code>​：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">&quot;SQPlayer.css&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span>/&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改<code>\node_modules\hexo-theme-next\layout\_layout.njk</code>​文件，添加<code>&lt;link href=&quot;SQPlayer.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;</code>​</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309377882-54220787-065b-4033-9683-6a36bea1d8ab.png" alt="">​</p><h2 id="引入JS">引入JS</h2><p><code>hexo\node_modules\hexo-theme-next\layout\_scripts\index.njk</code></p><p><img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730729590552-7dda6c06-cc97-49db-98e6-6041d6db6a05.png" alt=""></p><h2 id="放置到侧边栏">放置到侧边栏</h2><p>在网页 <code>body</code>​ 标签内的最后一行，或使用 <code>defer</code>​ 属性引用项目的 JS 文件 <code>SQPlayer.js</code>​。</p><p>如果使用 <code>data-cid</code>​ 属性引用播放器，就写成这样，其中 <code>23682511</code>​ 就是网易云音乐一首歌的 ID。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">sqp</span> <span class="attr">data-cid</span>=<span class="string">&quot;23682511&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">sqp</span>&gt;</span> # data-cid指定了歌曲ID，这里是tencent QQ音乐源</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;SQPlayer.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>修改<code>\node_modules\hexo-theme-next\layout_macro\sidebar.njk</code>​文件，添加<code>&lt;script src=&quot;SQPlayer.js&quot;&gt;&lt;/script&gt;</code>​</p><p>修改 <code>\node_modules\hexo-theme-next\layout_macro\sidebar.njk</code>​文件，添加<code>&lt;sqp data-cid=&quot;2112569740&quot;&gt;&lt;/sqp&gt;</code>​</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309397117-c7d822ec-9993-4327-ad20-c7557950a39b.png" alt="">​</p><p>在网页 <code>body </code>​标签内插入一个 <code>sqp</code>​ 标签：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;<span class="name">sqp</span>&gt;</span><span class="tag">&lt;/<span class="name">sqp</span>&gt;</span></span><br><span class="line">...</span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果使用静态方法引用播放器，则需要同时编写四个属性。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sqp</span> <span class="attr">data-title</span>=<span class="string">&quot;Crimson &amp; Clover&quot;</span> <span class="attr">data-artist</span>=<span class="string">&quot;Tommy James&quot;</span> <span class="attr">data-cover</span>=<span class="string">&quot;封面链接&quot;</span> <span class="attr">data-link</span>=<span class="string">&quot;歌曲链接&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">sqp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>其他属性可以参考本文档的 <span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnBhdWwucmVuL3NxdWFyZS8jLz9pZD0lZTUlYjElOWUlZTYlODAlYTc=">属性<i class="fa fa-external-link-alt"></i></span> 节点。</p><h3 id="属性">属性</h3><p>Square Player 支持以下属性，它们分别的意义是：</p><table><thead><tr><th><strong>属性名</strong></th><th><strong>用途</strong></th></tr></thead><tbody><tr><td>left</td><td>至左显示</td></tr><tr><td>data-title</td><td>歌曲名，用于自定义歌曲</td></tr><tr><td>data-artist</td><td>艺术家，用于自定义歌曲</td></tr><tr><td>data-cover</td><td>专辑封面图片链接，用于自定义歌曲</td></tr><tr><td>data-link</td><td>歌曲地址，用于自定义歌曲</td></tr><tr><td>data-cid</td><td>网易云音乐的 ID，如果编写了此项目，将忽略以上 data-*设置</td></tr></tbody></table><p>将以上属性放在<code>&lt;sqp&gt;</code>​ 标签内即可生效。</p><h2 id="修改歌曲-网易云">修改歌曲-网易云</h2><h3 id="歌单ID">歌单ID</h3><p>打开网易云找到喜欢的歌单，浏览器地址栏会显示ID</p><p><img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730314435092-31479aa8-9638-4a64-a7eb-52e69244c322.png" alt=""></p><p>将该ID填写到<code>https://api.moeyao.cn/meting/?type=playlist&amp;id=</code>连接中，可查看到返回的Json数据。</p><p><img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1730314761553-c0bf9c71-0f88-44d6-a8e6-1acd992ded57.png" alt=""></p><p>可以根据返回的歌单Json在html页面的<code>body</code>中手动修改成喜欢的单曲。无需改动SQPlayer.js</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sqp</span> <span class="attr">data-title</span>=<span class="string">&quot;라라라&quot;</span> <span class="attr">data-artist</span>=<span class="string">&quot;淑熙&quot;</span> <span class="attr">data-cover</span>=<span class="string">&quot;https://api.moeyao.cn/meting/?server=netease&amp;type=cover&amp;id=5357743&quot;</span> <span class="attr">data-link</span>=<span class="string">&quot;https://api.moeyao.cn/meting/?server=netease&amp;type=url&amp;id=5357743&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">sqp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>此外，也可以通过修改SQPlayer.js文件来引用单曲。</p><p>首先，在html页面的<code>body</code>中引用歌单id</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">sqp</span> <span class="attr">data-cid</span>=<span class="string">&quot;6846019260&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">sqp</span>&gt;</span></span><br></pre></td></tr></table></figure><p>还要修改SQPlayer.js文件，</p><ul class="lvl-0"><li class="lvl-2"><p><code>fetch()</code></p></li><li class="lvl-2"><p><code>const item = items[0];</code>中[0]表示第一首歌，依此类推，选择对应的单曲</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">setupByCloudMusic = <span class="function">(<span class="params">cid, server</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> getData = &#123;</span><br><span class="line">    <span class="string">&quot;moeyao&quot;</span>: <span class="function">() =&gt;</span> (</span><br><span class="line">      <span class="title function_">fetch</span>(<span class="string">`https://api.moeyao.cn/meting/?type=playlist&amp;id=<span class="subst">$&#123;cid&#125;</span>`</span>).<span class="title function_">then</span>(</span><br><span class="line">        <span class="function">(<span class="params">res</span>) =&gt;</span> res.<span class="title function_">json</span>()</span><br><span class="line">      ).<span class="title function_">then</span>(<span class="function">(<span class="params">items</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> item = items[<span class="number">0</span>]; <span class="comment">// 获取list第一首歌曲</span></span><br><span class="line">        <span class="keyword">if</span> (!item) &#123;</span><br><span class="line">          <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;返回数据为空&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setup</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: item.<span class="property">name</span>,</span><br><span class="line">          <span class="attr">artist</span>: item.<span class="property">artist</span>,</span><br><span class="line">          <span class="attr">cover</span>: item.<span class="property">cover</span>,</span><br><span class="line">          <span class="attr">link</span>: item.<span class="property">url</span></span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;)</span><br><span class="line">    ),</span><br><span class="line">    <span class="comment">// &quot;paul&quot;: () =&gt; (</span></span><br><span class="line">    <span class="comment">//   fetch(`https://api.paugram.com/netease/?id=$&#123;cid&#125;`).then(</span></span><br><span class="line">    <span class="comment">//     (res) =&gt; res.json()</span></span><br><span class="line">    <span class="comment">//   ).then((item) =&gt; &#123;</span></span><br><span class="line">    <span class="comment">//     this.setup(item);</span></span><br><span class="line">    <span class="comment">//   &#125;)</span></span><br><span class="line">    <span class="comment">// ),</span></span><br><span class="line">  &#125;;</span><br></pre></td></tr></table></figure><h2 id="参考">参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly9kb2NzLnBhdWwucmVuL3NxdWFyZS8jLw==">Square Player 文档<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;SQPlayer一个简洁到极致的单曲播放器。代码由奇趣保罗(&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9wYXVncmFtLmNvbQ==&quot;&gt;https://paugram.com&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;)原创，并遵守 MIT 开源协议。&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="音乐" scheme="https://blog.leafminer.cn/tags/%E9%9F%B3%E4%B9%90/"/>
    
    <category term="播放器" scheme="https://blog.leafminer.cn/tags/%E6%92%AD%E6%94%BE%E5%99%A8/"/>
    
    <category term="SQPlayer" scheme="https://blog.leafminer.cn/tags/SQPlayer/"/>
    
  </entry>
  
  <entry>
    <title>【转载】用R语言解读凯利公式</title>
    <link href="https://blog.leafminer.cn/2024/10/24/2f91b3f1804e/"/>
    <id>https://blog.leafminer.cn/2024/10/24/2f91b3f1804e/</id>
    <published>2024-10-24T03:25:06.000Z</published>
    <updated>2024-10-24T05:52:24.678Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344529-c6787778-5607-423b-9ba3-654cac0128b7.png" alt="">​</p><span id="more"></span><blockquote><p><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS9zZXJpZXMtaXQtZmluYW5jZS8=">用IT技术玩金融系列文章<i class="fa fa-external-link-alt"></i></span>，将介绍如何使用IT技术，处理金融大数据。在互联网混迹多年，已经熟练掌握一些IT技术。单纯地在互联网做开发，总觉得使劲的方式不对。要想靠技术养活自己，就要把技术变现。通过“跨界”可以寻找新的机会，创造技术的壁垒。</p><p>金融是离钱最近的市场，也是变现的好渠道！今天就开始踏上“用IT技术玩金融”之旅！</p><p><strong>关于作者：</strong></p><ul class="lvl-1"><li class="lvl-2"><p>张丹(Conan), 程序员R,Nodejs,Java</p></li><li class="lvl-2"><p>weibo：@Conan_Z</p></li><li class="lvl-2"><p>blog: <span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS8=">http://blog.fens.me<i class="fa fa-external-link-alt"></i></span></p></li><li class="lvl-2"><p>email: <span class="exturl" data-url="bWFpbHRvOmJzc3Bpcml0QGdtYWlsLmNvbQ==">bsspirit@gmail.com<i class="fa fa-external-link-alt"></i></span></p></li></ul><p><strong>转载请注明出处：</strong><br><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS9maW5hbmNlLWtlbGx5">http://blog.fens.me/finance-kelly<i class="fa fa-external-link-alt"></i></span></p></blockquote><p>‍</p><p><strong>前言</strong></p><p>职业做投机交易的人，应该都听说过凯利公式，这是一个通过计算胜率和赔率，来选择最佳投注比例的公式，目的是长期获得最高的盈利。</p><p>只要找到长期看必胜的局，接下来就是让时间帮我们赚钱了。</p><h2 id="1-开始赌局">1. 开始赌局</h2><p>设游戏赌局，你赢的概率是80%，输的概率是20%，赢时的净收益率是100%，输时的亏损率也是100%。如果赢，你每赌1元可以赢得1元；如果输，则每赌1元将会输掉1元。赌局可以进行无限次，每次下的赌注可由你自己任意定。如果你的初始资金是100元，那么怎么样下注，才能使得长期收益最大？</p><p>对于胜率80%，从感觉上应该是很有把握的事情了。那么我们先主观判断一次，用90%的仓位去赌一下，看看结果怎么呢？如果下注10次，按80%胜率，8次胜，2次负。我们来算一下最后的结果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"># 设置胜负，1胜，0负</span><br><span class="line">&gt; win&lt;-c(1,1,1,0,1,1,0,1,1,1)</span><br><span class="line"> </span><br><span class="line"># 分别按投注计算每回合的剩余资金 </span><br><span class="line">&gt; a1&lt;-(1+0.9)*100</span><br><span class="line">&gt; a2&lt;-a1*(1+0.9)</span><br><span class="line">&gt; a3&lt;-a2*(1+0.9)</span><br><span class="line">&gt; a4&lt;-a3*0.1</span><br><span class="line">&gt; a5&lt;-a4*(1+0.9)</span><br><span class="line">&gt; a6&lt;-a5*(1+0.9)</span><br><span class="line">&gt; a7&lt;-a6*0.1</span><br><span class="line">&gt; a8&lt;-a7*(1+0.9)</span><br><span class="line">&gt; a9&lt;-a8*(1+0.9)</span><br><span class="line">&gt; a10&lt;-a9*(1+0.9)</span><br><span class="line"> </span><br><span class="line">&gt; dat&lt;-c(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)</span><br><span class="line">&gt; df&lt;-data.frame(win,dat)</span><br><span class="line"></span><br><span class="line"># 打印剩余资金列表</span><br><span class="line">&gt; df</span><br><span class="line">   win      dat</span><br><span class="line">1    1 190.0000</span><br><span class="line">2    1 361.0000</span><br><span class="line">3    1 685.9000</span><br><span class="line">4    0  68.5900</span><br><span class="line">5    1 130.3210</span><br><span class="line">6    1 247.6099</span><br><span class="line">7    0  24.7610</span><br><span class="line">8    1  47.0459</span><br><span class="line">9    1  89.3872</span><br><span class="line">10   1 169.8356</span><br></pre></td></tr></table></figure><p>10次交易后，赢了8次，只输了2次，我们从100元本金，上升到了169元，收益率为69%，还是不错的。最高的时候，资金为685元，收益率为685%，赚了6倍多。最低则是只剩下24元，真是赔的好惨啊！</p><p>接下来，画出资金曲线。这是一个过山车式的曲线，赚钱的时候非常猛，一旦赌输了，就产生了巨大的亏损。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 画出资金曲线 </span><br><span class="line">&gt; plot(df$dat,type=&#x27;l&#x27;)</span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344462-88879fa4-2013-4a2b-80ec-d33e03bc4fa7.png" alt=""><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wMy8wMS5wbmc=">http://blog.fens.me/wp-content/uploads/2018/03/01.png<i class="fa fa-external-link-alt"></i></span></p><p>曲线很陡峭，波动很大，回撤也很大，完全就是在赌博。</p><p>怎么样才能让资金曲线好看一些呢？如果每次下注用少一点资金，是不是会更好呢？那么我继续试一下。分别计算每次下注资金为 60%，40%，20%，10%的4个维度的仓位的情况。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&gt; library(magrittr)</span><br><span class="line"></span><br><span class="line"># 定义现金流量函数：win=胜负结果,b=赔率,pos=仓位</span><br><span class="line">&gt; postion&lt;-function(win,b=1,pos=0.6)&#123;            # 省略代码</span><br><span class="line">+ &#125;</span><br><span class="line"> </span><br><span class="line"># 设置胜负，1胜，0负</span><br><span class="line">&gt; win&lt;-c(1,1,1,0,1,1,0,1,1,1) </span><br><span class="line">&gt; prob&lt;-0.8                      # 胜率</span><br><span class="line">&gt; n&lt;-10                          # 赌局数</span><br><span class="line">&gt; b&lt;-1                           # 赔率</span><br><span class="line">&gt; caption&lt;-100                   # 金额</span><br><span class="line"> </span><br><span class="line"># 分别计算不同仓位的剩余现金</span><br><span class="line">&gt; pos90&lt;-postion(win,b,0.9)*caption</span><br><span class="line">&gt; pos60&lt;-postion(win,b,0.6)*caption</span><br><span class="line">&gt; pos40&lt;-postion(win,b,0.4)*caption</span><br><span class="line">&gt; pos20&lt;-postion(win,b,0.2)*caption</span><br><span class="line">&gt; pos10&lt;-postion(win,b,0.1)*caption</span><br><span class="line"></span><br><span class="line"># 合并到数据框</span><br><span class="line">&gt; df1&lt;-data.frame(win,pos90,pos60,pos40,pos20,pos10)</span><br><span class="line"></span><br><span class="line"># 打印计算结果</span><br><span class="line">&gt; df1</span><br><span class="line">   win    pos90   pos60   pos40   pos20   pos10</span><br><span class="line">1    1 190.0000 160.000 140.000 120.000 110.000</span><br><span class="line">2    1 361.0000 256.000 196.000 144.000 121.000</span><br><span class="line">3    1 685.9000 409.600 274.400 172.800 133.100</span><br><span class="line">4    0  68.5900 163.840 164.640 138.240 119.790</span><br><span class="line">5    1 130.3210 262.144 230.496 165.888 131.769</span><br><span class="line">6    1 247.6099 419.430 322.694 199.066 144.946</span><br><span class="line">7    0  24.7610 167.772 193.617 159.252 130.451</span><br><span class="line">8    1  47.0459 268.435 271.063 191.103 143.496</span><br><span class="line">9    1  89.3872 429.497 379.489 229.324 157.846</span><br><span class="line">10   1 169.8356 687.195 531.284 275.188 173.631</span><br></pre></td></tr></table></figure><p>我们看到，只是简单地调整了交易的仓位比例，那么交易10次后，你剩余的现是就是有很大的不同的。其中pos60列，即60%仓位的交易，获得的回报最高为687元，而90%的仓位获得的回报，是这里面最少的。而且非常有意思的是，后面的4种仓位设置，每次交易后的资金都大于100元的原始本金。</p><p>画出资金曲线</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&gt; library(ggplot2)</span><br><span class="line">&gt; library(scales)</span><br><span class="line">&gt; library(reshape2)</span><br><span class="line"></span><br><span class="line"># 数据转型 </span><br><span class="line">&gt; df1$num&lt;-1:nrow(df1)</span><br><span class="line">&gt; df&lt;-melt(df1[,-1],id.vars=&quot;num&quot;)</span><br><span class="line"> </span><br><span class="line"># 画图 </span><br><span class="line">&gt; g&lt;-ggplot(df,aes(x=num,y=value,colour=variable ))</span><br><span class="line">&gt; g&lt;-g+geom_line()</span><br><span class="line">&gt; g</span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344448-0050ef70-3377-47f6-9d54-5505fb1af9e4.png" alt=""><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wMy8wNS5wbmc=">http://blog.fens.me/wp-content/uploads/2018/03/05.png<i class="fa fa-external-link-alt"></i></span></p><p>从图中可以看到，对于高胜率的情况，大的仓位是可以有高回报的，但是风险也大；小仓位是相对平稳的增长。</p><h2 id="2-凯利公式">2. 凯利公式</h2><p>那么多少的仓位是最优的呢？接下来的问题，就是凯利公式会告诉我们的。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1712588345313-52f8ea2d-65d1-4255-90bf-948a768b5e60.jpeg" alt="">​</p><p>在概率论中，凯利公式（The Kelly Criterion）是一个用以使特定赌局中，拥有正期望值之重复行为长期增长率最大化的公式，由约翰·拉里·凯利于1956年在《贝尔系统技术期刊》中发表，可用以计算出每次游戏中应投注的资金比例。</p><p>除可将长期增长率最大化外，此公式不会在任何赌局中，有失去全部现有资金的可能，因此有不存在破产疑虑的优点。公式中，假设货币与赌局可无限分割，只要资金足够多，长期一定是会赚到钱的。</p><p>凯利公式的最一般性陈述为，寻找能最大化结果对数期望值的资本比例f，即可获得长期增长率的最大化。对于只有两种结果的简单赌局而言，即 输失去所有本金，胜获得资金乘以特定的赔率。</p><p>可以用下面公式来表示：</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1712588344600-f8c6da23-61c0-4a8e-b65e-53639a69d53e.jpeg" alt=""><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wMy9rZWxseS5qcGc=">http://blog.fens.me/wp-content/uploads/2018/03/kelly.jpg<i class="fa fa-external-link-alt"></i></span></p><p>其中</p><ul class="lvl-0"><li class="lvl-2"><p>f* 投注的比例</p></li><li class="lvl-2"><p>b 赔率，盈亏比，即平均一次盈利与一次亏损两者的比例</p></li><li class="lvl-2"><p>p 胜率</p></li><li class="lvl-2"><p>q 败率，即 1 – p</p></li></ul><p>用凯利公式对上面的例子进行测试，胜率p=0.8，失败率q=1-p=0.2，赔率b=1，失败则下注资金完全损失，计算下注比例为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f* = (b*p-q)/b = (1*0.8-0.2)/1=0.6</span><br></pre></td></tr></table></figure><p>所以，赌客应在每次机会中下注现有资金的60%，可以获得最大化资金的长期增长率。</p><p>通过数学变型，可以很容易得到凯利公式的另一种表达式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Kelly % = W – [(1 – W) / R]</span><br></pre></td></tr></table></figure><p>其中Kelly % 就是上式中的f*，W就是p胜率，R就是b赔率。两者看似不同，其实完全等效一致。</p><p>对于上面的例子，我们可以计算</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Kelly % = W – [(1 – W) / R] = 0.8-[(1-0.8)/1] = 0.6</span><br></pre></td></tr></table></figure><p>凯利公式，有一个优化的变型。如果每次下注失败后，不是全部亏损，只是亏损部分，我们对上面公式可以做一个优化，增加亏损比例参数c，公式改写为下面格式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f* =  (b*p-c*q)/c*b</span><br></pre></td></tr></table></figure><p>其中</p><ul class="lvl-0"><li class="lvl-2"><p>f* 投注的比例</p></li><li class="lvl-2"><p>b 赔率，盈亏比，即平均一次盈利与一次亏损两者的比例</p></li><li class="lvl-2"><p>p 胜率</p></li><li class="lvl-2"><p>q 败率，即 1 – p</p></li><li class="lvl-2"><p>c 亏损比例</p></li></ul><p>对于上面的例子，如果每次亏损是c=0.8，其他条件不变，那么我们应该用什么仓位进行交易呢？</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">f* = (b*p-q)/b = (1*0.8-0.8*0.2)/(0.8*1)=0.8</span><br></pre></td></tr></table></figure><p>通过计算结果是0.8，我可以增大仓位。</p><p>凯利公式定义了长期获得最高的盈利的仓位确认的计算方法，我们自己也可以按照凯利公式的数学定义，进行推到一下。</p><p>假设一个赌局，每投资1，有p的概率可获得额外正收益W，有q=1-p的概率可获得额外的负收益-L，每次投资比例为x，建立收益为f(x)的目标函数，使得期望收益最大化。</p><p>转化为规划问题：</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588346022-8b6d605c-a269-4362-98f7-119d42a8b2f4.png" alt=""><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wMy8wMy5wbmc=">http://blog.fens.me/wp-content/uploads/2018/03/03.png<i class="fa fa-external-link-alt"></i></span></p><p>从推到可看出，标准的凯利公式只是当L=1的情况是一个应用，通过优化可增加了亏损比例参数。</p><h2 id="3-赌局的最优解">3. 赌局的最优解</h2><p>我们已经把公式介绍的很清楚了，那么接下来，就可以用程序实现进行实现了。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 凯利公式，实现函数</span><br><span class="line">&gt; kelly&lt;-function(prob,b=1,loss=1)&#123;   # 省略代码</span><br><span class="line">+ &#125;</span><br></pre></td></tr></table></figure><p>用凯利公式计算的上文中的例子。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt; prob&lt;-0.8                     # 胜率</span><br><span class="line">&gt; b&lt;-1                          # 赔率</span><br><span class="line">&gt; k&lt;-kelly(prob,b,1);k</span><br><span class="line">[1] 0.6</span><br></pre></td></tr></table></figure><p>这时通过凯利公式，我们就能算出最最优的解其实是0.6的仓位设置，也就可以解释，上面的结果60%的仓位占比，获得的收益是最大的。</p><p>接下来，我们再比较一下不同的胜率和赔率的最优解是什么？</p><p>大胜率和大赔率时，可以重仓。当80%的胜率，2倍赔率时，仓位为70%。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.8,2)</span><br><span class="line">[1] 0.7</span><br></pre></td></tr></table></figure><p>通常情况下的赌局，不足50%的胜率，高赔率时，可以轻仓。当45%的胜率，2倍赔率时，仓位为17.5%。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.45,2)</span><br><span class="line">[1] 0.175</span><br></pre></td></tr></table></figure><p>通常情况下的赌局，不足50%的胜率，低赔率时，不要参考。当45%的胜率，1倍赔率时，不参与赌局。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.45,1)</span><br><span class="line">[1] &quot;Lost!!!&quot;</span><br><span class="line">[1] 0</span><br></pre></td></tr></table></figure><p>小胜率，中等赔率时，不要参与。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.2,1)</span><br><span class="line">[1] &quot;Lost!!!&quot;</span><br><span class="line">[1] 0</span><br></pre></td></tr></table></figure><p>小胜率，中等赔率时，中等损失，不要参与。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.2,1,0.5)</span><br><span class="line">[1] &quot;Lost!!!&quot;</span><br><span class="line">[1] 0</span><br></pre></td></tr></table></figure><p>小胜率，中等赔率时，很小损失，可以All in。很小的损失比例，其实是变相的增大了赔率。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.2,1,0.1)</span><br><span class="line">[1] &quot;All In&quot;</span><br><span class="line">[1] 1</span><br></pre></td></tr></table></figure><p>大胜率，很小赔率，很小损失，All in。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.8,0.1,0.1)</span><br><span class="line">[1] &quot;All In&quot;</span><br><span class="line">[1] 1</span><br></pre></td></tr></table></figure><p>中胜率，很小赔率，很小损失，不要参与。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(0.45,0.1,0.1)</span><br><span class="line">[1] &quot;Lost!!!&quot;</span><br><span class="line">[1] 0</span><br></pre></td></tr></table></figure><p>总结一下，投机操作的游戏规则。</p><table><thead><tr><th>胜率</th><th>赔率</th><th>损失率</th><th>仓位</th><th>指导建议</th><th>备注</th></tr></thead><tbody><tr><td>80%</td><td>2</td><td>100%</td><td>70%</td><td>重仓</td><td>大胜率、大赔率、全部损失</td></tr><tr><td>45%</td><td>2</td><td>100%</td><td>17.5%</td><td>轻仓</td><td>中胜率、大赔率、全部损失</td></tr><tr><td>45%</td><td>1</td><td>100%</td><td>0</td><td>离场</td><td>中胜率、中赔率、全部损失</td></tr><tr><td>20%</td><td>1</td><td>100%</td><td>0</td><td>离场</td><td>小胜率、中赔率、全部损失</td></tr><tr><td>20%</td><td>1</td><td>50%</td><td>0</td><td>离场</td><td>小胜率、中赔率、中等损失</td></tr><tr><td>20%</td><td>1</td><td>10%</td><td>100%</td><td>满仓</td><td>小胜率、中赔率、小损失</td></tr><tr><td>80%</td><td>10%</td><td>10%</td><td>100%</td><td>满仓</td><td>大胜率、小赔率、小损失</td></tr><tr><td>45%</td><td>10%</td><td>10%</td><td>0</td><td>离场</td><td>中胜率、小赔率、小损失</td></tr></tbody></table><p>这样我们就判断出，哪些投机操作值得玩，哪些不能玩，应该怎么玩。是不是很神奇！！</p><h2 id="4-让时间帮我们赚钱">4. 让时间帮我们赚钱</h2><p>根据凯利公式的定义，赌局可以进行无限次，那么当真的把赌局设置为很大时，会是什么情况呢？</p><p>我们把第一次的数据，进行100次的赌局，胜率为80%，赔率为1，金额100元，看一下结果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&gt; n&lt;-100                          # 赌局数</span><br><span class="line">&gt; prob&lt;-0.8                       # 胜率</span><br><span class="line">&gt; b&lt;-1                            # 赔率</span><br><span class="line">&gt; caption&lt;-100                    # 金额</span><br><span class="line"></span><br><span class="line"># 基本二项分布，生成每盘的赌局正负</span><br><span class="line">&gt; set.seed(1)</span><br><span class="line">&gt; win&lt;-rbinom(n,1,prob)</span><br><span class="line"> </span><br><span class="line"># 生成每盘的资金</span><br><span class="line">&gt; pos90&lt;-postion(win,b,0.9)*caption   # 90%仓位</span><br><span class="line">&gt; pos60&lt;-postion(win,b,0.6)*caption   # 60%仓位</span><br><span class="line">&gt; pos40&lt;-postion(win,b,0.4)*caption   # 40%仓位</span><br><span class="line">&gt; pos20&lt;-postion(win,b,0.2)*caption   # 20%仓位</span><br><span class="line">&gt; pos10&lt;-postion(win,b,0.1)*caption   # 10%仓位</span><br><span class="line"></span><br><span class="line"># 打印数据</span><br><span class="line">&gt; df2&lt;-data.frame(win,pos90,pos60,pos40,pos20,pos10)</span><br><span class="line">&gt; tail(df2)</span><br><span class="line">    win     pos90       pos60       pos40   pos20   pos10</span><br><span class="line">95    1 105083487 5.73375e+11  9874948167 5067085 34506.6</span><br><span class="line">96    1 199658625 9.17399e+11 13824927434 6080503 37957.3</span><br><span class="line">97    1 379351388 1.46784e+12 19354898407 7296603 41753.0</span><br><span class="line">98    1 720767637 2.34854e+12 27096857770 8755924 45928.3</span><br><span class="line">99    0  72076764 9.39417e+11 16258114662 7004739 41335.5</span><br><span class="line">100   1 136945851 1.50307e+12 22761360527 8405687 45469.0</span><br></pre></td></tr></table></figure><p>从100盘赌局后的结果来看，60%的仓位可以获得最高收益的，为1.50307e+12，比其他的仓位都要高少非常。</p><p>接下来，我们生成资金曲线图。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 数据转型</span><br><span class="line">&gt; df2$num&lt;-1:nrow(df2)</span><br><span class="line">&gt; df&lt;-melt(df2[,-1],id.vars = &quot;num&quot;)</span><br><span class="line"></span><br><span class="line"># 画图 </span><br><span class="line">&gt; g&lt;-ggplot(df,aes(x=num,y=value,colour=variable ))</span><br><span class="line">&gt; g&lt;-g+geom_line()</span><br><span class="line">&gt; g&lt;-g+scale_y_log10()  # y坐标轴log化</span><br><span class="line">&gt; g</span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588346270-a13eaf9e-8ca6-4cea-9c08-e027a1e57107.png" alt=""><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS93cC1jb250ZW50L3VwbG9hZHMvMjAxOC8wMy8wNi5wbmc=">http://blog.fens.me/wp-content/uploads/2018/03/06.png<i class="fa fa-external-link-alt"></i></span></p><p>资金曲线图能非常直观地告诉了我们，什么的仓位有什么样曲线形状。你如果追求低风险，就用10%仓位稳健上涨。90%接近满仓并不是最赚钱的，反而是60%的仓位是有最大的回报。</p><p>我们再用凯利公式进行计算，可以发现结果最优的结果也是60%。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt; kelly(prob,1)</span><br><span class="line">[1] 0.6</span><br></pre></td></tr></table></figure><p>神奇的算法，可以有效的帮我们控制仓位，最大化长期收益。只要找到长期必胜的局，接下来就是让时间帮我们赚钱了。下一篇文章，将介绍凯利公式在金融市场应用的应用。</p><p>写文章很辛苦，如果需要获得本文源代码或加入量化投资社群，请扫下面二维码，请作者喝杯咖啡。</p><p><strong>转载请注明出处：</strong><br><span class="exturl" data-url="aHR0cDovL2Jsb2cuZmVucy5tZS9maW5hbmNlLWtlbGx5">http://blog.fens.me/finance-kelly<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344529-c6787778-5607-423b-9ba3-654cac0128b7.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="转载" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/"/>
    
    <category term="学习" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="R语言" scheme="https://blog.leafminer.cn/tags/R%E8%AF%AD%E8%A8%80/"/>
    
    <category term="金融" scheme="https://blog.leafminer.cn/tags/%E9%87%91%E8%9E%8D/"/>
    
    <category term="赌博" scheme="https://blog.leafminer.cn/tags/%E8%B5%8C%E5%8D%9A/"/>
    
    <category term="凯利公式" scheme="https://blog.leafminer.cn/tags/%E5%87%AF%E5%88%A9%E5%85%AC%E5%BC%8F/"/>
    
    <category term="最佳投注" scheme="https://blog.leafminer.cn/tags/%E6%9C%80%E4%BD%B3%E6%8A%95%E6%B3%A8/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题启用pdf预览</title>
    <link href="https://blog.leafminer.cn/2024/10/24/45415e09698e/"/>
    <id>https://blog.leafminer.cn/2024/10/24/45415e09698e/</id>
    <published>2024-10-23T19:02:20.000Z</published>
    <updated>2024-10-23T19:05:39.866Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729710044697-25d03133-64ad-4f82-89ae-756f70a8d686.png" alt="">​</p><span id="more"></span><h1>下载安装</h1><p>不需要安装额外的插件，Next主题有自带<code>pdf.js</code>​文件。</p><p>如果没有可以自行下载，将<code>pdf.js</code>​文件放到<code>\node_modules\hexo-theme-next\scripts\tags\</code>​文件夹下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git submodule add https://github.com/next-theme/theme-next-pdf</span><br></pre></td></tr></table></figure><h1>主题配置</h1><p>Next主题 <code>_config.next.yml</code>​ 文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pdf:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Default height</span></span><br><span class="line">  <span class="attr">height:</span> <span class="string">500px</span></span><br></pre></td></tr></table></figure><h1>使用</h1><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">pdf</span> <span class="string">url</span> [<span class="string">height</span>] <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>​<code>url</code>​ : pdf文件的URL (绝对路径) 。</p></li><li class="lvl-2"><p>​<code>[height]</code>​ : <em>可选.</em>  PDF文件展示高度, e.g. 800px.</p></li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">pdf</span> <span class="string">https://example.com/sample.pdf</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">pdf</span> <span class="string">/path/to/your/file.pdf</span> <span class="string">600px</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly90aGVtZS1uZXh0LmpzLm9yZy9kb2NzL3RhZy1wbHVnaW5zL3BkZg==">PDF | NexT<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1729710044697-25d03133-64ad-4f82-89ae-756f70a8d686.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="学习" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="pdf" scheme="https://blog.leafminer.cn/tags/pdf/"/>
    
    <category term="预览" scheme="https://blog.leafminer.cn/tags/%E9%A2%84%E8%A7%88/"/>
    
    <category term="插件" scheme="https://blog.leafminer.cn/tags/%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>人类还有95%的问题待解决</title>
    <link href="https://blog.leafminer.cn/2024/10/23/7b5efa398b63/"/>
    <id>https://blog.leafminer.cn/2024/10/23/7b5efa398b63/</id>
    <published>2024-10-23T01:07:55.000Z</published>
    <updated>2024-10-23T18:50:03.067Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><h1><center>《一想到还有95%的问题留给人类，我就放心了》</center></h1><span id="more"></span><div class="pdf-container" data-target="/uploads/kepu1.pdf" data-height="500px"></div><p>‍</p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;h1&gt;&lt;center&gt;《一想到还有95%的问题留给人类，我就放心了》&lt;/center&gt;&lt;/h1&gt;</summary>
    
    
    
    <category term="转载" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/"/>
    
    <category term="学习" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="pdf" scheme="https://blog.leafminer.cn/tags/pdf/"/>
    
    <category term="问题" scheme="https://blog.leafminer.cn/tags/%E9%97%AE%E9%A2%98/"/>
    
    <category term="电子书" scheme="https://blog.leafminer.cn/tags/%E7%94%B5%E5%AD%90%E4%B9%A6/"/>
    
    <category term="宇宙" scheme="https://blog.leafminer.cn/tags/%E5%AE%87%E5%AE%99/"/>
    
    <category term="时空" scheme="https://blog.leafminer.cn/tags/%E6%97%B6%E7%A9%BA/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题图片懒加载</title>
    <link href="https://blog.leafminer.cn/2024/10/22/d852ddbbc257/"/>
    <id>https://blog.leafminer.cn/2024/10/22/d852ddbbc257/</id>
    <published>2024-10-22T14:01:44.000Z</published>
    <updated>2024-10-22T14:11:10.799Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3R1dXBvbGEvanF1ZXJ5X2xhenlsb2Fk">jquery-lazyload<i class="fa fa-external-link-alt"></i></span> for <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQ=">NexT<i class="fa fa-external-link-alt"></i></span></p><span id="more"></span><h1>下载安装</h1><p>下载<code>theme-next-jquery-lazyload</code>​</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">git <span class="built_in">clone</span> https://github.com/theme-next/theme-next-jquery-lazyload</span></span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729605275227-91c937f4-75eb-44c9-bf3e-45e7e89ac1d1.png" alt="">​</p><p>找到<code>jquery.lazyload.js</code>​文件，将该文件放到<code>node_modules\hexo-theme-next\source\js\</code>​文件夹下</p><h1>主题配置</h1><p>Next主题 <code>_config.next.yml</code>​ 文件:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">lazyload:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h1>查看是否生效</h1><p>在<code>hexo cl &amp;&amp; hexo g</code>​之后，进入自己的网页，随意对任一图片进行”审查元素”，如果你的<code>img</code>​元素中包含<code>data-loaded=&quot;true&quot;</code>​，说明Lazyload已经生效。</p><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729605648458-03e867d3-eb46-4132-9cf9-725a05dda05e.png" alt="">​</p><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly91cHdub3RoaW5nLmdpdGh1Yi5pby96aC1DTi80NGJmOGRlZi8jZ29vZ2xlX3ZpZ25ldHRl">Hexo + NexT 深度个性化配置 (2020.1 更新) | UPWNothing's Playground<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9naXRodWIuY29tL3R1dXBvbGEvanF1ZXJ5X2xhenlsb2Fk&quot;&gt;jquery-lazyload&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt; for &lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9naXRodWIuY29tL3RoZW1lLW5leHQ=&quot;&gt;NexT&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="加载" scheme="https://blog.leafminer.cn/tags/%E5%8A%A0%E8%BD%BD/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="图片" scheme="https://blog.leafminer.cn/tags/%E5%9B%BE%E7%89%87/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题添加丝带背景</title>
    <link href="https://blog.leafminer.cn/2024/10/22/e49567454975/"/>
    <id>https://blog.leafminer.cn/2024/10/22/e49567454975/</id>
    <published>2024-10-22T13:35:31.000Z</published>
    <updated>2024-10-23T17:32:43.511Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729603831901-97d71810-1f8c-40a4-9abe-bff40b36490e.png" alt="">​</p><span id="more"></span> <h1>主题配置</h1><p>主题的配置文件<code>_config.next.yml</code>​</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Generate a ribbon in your website with HTML5 canvas.</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/hustcc/ribbon.js</span></span><br><span class="line"><span class="attr">canvas_ribbon:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">size:</span> <span class="number">300</span> <span class="comment"># The width of the ribbon</span></span><br><span class="line">  <span class="attr">alpha:</span> <span class="number">0.6</span> <span class="comment"># The transparency of the ribbon</span></span><br><span class="line">  <span class="attr">zIndex:</span> <span class="number">-1</span> <span class="comment"># The display level of the ribbon</span></span><br></pre></td></tr></table></figure></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1729603831901-97d71810-1f8c-40a4-9abe-bff40b36490e.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="丝带背景" scheme="https://blog.leafminer.cn/tags/%E4%B8%9D%E5%B8%A6%E8%83%8C%E6%99%AF/"/>
    
    <category term="博客" scheme="https://blog.leafminer.cn/tags/%E5%8D%9A%E5%AE%A2/"/>
    
    <category term="主题" scheme="https://blog.leafminer.cn/tags/%E4%B8%BB%E9%A2%98/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题添加相关文章推荐功能</title>
    <link href="https://blog.leafminer.cn/2024/10/22/9a5a0568022f/"/>
    <id>https://blog.leafminer.cn/2024/10/22/9a5a0568022f/</id>
    <published>2024-10-22T12:49:03.000Z</published>
    <updated>2024-10-23T18:20:46.696Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>使用Hexo-Related-Posts插件添加相关文章推荐。<s><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RlYTMvaGV4by1yZWxhdGVkLXBvcHVsYXItcG9zdHM=">Hexo-Related-Popular-Posts<i class="fa fa-external-link-alt"></i></span><s>​</s>插件</s>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729707074765-64c65e8e-e07c-4dbe-8b5e-2bcfc623695d.png" alt="">​</p><span id="more"></span><h1>Hexo-Related-Posts插件</h1><h2 id="安装插件">安装插件</h2><p>于博客站点根目录打开Git Bash，运行下面的命令：</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-related-posts --save</span><br></pre></td></tr></table></figure><h2 id="主题配置">主题配置</h2><p>Next主题的配置文件<code>_config.next.yml</code>​</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Custom header, leave empty to use the default one 设置推荐区块的标题</span></span><br><span class="line">  <span class="attr">title:</span>   </span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0</span></span><br><span class="line">    <span class="comment">#isDate: false</span></span><br><span class="line">    <span class="comment">#isImage: false</span></span><br><span class="line">    <span class="comment">#isExcerpt: false</span></span><br></pre></td></tr></table></figure><h2 id="修改样式">修改样式</h2><p>打开文件<code>hexo\node_modules\hexo-theme-next\layout\_partials\post\post-related.njk</code>​</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;div</span> <span class="string">class=&quot;links-of-blogroll-title&quot;&gt;</span></span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">theme.related_posts.icon</span> <span class="string">%</span>&#125;<span class="string">&lt;i</span> <span class="string">class=&quot;&#123;&#123;</span> <span class="string">theme.related_posts.icon</span> <span class="string">&#125;&#125;</span> <span class="string">fa-fw&quot;&gt;&lt;/i&gt;&#123;%</span> <span class="string">endif</span> <span class="string">%&#125;</span></span><br><span class="line">  &#123;&#123; <span class="string">__(&#x27;post.related_posts&#x27;)</span> &#125;&#125; </span><br><span class="line"><span class="string">&lt;ul</span> <span class="string">class=&quot;popular-posts&quot;&gt;</span></span><br><span class="line">&#123;<span class="string">%-</span> <span class="string">for</span> <span class="string">path</span> <span class="string">in</span> <span class="string">page.related_posts</span> <span class="string">%</span>&#125;</span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">set</span> <span class="string">popular_post</span> <span class="string">=</span> <span class="string">site.posts.findOne(</span>&#123; <span class="attr">path:</span> <span class="string">path</span> &#125;<span class="string">)</span> <span class="string">%</span>&#125;</span><br><span class="line">  <span class="string">&lt;li</span> <span class="string">class=&quot;popular-posts-item&quot;&gt;</span></span><br><span class="line">    <span class="string">&lt;a</span> <span class="string">class=&quot;popular-posts-link&quot;</span> <span class="string">href=&quot;&#123;&#123;</span> <span class="string">url_for(popular_post.path)</span> <span class="string">&#125;&#125;&quot;</span> <span class="string">rel=&quot;bookmark&quot;&gt;</span></span><br><span class="line">    &#123;&#123; <span class="string">popular_post.title</span> &#125;&#125;</span><br><span class="line">    &#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">popular_post.date</span> <span class="string">%</span>&#125;</span><br><span class="line">      <span class="string">&lt;time</span> <span class="string">class=&quot;popular-posts-time&quot;&gt;&#123;&#123;</span> <span class="string">date(popular_post.date)</span> <span class="string">&#125;&#125;&lt;/time&gt;</span></span><br><span class="line">    &#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125;  </span><br><span class="line">    <span class="string">&lt;/a&gt;</span></span><br><span class="line">  <span class="string">&lt;/li&gt;</span></span><br><span class="line">&#123;<span class="string">%-</span> <span class="string">endfor</span> <span class="string">%</span>&#125;</span><br><span class="line"><span class="string">&lt;/ul&gt;</span> </span><br><span class="line"><span class="string">&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><h2 id="在侧边栏插入">在侧边栏插入</h2><p>打开文件<code>hexo\node_modules\hexo-theme-next\layout\_macro\sidebar.njk</code>​，插入下面的语句：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">theme.related_posts.enable</span> <span class="string">%</span>&#125;</span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">theme.pjax</span> <span class="string">%</span>&#125;</span><br><span class="line">    <span class="string">&lt;div</span> <span class="string">class=&quot;pjax&quot;&gt;</span></span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">page.related_posts</span> <span class="string">and</span> <span class="string">page.related_posts.length</span> <span class="string">&gt;</span> <span class="number">0</span> <span class="string">%</span>&#125;</span><br><span class="line">    <span class="string">&lt;div</span> <span class="string">class=&quot;sidebar-inner</span> <span class="string">sidebar-post-related&quot;&gt;</span></span><br><span class="line">      <span class="string">&lt;div</span> <span class="string">class=&quot;animated&quot;&gt;</span></span><br><span class="line">        &#123;&#123; <span class="string">partial(&#x27;_partials/post/post-related.njk&#x27;)</span> &#125;&#125;</span><br><span class="line">      <span class="string">&lt;/div&gt;</span></span><br><span class="line">    <span class="string">&lt;/div&gt;</span></span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125;  </span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">theme.pjax</span> <span class="string">%</span>&#125;</span><br><span class="line">    <span class="string">&lt;/div&gt;</span></span><br><span class="line">  &#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><h2 id="插入到文章底部">插入到文章底部</h2><p>打开文件<code>hexo\node_modules\hexo-theme-next\layout\_macro\post.njk</code>​，插入下面的语句：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%-</span> <span class="string">if</span> <span class="string">theme.related_posts.enable</span> <span class="string">and</span> <span class="string">(theme.related_posts.display_in_home</span> <span class="string">or</span> <span class="string">not</span> <span class="string">is_index)</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;&#123; <span class="string">partial(&#x27;_partials/post/post-related.njk&#x27;)</span> &#125;&#125;</span><br><span class="line">&#123;<span class="string">%-</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729705517347-0e8a63a9-10f4-4442-bcbb-1fe3d30cbbd2.png" alt="">​</p><hr><h1>[弃置]<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RlYTMvaGV4by1yZWxhdGVkLXBvcHVsYXItcG9zdHM=">Hexo-Related-Popular-Posts<i class="fa fa-external-link-alt"></i></span>不好看</h1><p>通过<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RlYTMvaGV4by1yZWxhdGVkLXBvcHVsYXItcG9zdHM=">Hexo-Related-Popular-Posts<i class="fa fa-external-link-alt"></i></span>插件实现在文章下面显示相关文章推荐。</p><h2 id="安装插件-2">安装插件</h2><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3RlYTMvaGV4by1yZWxhdGVkLXBvcHVsYXItcG9zdHM=">https://github.com/tea3/hexo-related-popular-posts<i class="fa fa-external-link-alt"></i></span></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-related-popular-posts --save</span><br></pre></td></tr></table></figure><h2 id="主题配置-2">主题配置</h2><p>Next主题的配置文件<code>_config.next.yml</code>​</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">related_posts:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># Custom header, leave empty to use the default one 设置推荐区块的标题</span></span><br><span class="line">  <span class="attr">title:</span>   </span><br><span class="line">  <span class="attr">display_in_home:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">params:</span></span><br><span class="line">    <span class="attr">maxCount:</span> <span class="number">5</span></span><br><span class="line">    <span class="comment">#PPMixingRate: 0.0</span></span><br><span class="line">    <span class="comment">#isDate: false</span></span><br><span class="line">    <span class="comment">#isImage: false</span></span><br><span class="line">    <span class="comment">#isExcerpt: false</span></span><br></pre></td></tr></table></figure><h2 id="使用">使用</h2><p>将<code>popular_posts( &#123;&#125; , post )</code>​插入到文章模板中</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;<span class="string">popular_posts(</span> &#123;&#125; , <span class="string">post</span> <span class="string">)</span>&#125;&#125;</span><br></pre></td></tr></table></figure><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly91cHdub3RoaW5nLmdpdGh1Yi5pby96aC1DTi80NGJmOGRlZi8jJUU2JUI3JUJCJUU1JThBJUEwJUU3JTlCJUI4JUU1JTg1JUIzJUU2JTk2JTg3JUU3JUFCJUEwJUU2JThFJUE4JUU4JThEJTkwJUU1JThBJTlGJUU4JTgzJUJE">Hexo + NexT 深度个性化配置 (2020.1 更新) | UPWNothing's Playground<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;使用Hexo-Related-Posts插件添加相关文章推荐。&lt;s&gt;&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly9naXRodWIuY29tL3RlYTMvaGV4by1yZWxhdGVkLXBvcHVsYXItcG9zdHM=&quot;&gt;Hexo-Related-Popular-Posts&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;s&gt;​&lt;/s&gt;插件&lt;/s&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1729707074765-64c65e8e-e07c-4dbe-8b5e-2bcfc623695d.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="插件" scheme="https://blog.leafminer.cn/tags/%E6%8F%92%E4%BB%B6/"/>
    
    <category term="相关文章" scheme="https://blog.leafminer.cn/tags/%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0/"/>
    
    <category term="推荐" scheme="https://blog.leafminer.cn/tags/%E6%8E%A8%E8%8D%90/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题添加粒子时钟特效</title>
    <link href="https://blog.leafminer.cn/2024/10/22/bdadf3e2dd86/"/>
    <id>https://blog.leafminer.cn/2024/10/22/bdadf3e2dd86/</id>
    <published>2024-10-22T09:39:54.000Z</published>
    <updated>2024-10-23T17:28:02.603Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729591197719-65af965b-a50d-422a-9301-db5223ae6cc2.png" alt="">​</p><span id="more"></span><h1>创建njk文件</h1><p>在<code>hexo\node_modules\hexo-theme-next\layout\</code>​目录下，新建<code>clock.njk</code>​文件，内容如下：</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">id</span>=<span class="string">&quot;canvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:60%;&quot;</span>&gt;</span>当前浏览器不支持canvas，请更换浏览器后再试<span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">   <span class="keyword">var</span> digit=</span></span><br><span class="line"><span class="language-javascript">    [</span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//0</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//1</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//2</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//3</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//4</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//5</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//6</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//7</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//8</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ],<span class="comment">//9</span></span></span><br><span class="line"><span class="language-javascript">        [</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">0</span>],</span></span><br><span class="line"><span class="language-javascript">            [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span></span><br><span class="line"><span class="language-javascript">        ]<span class="comment">//:</span></span></span><br><span class="line"><span class="language-javascript">    ];</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">var</span> canvas = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;canvas&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript"><span class="keyword">if</span>(canvas.<span class="property">getContext</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> cxt = canvas.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//声明canvas的宽高</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> H = <span class="number">100</span>,W = <span class="number">700</span>;</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="property">height</span> = H;</span></span><br><span class="line"><span class="language-javascript">    canvas.<span class="property">width</span> = W;</span></span><br><span class="line"><span class="language-javascript">    cxt.<span class="property">fillStyle</span> = <span class="string">&#x27;#f00&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">    cxt.<span class="title function_">fillRect</span>(<span class="number">10</span>,<span class="number">10</span>,<span class="number">50</span>,<span class="number">50</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//存储时间数据</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> data = [];</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//存储运动的小球</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> balls = [];</span></span><br><span class="line"><span class="language-javascript">    <span class="comment">//设置粒子半径</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> R = canvas.<span class="property">height</span>/<span class="number">20</span>-<span class="number">1</span>;</span></span><br><span class="line"><span class="language-javascript">    (<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> temp = <span class="regexp">/(\d)(\d):(\d)(\d):(\d)(\d)/</span>.<span class="title function_">exec</span>(<span class="keyword">new</span> <span class="title class_">Date</span>());</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成</span></span></span><br><span class="line"><span class="language-javascript">        data.<span class="title function_">push</span>(temp[<span class="number">1</span>],temp[<span class="number">2</span>],<span class="number">10</span>,temp[<span class="number">3</span>],temp[<span class="number">4</span>],<span class="number">10</span>,temp[<span class="number">5</span>],temp[<span class="number">6</span>]);</span></span><br><span class="line"><span class="language-javascript">    &#125;)();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/*生成点阵数字*/</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">renderDigit</span>(<span class="params">index,num</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digit[num].<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; digit[num][i].<span class="property">length</span>; j++)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(digit[num][i][j] == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    cxt.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">                    cxt.<span class="title function_">arc</span>(<span class="number">14</span>*(R+<span class="number">2</span>)*index + j*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),i*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),R,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>);</span></span><br><span class="line"><span class="language-javascript">                    cxt.<span class="title function_">closePath</span>();</span></span><br><span class="line"><span class="language-javascript">                    cxt.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/*更新时钟*/</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">updateDigitTime</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> changeNumArray = [];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> temp = <span class="regexp">/(\d)(\d):(\d)(\d):(\d)(\d)/</span>.<span class="title function_">exec</span>(<span class="keyword">new</span> <span class="title class_">Date</span>());</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> <span class="title class_">NewData</span> = [];</span></span><br><span class="line"><span class="language-javascript">        <span class="title class_">NewData</span>.<span class="title function_">push</span>(temp[<span class="number">1</span>],temp[<span class="number">2</span>],<span class="number">10</span>,temp[<span class="number">3</span>],temp[<span class="number">4</span>],<span class="number">10</span>,temp[<span class="number">5</span>],temp[<span class="number">6</span>]);</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = data.<span class="property">length</span>-<span class="number">1</span>; i &gt;=<span class="number">0</span> ; i--)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="comment">//时间发生变化</span></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(<span class="title class_">NewData</span>[i] !== data[i])&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="comment">//将变化的数字值和在data数组中的索引存储在changeNumArray数组中</span></span></span><br><span class="line"><span class="language-javascript">                changeNumArray.<span class="title function_">push</span>(i+<span class="string">&#x27;_&#x27;</span>+(<span class="title class_">Number</span>(data[i])+<span class="number">1</span>)%<span class="number">10</span>);</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//增加小球</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i&lt; changeNumArray.<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            addBalls.<span class="title function_">apply</span>(<span class="variable language_">this</span>,changeNumArray[i].<span class="title function_">split</span>(<span class="string">&#x27;_&#x27;</span>));</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        data = <span class="title class_">NewData</span>.<span class="title function_">concat</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/*更新小球状态*/</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">updateBalls</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            balls[i].<span class="property">stepY</span> += balls[i].<span class="property">disY</span>;</span></span><br><span class="line"><span class="language-javascript">            balls[i].<span class="property">x</span> += balls[i].<span class="property">stepX</span>;</span></span><br><span class="line"><span class="language-javascript">            balls[i].<span class="property">y</span> += balls[i].<span class="property">stepY</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span>(balls[i].<span class="property">x</span> &gt; W + R || balls[i].<span class="property">y</span> &gt; H + R)&#123;</span></span><br><span class="line"><span class="language-javascript">                balls.<span class="title function_">splice</span>(i,<span class="number">1</span>);</span></span><br><span class="line"><span class="language-javascript">                i--;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/*增加要运动的小球*/</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">addBalls</span>(<span class="params">index,num</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> numArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">var</span> colorArray =  [<span class="string">&quot;#3BE&quot;</span>,<span class="string">&quot;#09C&quot;</span>,<span class="string">&quot;#A6C&quot;</span>,<span class="string">&quot;#93C&quot;</span>,<span class="string">&quot;#9C0&quot;</span>,<span class="string">&quot;#690&quot;</span>,<span class="string">&quot;#FB3&quot;</span>,<span class="string">&quot;#F80&quot;</span>,<span class="string">&quot;#F44&quot;</span>,<span class="string">&quot;#C00&quot;</span>];</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; digit[num].<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">for</span>(<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; digit[num][i].<span class="property">length</span>; j++)&#123;</span></span><br><span class="line"><span class="language-javascript">                <span class="keyword">if</span>(digit[num][i][j] == <span class="number">1</span>)&#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="keyword">var</span> ball = &#123;</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">x</span>:<span class="number">14</span>*(R+<span class="number">2</span>)*index + j*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">y</span>:i*<span class="number">2</span>*(R+<span class="number">1</span>)+(R+<span class="number">1</span>),</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stepX</span>:<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">4</span> -<span class="number">2</span>),</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">stepY</span>:-<span class="number">2</span>*numArray[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*numArray.<span class="property">length</span>)],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">color</span>:colorArray[<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*colorArray.<span class="property">length</span>)],</span></span><br><span class="line"><span class="language-javascript">                        <span class="attr">disY</span>:<span class="number">1</span></span></span><br><span class="line"><span class="language-javascript">                    &#125;;</span></span><br><span class="line"><span class="language-javascript">                    balls.<span class="title function_">push</span>(ball);</span></span><br><span class="line"><span class="language-javascript">                &#125;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/*渲染*/</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">function</span> <span class="title function_">render</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//重置画布宽度，达到清空画布的效果</span></span></span><br><span class="line"><span class="language-javascript">        canvas.<span class="property">height</span> = <span class="number">100</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//渲染时钟</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; data.<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="title function_">renderDigit</span>(i,data[i]);</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//渲染小球</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">for</span>(<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; balls.<span class="property">length</span>; i++)&#123;</span></span><br><span class="line"><span class="language-javascript">            cxt.<span class="title function_">beginPath</span>();</span></span><br><span class="line"><span class="language-javascript">            cxt.<span class="title function_">arc</span>(balls[i].<span class="property">x</span>,balls[i].<span class="property">y</span>,R,<span class="number">0</span>,<span class="number">2</span>*<span class="title class_">Math</span>.<span class="property">PI</span>);</span></span><br><span class="line"><span class="language-javascript">            cxt.<span class="property">fillStyle</span> = balls[i].<span class="property">color</span>;</span></span><br><span class="line"><span class="language-javascript">            cxt.<span class="title function_">closePath</span>();</span></span><br><span class="line"><span class="language-javascript">            cxt.<span class="title function_">fill</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">    &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="built_in">clearInterval</span>(oTimer);</span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">var</span> oTimer = <span class="built_in">setInterval</span>(<span class="keyword">function</span>(<span class="params"></span>)&#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//更新时钟</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">updateDigitTime</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//更新小球状态</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">updateBalls</span>();</span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//渲染</span></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">render</span>();</span></span><br><span class="line"><span class="language-javascript">    &#125;,<span class="number">50</span>);</span></span><br><span class="line"><span class="language-javascript">&#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">&#125;)();</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><h1>引用特效</h1><p><strong>注</strong>：代码块要放置在<code>sider-inner</code>​的<code>div</code>​块中，放在<code>div</code>​块的位置决定时钟样式的展示位置。</p><ol><li class="lvl-3"><p>在<code>博客目录\node_modules\hexo-theme-next\layout\_macro\sidebar.njk</code>​中引入：</p></li></ol><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">include</span> <span class="string">&#x27;../clock.swig&#x27;</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><ol start="2"><li class="lvl-3"><p>通过配置文件配置</p></li></ol><p>在<code>博客目录\node_modules\hexo-theme-next\layout\_macro\sidebar.njk</code>​中引入：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="string">%</span> <span class="string">if</span> <span class="string">theme.diy_time.clock</span> <span class="string">%</span>&#125;</span><br><span class="line">  <span class="string">&lt;!--</span> <span class="string">canvas粒子时钟</span> <span class="string">--&gt;</span></span><br><span class="line">  &#123;<span class="string">%</span> <span class="string">include</span> <span class="string">&#x27;../clock.swig&#x27;</span> <span class="string">%</span>&#125;</span><br><span class="line">&#123;<span class="string">%</span> <span class="string">endif</span> <span class="string">%</span>&#125;</span><br></pre></td></tr></table></figure><p>在主题的配置文件<code>_config.yml</code>​中加入应用代码，：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 侧栏粒子时钟</span></span><br><span class="line"><span class="attr">diy_time:</span></span><br><span class="line">  <span class="attr">runtime:</span> <span class="literal">true</span> </span><br><span class="line">  <span class="attr">clock:</span> <span class="literal">true</span> <span class="comment"># 粒子时钟</span></span><br></pre></td></tr></table></figure><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuYW9tYW5oYW8udG9wL2FyY2hpdmVzLzEyNC8=">Hexo博客Next主题添加粒子时钟特效 - AomanHao的博客空间<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;​&lt;img data-src=&quot;https://cdn.nlark.com/yuque/0/2024/png/12885947/1729591197719-65af965b-a50d-422a-9301-db5223ae6cc2.png&quot; alt=&quot;&quot;&gt;​&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="学习" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="动态时钟" scheme="https://blog.leafminer.cn/tags/%E5%8A%A8%E6%80%81%E6%97%B6%E9%92%9F/"/>
    
    <category term="特效" scheme="https://blog.leafminer.cn/tags/%E7%89%B9%E6%95%88/"/>
    
    <category term="njk" scheme="https://blog.leafminer.cn/tags/njk/"/>
    
  </entry>
  
  <entry>
    <title>【转载】Hexo博客Next主题添加暗黑夜间模式切换</title>
    <link href="https://blog.leafminer.cn/2024/10/22/2cc7acb57128/"/>
    <id>https://blog.leafminer.cn/2024/10/22/2cc7acb57128/</id>
    <published>2024-10-21T18:51:26.000Z</published>
    <updated>2024-10-24T05:52:27.916Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>使用<code>hexo-next-darkmode</code>​插件实现夜间模式切换。</p><span id="more"></span><h1>安装</h1><p>暗黑/夜间模式切换插件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-next-darkmode --save</span><br></pre></td></tr></table></figure><h1>配置</h1><p>往 NexT 主题的 <code>_config.yml</code>​ 配置文件里添加以下内容，必须确保 NexT 原生的 <code>darkmode</code>​ 选项设置为 <code>false</code>​</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># close NexT&#x27;s darkmode</span></span><br><span class="line"><span class="attr">darkmode:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Darkmode JS</span></span><br><span class="line"><span class="comment"># For more information: https://github.com/rqh656418510/hexo-next-darkmode, https://github.com/sandoche/Darkmode.js</span></span><br><span class="line"><span class="attr">darkmode_js:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">&#x27;64px&#x27;</span> <span class="comment"># default: &#x27;32px&#x27;</span></span><br><span class="line">  <span class="attr">right:</span> <span class="string">&#x27;unset&#x27;</span> <span class="comment"># default: &#x27;32px&#x27;</span></span><br><span class="line">  <span class="attr">left:</span> <span class="string">&#x27;32px&#x27;</span> <span class="comment"># default: &#x27;unset&#x27;</span></span><br><span class="line">  <span class="attr">time:</span> <span class="string">&#x27;0.5s&#x27;</span> <span class="comment"># default: &#x27;0.3s&#x27;</span></span><br><span class="line">  <span class="attr">mixColor:</span> <span class="string">&#x27;transparent&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">backgroundColor:</span> <span class="string">&#x27;transparent&#x27;</span>  <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">buttonColorDark:</span> <span class="string">&#x27;#100f2c&#x27;</span>  <span class="comment"># default: &#x27;#100f2c&#x27;</span></span><br><span class="line">  <span class="attr">buttonColorLight:</span> <span class="string">&#x27;#dcdcdc&#x27;</span> <span class="comment"># default: &#x27;#fff&#x27;</span></span><br><span class="line">  <span class="attr">saveInCookies:</span> <span class="literal">true</span> <span class="comment"># default: true</span></span><br><span class="line">  <span class="attr">label:</span> <span class="string">&#x27;🌓&#x27;</span> <span class="comment"># default: &#x27;&#x27;</span></span><br><span class="line">  <span class="attr">autoMatchOsTheme:</span> <span class="literal">true</span> <span class="comment"># default: true</span></span><br><span class="line">  <span class="attr">libUrl:</span> <span class="comment"># Set custom library cdn url for Darkmode.js</span></span><br></pre></td></tr></table></figure><p>适用于 NexT 主题的暗黑/夜间模式切换插件，如果 NexT 的版本 &lt; 8.2.0，则需要额外安装 Nunjucks 渲染插件，否则 <code>hexo-next-darkmode</code>​ 插件无法正常运行。</p><hr><h2 id="自定义样式">自定义样式</h2><p>暗黑/夜间模式激活后，会将 <code>darkmode--activated</code>​ CSS 类添加到 <code>body</code>​ 标签，你可以利用它覆盖插件默认自带的样式（如下所示），这样就可以实现暗黑/夜间模式样式的高度自定义，包括代码块颜色自定义等。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">.darkmode--activated &#123;</span><br><span class="line">  --body-bg-color: #282828;</span><br><span class="line">  --content-bg-color: #333;</span><br><span class="line">  --card-bg-color: #555;</span><br><span class="line">  --text-color: #ccc;</span><br><span class="line">  --blockquote-color: #bbb;</span><br><span class="line">  --link-color: #ccc;</span><br><span class="line">  --link-hover-color: #eee;</span><br><span class="line">  --brand-color: #ddd;</span><br><span class="line">  --brand-hover-color: #ddd;</span><br><span class="line">  --table-row-odd-bg-color: #282828;</span><br><span class="line">  --table-row-hover-bg-color: #363636;</span><br><span class="line">  --menu-item-bg-color: #555;</span><br><span class="line">  --btn-default-bg: #222;</span><br><span class="line">  --btn-default-color: #ccc;</span><br><span class="line">  --btn-default-border-color: #555;</span><br><span class="line">  --btn-default-hover-bg: #666;</span><br><span class="line">  --btn-default-hover-color: #ccc;</span><br><span class="line">  --btn-default-hover-border-color: #666;</span><br><span class="line">  --highlight-background: #282b2e;</span><br><span class="line">  --highlight-foreground: #a9b7c6;</span><br><span class="line">  --highlight-gutter-background: #34393d;</span><br><span class="line">  --highlight-gutter-foreground: #9ca9b6;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.darkmode--activated img &#123;</span><br><span class="line">  opacity: 0.75;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.darkmode--activated img:hover &#123;</span><br><span class="line">  opacity: 0.9;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.darkmode--activated code &#123;</span><br><span class="line">  color: #69dbdc;</span><br><span class="line">  background: transparent;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>当某个标签不想使用暗黑/夜间模式时，可以添加 <code>darkmode-ignore</code>​ CSS 类到标签上。</p></li></ul><p>&lt;span class=“darkmode-ignore”&gt;😬&lt;span&gt;</p><ul class="lvl-0"><li class="lvl-2"><p>当然你也可以使用 <code>isolation: isolate;</code>​ CSS 样式来忽略暗黑/夜间模式。</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.button &#123;</span><br><span class="line">  isolation: isolate;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul class="lvl-0"><li class="lvl-2"><p>也可以使用这种 <code>mix-blend-mode: difference</code>​ CSS 样式来还原暗黑/夜间模式。</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">.button &#123;</span><br><span class="line">  mix-blend-mode: difference;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3JxaDY1NjQxODUxMC9oZXhvLW5leHQtZGFya21vZGUvYmxvYi9hMmJjZTQxOGEzZGYzYTlhMzQwOWNlOTJlMzkzY2Y1NjY5NjQ3MTEwL1JFQURNRV9DTi5tZA==">hexo-next-darkmode/README_CN.md at a2bce418a3df3a9a3409ce92e393cf5669647110 · rqh656418510/hexo-next-darkmode<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;使用&lt;code&gt;hexo-next-darkmode&lt;/code&gt;​插件实现夜间模式切换。&lt;/p&gt;</summary>
    
    
    
    <category term="转载" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="插件" scheme="https://blog.leafminer.cn/tags/%E6%8F%92%E4%BB%B6/"/>
    
    <category term="暗黑模式" scheme="https://blog.leafminer.cn/tags/%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题添加动态标签词云</title>
    <link href="https://blog.leafminer.cn/2024/10/22/4de2bfd9848b/"/>
    <id>https://blog.leafminer.cn/2024/10/22/4de2bfd9848b/</id>
    <published>2024-10-21T17:57:06.000Z</published>
    <updated>2024-10-23T17:23:29.906Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>使用&quot;hexo-tag-cloud&quot;插件添加动态标签云。</p><span id="more"></span><h2 id="效果">效果</h2><p><a href="https://leafminer.github.io/">损不足 - 奉有余 (leafminer.github.io)</a></p><h2 id="安装插件">安装插件</h2><ul class="lvl-0"><li class="lvl-2"><p>进入到 hexo 的根目录，然后在 package.json 中添加依赖: “hexo-tag-cloud”: “2.1.*”</p></li><li class="lvl-2"><p>然后执行<code>npm install</code>命令</p></li><li class="lvl-2"><p>或者<code>npm install --save hexo-tag-cloud</code>进行安装</p></li></ul><h2 id="配置主题">配置主题</h2><p>找到文件 hexo\node_modules\hexo-theme-next\layout\_macrosidebar.njk, 然后添加如下内容。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;/js/tagcloud.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> <span class="attr">src</span>=<span class="string">&quot;&#123;&#123; url_for(&#x27;/js/tagcanvas.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">h3</span> <span class="attr">class</span>=<span class="string">&quot;widget-title&quot;</span>&gt;</span>标签云<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;myCanvasContainer&quot;</span> <span class="attr">class</span>=<span class="string">&quot;widget tagcloud&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">canvas</span> <span class="attr">width</span>=<span class="string">&quot;250&quot;</span> <span class="attr">height</span>=<span class="string">&quot;250&quot;</span> <span class="attr">id</span>=<span class="string">&quot;resCanvas&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123; list_tags() &#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">canvas</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure><p>在你的Hexo博客根目录，找到 _config.yml 文件然后添加如下的配置项:</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-tag-cloud</span></span><br><span class="line"><span class="attr">tag_cloud:</span></span><br><span class="line">    <span class="attr">textFont:</span> <span class="string">Trebuchet</span> <span class="string">MS,</span> <span class="string">Helvetica</span></span><br><span class="line">    <span class="attr">textColor:</span> <span class="string">&#x27;#333&#x27;</span></span><br><span class="line">    <span class="attr">textHeight:</span> <span class="number">25</span></span><br><span class="line">    <span class="attr">outlineColor:</span> <span class="string">&#x27;#E2E1D1&#x27;</span></span><br><span class="line">    <span class="attr">maxSpeed:</span> <span class="number">0.5</span></span><br><span class="line">    <span class="attr">pauseOnSelected:</span> <span class="literal">false</span> <span class="comment"># true 意味着当选中对应 tag 时,停止转动</span></span><br></pre></td></tr></table></figure><h2 id="预览部署">预览部署</h2><ul class="lvl-0"><li class="lvl-2"><p>完成安装和显示，可以通过 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 来进行本地预览, <code>hexo clean</code>为必须选项。</p></li><li class="lvl-2"><p>PS:不要使用<code>hexo g -d</code> 或者<code> hexo d -g</code>这类组合命令。</p></li></ul><h2 id="参考">参考</h2><p><span class="exturl" data-url="aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvaGV4by10YWctY2xvdWQ=">hexo-tag-cloud - npm (npmjs.com)<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;使用&amp;quot;hexo-tag-cloud&amp;quot;插件添加动态标签云。&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="学习" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="标签云" scheme="https://blog.leafminer.cn/tags/%E6%A0%87%E7%AD%BE%E4%BA%91/"/>
    
    <category term="动态" scheme="https://blog.leafminer.cn/tags/%E5%8A%A8%E6%80%81/"/>
    
    <category term="tag_cloud" scheme="https://blog.leafminer.cn/tags/tag-cloud/"/>
    
  </entry>
  
  <entry>
    <title>【转载】 鼠标点击特效</title>
    <link href="https://blog.leafminer.cn/2024/10/22/c0d92f275632/"/>
    <id>https://blog.leafminer.cn/2024/10/22/c0d92f275632/</id>
    <published>2024-10-21T17:47:33.000Z</published>
    <updated>2024-10-21T17:54:15.407Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>原文地址：<span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vcXJrNjY2L3AvMTI4NzgzNjAuaHRtbA==">鼠标点击特效 - 凯哥xyz - 博客园<i class="fa fa-external-link-alt"></i></span></p><span id="more"></span><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><br><span class="line">  <span class="keyword">var</span> a_idx = <span class="number">0</span>;</span><br><span class="line"><span class="title function_">jQuery</span>(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params">$</span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;body&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> a = <span class="keyword">new</span> <span class="title class_">Array</span>(<span class="string">&quot;富强&quot;</span>, <span class="string">&quot;民主&quot;</span>, <span class="string">&quot;文明&quot;</span>, <span class="string">&quot;和谐&quot;</span>, <span class="string">&quot;自由&quot;</span>, <span class="string">&quot;平等&quot;</span>, <span class="string">&quot;公正&quot;</span> ,<span class="string">&quot;法治&quot;</span>, <span class="string">&quot;爱国&quot;</span>, <span class="string">&quot;敬业&quot;</span>, <span class="string">&quot;诚信&quot;</span>, <span class="string">&quot;友善&quot;</span>);</span><br><span class="line">    <span class="keyword">var</span> $i = $(<span class="string">&quot;&lt;span/&gt;&quot;</span>).<span class="title function_">text</span>(a[a_idx]);</span><br><span class="line">    a_idx = (a_idx + <span class="number">1</span>) % a.<span class="property">length</span>;</span><br><span class="line">    <span class="keyword">var</span> x = e.<span class="property">pageX</span>,</span><br><span class="line">      y = e.<span class="property">pageY</span>;</span><br><span class="line">    $i.<span class="title function_">css</span>(&#123;</span><br><span class="line">      <span class="string">&quot;z-index&quot;</span>: <span class="number">999999999999999999999999999999999999999999999999999999999999999999999</span>,</span><br><span class="line">      <span class="string">&quot;top&quot;</span>: y - <span class="number">20</span>,</span><br><span class="line">      <span class="string">&quot;left&quot;</span>: x,</span><br><span class="line">      <span class="string">&quot;position&quot;</span>: <span class="string">&quot;absolute&quot;</span>,</span><br><span class="line">      <span class="string">&quot;font-weight&quot;</span>: <span class="string">&quot;bold&quot;</span>,</span><br><span class="line">      <span class="string">&quot;color&quot;</span>: <span class="string">&quot;#ff6651&quot;</span></span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;body&quot;</span>).<span class="title function_">append</span>($i);</span><br><span class="line">    $i.<span class="title function_">animate</span>(&#123;</span><br><span class="line">      <span class="string">&quot;top&quot;</span>: y - <span class="number">180</span>,</span><br><span class="line">      <span class="string">&quot;opacity&quot;</span>: <span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"><span class="number">1500</span>,</span><br><span class="line"><span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">$i.<span class="title function_">remove</span>();</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>接着插入一段引用js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script language=<span class="string">&quot;javascript&quot;</span> type=<span class="string">&quot;text/javascript&quot;</span> src=<span class="string">&quot;&lt;a href=&quot;</span><span class="attr">https</span>:<span class="comment">//blog-static.cnblogs.com/files/qrk666/main.js&quot;&gt;https://blog-static.cnblogs.com/files/qrk666/main.js&lt;/a&gt;&quot;&gt;</span></span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;原文地址：&lt;span class=&quot;exturl&quot; data-url=&quot;aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vcXJrNjY2L3AvMTI4NzgzNjAuaHRtbA==&quot;&gt;鼠标点击特效 - 凯哥xyz - 博客园&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&lt;/span&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="转载" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E8%BD%AC%E8%BD%BD/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="特效" scheme="https://blog.leafminer.cn/tags/%E7%89%B9%E6%95%88/"/>
    
    <category term="JavaScript" scheme="https://blog.leafminer.cn/tags/JavaScript/"/>
    
    <category term="鼠标" scheme="https://blog.leafminer.cn/tags/%E9%BC%A0%E6%A0%87/"/>
    
    <category term="今日" scheme="https://blog.leafminer.cn/tags/%E4%BB%8A%E6%97%A5/"/>
    
    <category term="js" scheme="https://blog.leafminer.cn/tags/js/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题修改加载特效</title>
    <link href="https://blog.leafminer.cn/2024/10/22/f85ae47c487c/"/>
    <id>https://blog.leafminer.cn/2024/10/22/f85ae47c487c/</id>
    <published>2024-10-21T16:49:35.000Z</published>
    <updated>2024-10-21T17:32:36.337Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p>修改主题配置文件<code>_config.next.yml</code></p><span id="more"></span><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">pace:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="comment"># All available colors:</span></span><br><span class="line">  <span class="comment"># black | blue | green | orange | pink | purple | red | silver | white | yellow</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">black</span></span><br><span class="line">  <span class="comment"># All available themes:</span></span><br><span class="line">  <span class="comment"># big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple</span></span><br><span class="line">  <span class="comment"># corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal</span></span><br><span class="line">  <span class="attr">theme:</span> <span class="string">loading-bar</span></span><br></pre></td></tr></table></figure><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly93d3cuY25ibG9ncy5jb20vamlud2VpMjYvYXJ0aWNsZXMvMTg0NjAzMTI=">hexo next8.20.0 主题美化 - 悠心不已 - 博客园 (cnblogs.com)<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;修改主题配置文件&lt;code&gt;_config.next.yml&lt;/code&gt;&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="加载" scheme="https://blog.leafminer.cn/tags/%E5%8A%A0%E8%BD%BD/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="pace" scheme="https://blog.leafminer.cn/tags/pace/"/>
    
  </entry>
  
  <entry>
    <title>Hexo博客Next主题解决不显示外链图片的问题</title>
    <link href="https://blog.leafminer.cn/2024/10/22/68f75ac070e2/"/>
    <id>https://blog.leafminer.cn/2024/10/22/68f75ac070e2/</id>
    <published>2024-10-21T16:23:40.000Z</published>
    <updated>2024-10-23T17:15:42.878Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><p><strong>问题描述:</strong> Hexo文章中采用外链加载的图片无法显示。</p><span id="more"></span><h1>问题原因</h1><p>防盗链。部分网站不允许图片外链，只允许本网站才能显示图片，外部网站加载图片就会报错。通过对请求方的 <strong>Referer</strong> 进行判断过滤，确认是否可以访问。</p><h1>解决办法</h1><p>【Next主题】主题文件夹内的(hexo\node_modules\hexo-theme-next\layout\_partials\head) <strong>head.njk</strong>文件中，添加meta信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;meta name=&quot;referrer&quot; content=&quot;no-referrer&quot; /&gt;</span><br></pre></td></tr></table></figure><p>​<img data-src="https://cdn.nlark.com/yuque/0/2024/png/12885947/1729527335903-a66b9a72-3937-4216-b2b0-8e4cc9b392a7.png" alt="">​</p><h1>参考</h1><p><span class="exturl" data-url="aHR0cHM6Ly9saXhpYW95YW45OTkuZ2l0aHViLmlvLzIwMjQvMDQvMDIvJUU4JUE3JUEzJUU1JTg2JUIzaGV4byVFNSVCQyU5NSVFNSU4NSVBNSVFNSU5QiVCRSVFNSVCQSU4QSVFRiVCQyU4QyVFNiU4OSU4QiVFNiU5QyVCQSVFNSU5MiU4Q3dlYiVFNCVCOCU4RCVFNiU5OCVCRSVFNyVBNCVCQSVFNSU5QiVCRSVFNyU4OSU4NyVFNyU5QSU4NCVFOSU5NyVBRSVFOSVBMiU5OC8j">解决hexo引入图床，不显示图片的问题 - 一叶知秋<i class="fa fa-external-link-alt"></i></span></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;p&gt;&lt;strong&gt;问题描述:&lt;/strong&gt; Hexo文章中采用外链加载的图片无法显示。&lt;/p&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="学习" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%AD%A6%E4%B9%A0/"/>
    
    
    <category term="Next" scheme="https://blog.leafminer.cn/tags/Next/"/>
    
    <category term="Hexo" scheme="https://blog.leafminer.cn/tags/Hexo/"/>
    
    <category term="图片显示" scheme="https://blog.leafminer.cn/tags/%E5%9B%BE%E7%89%87%E6%98%BE%E7%A4%BA/"/>
    
    <category term="防盗链" scheme="https://blog.leafminer.cn/tags/%E9%98%B2%E7%9B%97%E9%93%BE/"/>
    
    <category term="meta" scheme="https://blog.leafminer.cn/tags/meta/"/>
    
  </entry>
  
  <entry>
    <title>每日早报--认识世界</title>
    <link href="https://blog.leafminer.cn/2024/10/21/ad715d53afba/"/>
    <id>https://blog.leafminer.cn/2024/10/21/ad715d53afba/</id>
    <published>2024-10-21T15:57:06.000Z</published>
    <updated>2024-10-22T08:19:53.539Z</updated>
    
    <content type="html"><![CDATA[<link rel="stylesheet" class="aplayer-secondary-style-marker" href="\assets\css\APlayer.min.css"><script src="\assets\js\APlayer.min.js" class="aplayer-secondary-script-marker"></script><script class="meting-secondary-script-marker" src="\assets\js\Meting.min.js"></script><div id="vip-container"><h1><center>今日新闻</center></h1><center><span id="date"></span></center><script>document.getElementById('date').textContent = new Date().toLocaleDateString();</script><span id="more"></span><p><img data-src="https://v2.alapi.cn/api/zaobao?token=PjSXcfOsbFbutaW9&amp;format=image" alt=""></p></div><script src="https://my.openwrite.cn/js/readmore.js" type="text/javascript"></script><script>var isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);if (!isMobile) {    var btw = new BTWPlugin();    btw.init({        "id": "vip-container",        "blogId": "33502-1730425843713-524",        "name": "虫子的生存笔记",        "qrcode": "https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png",        "keyword": "more"    });}</script>]]></content>
    
    
    <summary type="html">&lt;h1&gt;&lt;center&gt;今日新闻&lt;/center&gt;&lt;/h1&gt;
&lt;center&gt;&lt;span id=&quot;date&quot;&gt;&lt;/span&gt;&lt;/center&gt;
&lt;script&gt;document.getElementById(&#39;date&#39;).textContent = new Date().toLocaleDateString();&lt;/script&gt;</summary>
    
    
    
    <category term="笔记" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/"/>
    
    <category term="其他" scheme="https://blog.leafminer.cn/categories/%E7%AC%94%E8%AE%B0/%E5%85%B6%E4%BB%96/"/>
    
    
    <category term="新闻" scheme="https://blog.leafminer.cn/tags/%E6%96%B0%E9%97%BB/"/>
    
    <category term="API" scheme="https://blog.leafminer.cn/tags/API/"/>
    
    <category term="今日" scheme="https://blog.leafminer.cn/tags/%E4%BB%8A%E6%97%A5/"/>
    
    <category term="热点" scheme="https://blog.leafminer.cn/tags/%E7%83%AD%E7%82%B9/"/>
    
    <category term="全球" scheme="https://blog.leafminer.cn/tags/%E5%85%A8%E7%90%83/"/>
    
  </entry>
  
</feed>
