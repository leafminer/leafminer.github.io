{"name":"播放器","postlist":[{"title":"Hexo博客Next主题加入音乐播放器-Aplayer","slug":"Hexo博客Next主题加入音乐播放器-Aplayer","date":"2024-11-05T13:39:38.000Z","updated":"2024-11-05T18:13:44.634Z","comments":true,"path":"api/articles/Hexo博客Next主题加入音乐播放器-Aplayer.json","excerpt":null,"keywords":"Hexo, 科研, 生物, R语言, 爬虫, 生信, 中药, 果蝇, 笔记, 教程, 虫子, 潜叶虫, leafminer, leaf-miner, 生活, 随笔, 原创","cover":"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730829307366-5dd68bc8-1e2a-41b6-b84c-5d6fe60246b7.png","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><div id=\"vip-container\"><p>APlayer是一个功能丰富、支持多种媒体格式的HTML5音乐播放器，具有播放列表和歌词显示等实用功能。在Hexo中有可以使用的插件<code>hexo-tag-aplayer</code>​</p>\n<span id=\"more\"></span>\n<h2 id=\"安装插件\">安装插件</h2>\n<p>插件网址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9oZXhvLXRhZy1hcGxheWVy\">MoePlayer/hexo-tag-aplayer: Embed aplayer in Hexo posts/pages<i class=\"fa fa-external-link-alt\"></i></span></p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save hexo-tag-aplayer</span><br></pre></td></tr></table></figure>\n<h2 id=\"配置使用\">配置使用</h2>\n<p>加入到侧边栏，在<code>\\node_modules\\hexo-theme-next\\layout_macro\\sidebar.njk</code>​文件中添加：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer aplayer-tag-marker meting-tag-marker aplayer-withlrc aplayer-withlist&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;1534866348&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;tencent&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;playlist&quot;</span> <span class=\"attr\">data-mutex</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-preload</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;#ad7a86&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730829307366-5dd68bc8-1e2a-41b6-b84c-5d6fe60246b7.png\" alt=\"\">​</p>\n<p>在Markdown文档中：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"设置APlayer音乐播放器的选项：\">设置APlayer音乐播放器的选项：</h3>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>​<code>title</code>​: 音乐的标题。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>author</code>​: 音乐的作者。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>url</code>​: 音乐文件的URL地址。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>picture_url</code>​: 可选参数，音乐封面图片的URL地址。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>narrow</code>​: 可选参数，如果设置，播放器将采用窄样式显示。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>autoplay</code>​: 可选参数，如果设置，音乐将在页面加载时自动播放。但请注意，移动浏览器不支持自动播放音乐。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>width:xxx</code>​: 可选参数，以<code>width:</code>​为前缀，后面跟播放器的宽度值（默认为100%）。</p>\n</li>\n<li class=\"lvl-2\">\n<p>​<code>lrc:xxx</code>​: 可选参数，以<code>lrc:</code>​为前缀，后面跟LRC歌词文件的URL地址。</p>\n</li>\n</ul>\n<p>这些选项允许用户自定义APlayer音乐播放器的外观和行为，例如设置音乐标题、作者、文件链接、封面图片、是否自动播放、播放器宽度以及歌词文件链接等。</p>\n<p>当启用了“post asset folders”（后端资源文件夹）功能后，你可以轻松地将你的图片、音乐和LRC文件放入资源文件夹中，并且可以通过特定的方式引用它们。例如：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer &quot;Caffeine&quot; &quot;Jeff Williams&quot; &quot;caffeine.mp3&quot; &quot;picture.jpg&quot; &quot;lrc:caffeine.txt&quot; %&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"使用-aplayerlrc​-标签来直接插入歌词文本在博客中：\">使用 <code>aplayerlrc</code>​ 标签来直接插入歌词文本在博客中：</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayerlrc &quot;title&quot; &quot;author&quot; &quot;url&quot; &quot;autoplay&quot; %&#125;</span><br><span class=\"line\">[00:00.00]lrc here</span><br><span class=\"line\">&#123;% endaplayerlrc %&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"播放列表\">播放列表</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayerlist %&#125;</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    &quot;narrow&quot;: false,                          // （可选）播放器袖珍风格</span><br><span class=\"line\">    &quot;autoplay&quot;: true,                         // （可选) 自动播放，移动端浏览器暂时不支持此功能</span><br><span class=\"line\">    &quot;mode&quot;: &quot;random&quot;,                         // （可选）曲目循环类型，有 &#x27;random&#x27;（随机播放）, &#x27;single&#x27; (单曲播放), &#x27;circulation&#x27; (循环播放), &#x27;order&#x27; (列表播放)， 默认：&#x27;circulation&#x27; </span><br><span class=\"line\">    &quot;showlrc&quot;: 3,                             // （可选）歌词显示配置项，可选项有：1,2,3</span><br><span class=\"line\">    &quot;mutex&quot;: true,                            // （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</span><br><span class=\"line\">    &quot;theme&quot;: &quot;#e6d0b2&quot;,\t                      // （可选）播放器风格色彩设置，默认：#b7daff</span><br><span class=\"line\">    &quot;preload&quot;: &quot;metadata&quot;,                    // （可选）音乐文件预载入模式，可选项： &#x27;none&#x27; &#x27;metadata&#x27; &#x27;auto&#x27;, 默认: &#x27;auto&#x27;</span><br><span class=\"line\">    &quot;listmaxheight&quot;: &quot;513px&quot;,                 // (可选) 该播放列表的最大长度</span><br><span class=\"line\">    &quot;music&quot;: [</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;title&quot;: &quot;CoCo&quot;,</span><br><span class=\"line\">            &quot;author&quot;: &quot;Jeff Williams&quot;,</span><br><span class=\"line\">            &quot;url&quot;: &quot;caffeine.mp3&quot;,</span><br><span class=\"line\">            &quot;pic&quot;: &quot;caffeine.jpeg&quot;,</span><br><span class=\"line\">            &quot;lrc&quot;: &quot;caffeine.txt&quot;</span><br><span class=\"line\">        &#125;,</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">            &quot;title&quot;: &quot;アイロニ&quot;,</span><br><span class=\"line\">            &quot;author&quot;: &quot;鹿乃&quot;,</span><br><span class=\"line\">            &quot;url&quot;: &quot;irony.mp3&quot;,</span><br><span class=\"line\">            &quot;pic&quot;: &quot;irony.jpg&quot;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">&#123;% endaplayerlist %&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"开启MetingJS\">开启MetingJS</h3>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21ldG93b2xmL01ldGluZ0pT\">MetingJS<i class=\"fa fa-external-link-alt\"></i></span> 是基于<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL21ldG93b2xmL01ldGluZw==\">Meting API<i class=\"fa fa-external-link-alt\"></i></span> 的 APlayer 衍生播放器，引入 MetingJS 后，播放器将支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。</p>\n<p>使用 MetingJS，请在 Hexo 配置文件 <code>_config.yml</code>​ 中设置：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">aplayer:</span><br><span class=\"line\">  meting: true</span><br></pre></td></tr></table></figure>\n<p>通过 <code>&#123;% meting ...%&#125;</code>​ 在文章中使用 MetingJS 播放器：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;!-- 简单示例 (id, server, type)  --&gt;</span><br><span class=\"line\">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; %&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">&lt;!-- 进阶示例 --&gt;</span><br><span class=\"line\">&#123;% meting &quot;60198&quot; &quot;netease&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure>\n<p>有关 <code>&#123;% meting %&#125;</code>​ 的选项列表如下:</p>\n<table>\n<thead>\n<tr>\n<th><strong>选项</strong></th>\n<th><strong>默认值</strong></th>\n<th><strong>描述</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>id</td>\n<td><strong>必须值</strong></td>\n<td>歌曲 id / 播放列表 id / 相册 id / 搜索关键字</td>\n</tr>\n<tr>\n<td>server</td>\n<td><strong>必须值</strong></td>\n<td>音乐平台:<code>netease</code>​,<code>tencent</code>​,<code>kugou</code>​,<code>xiami</code>​,<code>baidu</code>​</td>\n</tr>\n<tr>\n<td>type</td>\n<td><strong>必须值</strong></td>\n<td>​<code>song</code>​,<code>playlist</code>​,<code>album</code>​,<code>search</code>​,<code>artist</code>​</td>\n</tr>\n<tr>\n<td>fixed</td>\n<td>​<code>false</code>​</td>\n<td>开启固定模式</td>\n</tr>\n<tr>\n<td>mini</td>\n<td>​<code>false</code>​</td>\n<td>开启迷你模式</td>\n</tr>\n<tr>\n<td>loop</td>\n<td>​<code>all</code>​</td>\n<td>列表循环模式：<code>all</code>​,<code>one</code>​,<code>none</code>​</td>\n</tr>\n<tr>\n<td>order</td>\n<td>​<code>list</code>​</td>\n<td>列表播放模式：<code>list</code>​,<code>random</code>​</td>\n</tr>\n<tr>\n<td>volume</td>\n<td>0.7</td>\n<td>播放器音量</td>\n</tr>\n<tr>\n<td>lrctype</td>\n<td>0</td>\n<td>歌词格式类型</td>\n</tr>\n<tr>\n<td>listfolded</td>\n<td>​<code>false</code>​</td>\n<td>指定音乐播放列表是否折叠</td>\n</tr>\n<tr>\n<td>storagename</td>\n<td>​<code>metingjs</code>​</td>\n<td>LocalStorage 中存储播放器设定的键名</td>\n</tr>\n<tr>\n<td>autoplay</td>\n<td>​<code>true</code>​</td>\n<td>自动播放，移动端浏览器暂时不支持此功能</td>\n</tr>\n<tr>\n<td>mutex</td>\n<td>​<code>true</code>​</td>\n<td>该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停</td>\n</tr>\n<tr>\n<td>listmaxheight</td>\n<td>​<code>340px</code>​</td>\n<td>播放列表的最大长度</td>\n</tr>\n<tr>\n<td>preload</td>\n<td>​<code>auto</code>​</td>\n<td>音乐文件预载入模式，可选项：<code>none</code>​,<code>metadata</code>​,<code>auto</code>​</td>\n</tr>\n<tr>\n<td>theme</td>\n<td>​<code>#ad7a86</code>​</td>\n<td>播放器风格色彩设置</td>\n</tr>\n</tbody>\n</table>\n<p>关于如何设置自建的 Meting API 服务器地址，以及其他 MetingJS 配置，请参考章节<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9oZXhvLXRhZy1hcGxheWVyL2Jsb2IvbWFzdGVyL2RvY3MvUkVBRE1FLXpoX2NuLm1kIyVFOCU4NyVBQSVFNSVBRSU5QSVFNCVCOSU4OSVFOSU4NSU4RCVFNyVCRCVBRTMwLSVFNiU5NiVCMCVFNSU4QSU5RiVFOCU4MyVCRA==\">自定义配置<i class=\"fa fa-external-link-alt\"></i></span></p>\n<h3 id=\"在-Hexo-配置文件-config-yml​-中配置本插件：\">在 Hexo 配置文件 <code>_config.yml</code>​ 中配置本插件：</h3>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">aplayer:</span></span><br><span class=\"line\">  <span class=\"attr\">script_dir:</span> <span class=\"string\">some/place</span>                        <span class=\"comment\"># Public 目录下脚本目录路径，默认: &#x27;assets/js&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">style_dir:</span> <span class=\"string\">some/place</span>                         <span class=\"comment\"># Public 目录下样式目录路径，默认: &#x27;assets/css&#x27;</span></span><br><span class=\"line\">  <span class=\"attr\">cdn:</span> <span class=\"string\">http://xxx/aplayer.min.js</span>                <span class=\"comment\"># 引用 APlayer.js 外部 CDN 地址 (默认不开启)</span></span><br><span class=\"line\">  <span class=\"attr\">style_cdn:</span> <span class=\"string\">http://xxx/aplayer.min.css</span>         <span class=\"comment\"># 引用 APlayer.css 外部 CDN 地址 (默认不开启)</span></span><br><span class=\"line\">  <span class=\"attr\">meting:</span> <span class=\"literal\">true</span>                                  <span class=\"comment\"># MetingJS 支持</span></span><br><span class=\"line\">  <span class=\"attr\">meting_api:</span> <span class=\"string\">http://xxx/api.php</span>                <span class=\"comment\"># 自定义 Meting API 地址</span></span><br><span class=\"line\">  <span class=\"attr\">meting_cdn:</span> <span class=\"string\">http://xxx/Meing.min.js</span>           <span class=\"comment\"># 引用 Meting.js 外部 CDN 地址 (默认不开启)</span></span><br><span class=\"line\">  <span class=\"attr\">asset_inject:</span> <span class=\"literal\">true</span>                            <span class=\"comment\"># 自动插入 Aplayer.js 与 Meting.js 资源脚本, 默认开启</span></span><br><span class=\"line\">  <span class=\"attr\">externalLink:</span> <span class=\"string\">http://xxx/aplayer.min.js</span>       <span class=\"comment\"># 老版本参数，功能与参数 cdn 相同</span></span><br></pre></td></tr></table></figure>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9tZXRpbmdAMS4yL2Rpc3QvTWV0aW5nLm1pbi5qcw==\">https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n<li class=\"lvl-2\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly91bnBrZy5jb20vbWV0aW5nQDEuMi9kaXN0L01ldGluZy5taW4uanM=\">https://unpkg.com/meting@1.2/dist/Meting.min.js<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n</ul>\n<h2 id=\"示例\">示例</h2>\n<h3 id=\"QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐\">QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐</h3>\n<h4 id=\"创建自己的歌单-VIP没解析，放到列表里在博客中也播放不了\">创建自己的歌单 (VIP没解析，放到列表里在博客中也播放不了)</h4>\n<p>以QQ音乐为例，登录QQ音乐创建好歌单后，打开歌单，链接有需要的id</p>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730814806680-82efc149-de40-4240-8190-b5641dff6e96.png\" alt=\"\">​</p>\n<h4 id=\"在markdown文件中引用：\">在markdown文件中引用：</h4>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% meting &quot;1534866348&quot; &quot;tencent&quot; &quot;playlist&quot; &quot;autoplay&quot; &quot;mutex:false&quot; &quot;listmaxheight:340px&quot; &quot;preload:none&quot; &quot;theme:#ad7a86&quot;%&#125;</span><br></pre></td></tr></table></figure>\n\n    <div id=\"aplayer-GwpPldZE\" class=\"aplayer aplayer-tag-marker meting-tag-marker\"\n         data-id=\"1534866348\" data-server=\"tencent\" data-type=\"playlist\" data-mode=\"circulation\" data-autoplay=\"false\" data-mutex=\"false\" data-listmaxheight=\"340px\" data-preload=\"none\" data-theme=\"#ad7a86\"\n    ></div>\n<h4 id=\"在html页面中引用：\">在html页面中引用：</h4>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer aplayer-tag-marker meting-tag-marker aplayer-withlrc aplayer-withlist&quot;</span> <span class=\"attr\">data-id</span>=<span class=\"string\">&quot;1534866348&quot;</span> <span class=\"attr\">data-server</span>=<span class=\"string\">&quot;tencent&quot;</span> <span class=\"attr\">data-type</span>=<span class=\"string\">&quot;playlist&quot;</span> <span class=\"attr\">data-mutex</span>=<span class=\"string\">&quot;true&quot;</span> <span class=\"attr\">data-preload</span>=<span class=\"string\">&quot;auto&quot;</span> <span class=\"attr\">data-theme</span>=<span class=\"string\">&quot;#ad7a86&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span> </span><br></pre></td></tr></table></figure>\n<hr>\n<h3 id=\"source文件\">source文件</h3>\n<p>将所需文件放到<code>hexo\\source\\assets</code>​文件夹下，通过下面的方式引用。</p>\n<h4 id=\"在markdown文件中引用：-2\">在markdown文件中引用：</h4>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% aplayer &quot;雾里看花&quot; &quot;AI&quot; &quot;/assets/tgAI.mp3&quot; &quot;/assets/WVWAW5KC.png&quot; autoplay %&#125;</span><br></pre></td></tr></table></figure>\n\n        <div id=\"aplayer-PplEbwfI\" class=\"aplayer aplayer-tag-marker\" style=\"margin-bottom: 20px;\">\n            <pre class=\"aplayer-lrc-content\"></pre>\n        </div>\n        <script>\n          var ap = new APlayer({\n            element: document.getElementById(\"aplayer-PplEbwfI\"),\n            narrow: false,\n            autoplay: false,\n            showlrc: false,\n            music: {\n              title: \"雾里看花\",\n              author: \"AI\",\n              url: \"/assets/tgAI.mp3\",\n              pic: \"/assets/WVWAW5KC.png\",\n              lrc: \"\"\n            }\n          });\n          window.aplayers || (window.aplayers = []);\n          window.aplayers.push(ap);\n        </script>\n<h4 id=\"在html页面中引用：-2\">在html页面中引用：</h4>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;aplayer-iDYFLcdV&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer aplayer-tag-marker&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;margin-bottom: 20px;&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">pre</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;aplayer-lrc-content&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">pre</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span>&gt;</span><span class=\"language-javascript\"></span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"keyword\">var</span> ap = <span class=\"keyword\">new</span> <span class=\"title class_\">APlayer</span>(&#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">element</span>: <span class=\"variable language_\">document</span>.<span class=\"title function_\">getElementById</span>(<span class=\"string\">&quot;aplayer-iDYFLcdV&quot;</span>),</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">narrow</span>: <span class=\"literal\">false</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">autoplay</span>: <span class=\"literal\">true</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">showlrc</span>: <span class=\"literal\">false</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">            <span class=\"attr\">music</span>: &#123;</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"attr\">title</span>: <span class=\"string\">&quot;雾里看花&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"attr\">author</span>: <span class=\"string\">&quot;AI&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"attr\">url</span>: <span class=\"string\">&quot;/assets/tgAI.mp3&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"attr\">pic</span>: <span class=\"string\">&quot;/assets/WVWAW5KC.png&quot;</span>,</span></span><br><span class=\"line\"><span class=\"language-javascript\">              <span class=\"attr\">lrc</span>: <span class=\"string\">&quot;&quot;</span></span></span><br><span class=\"line\"><span class=\"language-javascript\">            &#125;</span></span><br><span class=\"line\"><span class=\"language-javascript\">          &#125;);</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"variable language_\">window</span>.<span class=\"property\">aplayers</span> || (<span class=\"variable language_\">window</span>.<span class=\"property\">aplayers</span> = []);</span></span><br><span class=\"line\"><span class=\"language-javascript\">          <span class=\"variable language_\">window</span>.<span class=\"property\">aplayers</span>.<span class=\"title function_\">push</span>(ap);</span></span><br><span class=\"line\"><span class=\"language-javascript\"></span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"参考\">参考</h2>\n<ol>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9hcGxheWVyLmpzLm9yZy8jL2hvbWU/aWQ9aW5zdGFsbGF0aW9u\">Home - APlayer<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL01vZVBsYXllci9oZXhvLXRhZy1hcGxheWVy\">MoePlayer/hexo-tag-aplayer: Embed aplayer in Hexo posts/pages<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0RJWWdvZC9BUGxheWVy\">DIYgod/APlayer:  Wow, such a beautiful HTML5 music player<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"33502-1730425843713-524\",\n\t\t\t        \"name\": \"虫子的生存笔记\",\n\t\t\t        \"qrcode\": \"https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png\",\n\t\t\t        \"keyword\": \"more\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","raw":null,"categories":[{"name":"笔记","path":"api/categories/笔记.json"},{"name":"笔记/其他","path":"api/categories/笔记/其他.json"}],"tags":[{"name":"音乐","path":"api/tags/音乐.json"},{"name":"Hexo","path":"api/tags/Hexo.json"},{"name":"播放器","path":"api/tags/播放器.json"},{"name":"Next","path":"api/tags/Next.json"},{"name":"Aplayer","path":"api/tags/Aplayer.json"}]},{"title":"Hexo博客Next主题加入音乐播放器-SQPlayer","slug":"Hexo博客Next主题加入音乐播放器-SQPlayer","date":"2024-10-30T04:08:28.000Z","updated":"2024-11-05T12:09:22.286Z","comments":true,"path":"api/articles/Hexo博客Next主题加入音乐播放器-SQPlayer.json","excerpt":null,"keywords":"Hexo, 科研, 生物, R语言, 爬虫, 生信, 中药, 果蝇, 笔记, 教程, 虫子, 潜叶虫, leafminer, leaf-miner, 生活, 随笔, 原创","cover":"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309377882-54220787-065b-4033-9683-6a36bea1d8ab.png","content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><div id=\"vip-container\"><p>SQPlayer一个简洁到极致的单曲播放器。代码由奇趣保罗(<span class=\"exturl\" data-url=\"aHR0cHM6Ly9wYXVncmFtLmNvbQ==\">https://paugram.com<i class=\"fa fa-external-link-alt\"></i></span>)原创，并遵守 MIT 开源协议。</p>\n<span id=\"more\"></span>\n<h2 id=\"下载播放器\">下载播放器</h2>\n<p>网址：<span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL0RyZWFtZXItUGF1bC9TcXVhcmUtUGxheWVy\">github.com<i class=\"fa fa-external-link-alt\"></i></span></p>\n<p>解压找到需要的文件：SQPlayer.js和SQPlayer.css</p>\n<h2 id=\"安装播放器\">安装播放器</h2>\n<p>将<code>SQPlayer.js</code>​放到博客对应的<code>\\node_modules\\hexo-theme-next\\source\\js</code>​文件夹下。</p>\n<p>将<code>SQPlayer.css</code>​放到博客对应的<code>\\node_modules\\hexo-theme-next\\source\\css</code>​文件夹下。</p>\n<h2 id=\"修改文件\">修改文件</h2>\n<p>修改<code>SQPlayer.css</code>​样式，使其适合主题侧边栏。</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sqp &#123;</span><br><span class=\"line\">    <span class=\"attribute\">width</span>: <span class=\"number\">15em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">height</span>: <span class=\"number\">8em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">    <span class=\"attribute\">float</span>: right;</span><br><span class=\"line\">    <span class=\"attribute\">display</span>: block;</span><br><span class=\"line\">    <span class=\"attribute\">overflow</span>: hidden;</span><br><span class=\"line\">    user-<span class=\"selector-tag\">select</span>: none;</span><br><span class=\"line\">    <span class=\"attribute\">position</span>: relative;</span><br><span class=\"line\">    <span class=\"attribute\">border-radius</span>: <span class=\"number\">0em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">margin</span>: <span class=\"number\">0</span> <span class=\"number\">0</span> <span class=\"number\">1em</span> <span class=\"number\">1em</span>;</span><br><span class=\"line\">    <span class=\"attribute\">background</span>: <span class=\"number\">#c8cae1</span> center/cover no-repeat;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>修改<code>SQPlayer.js</code>​</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setupByCloudMusic = <span class=\"function\">(<span class=\"params\">cid, server</span>) =&gt;</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">const</span> getData = &#123;</span><br><span class=\"line\">      <span class=\"string\">&quot;moeyao&quot;</span>: <span class=\"function\">() =&gt;</span> (</span><br><span class=\"line\">        <span class=\"title function_\">fetch</span>(<span class=\"string\">`https://api.moeyao.cn/meting/?server=tencent&amp;type=playlist&amp;id=<span class=\"subst\">$&#123;cid&#125;</span>`</span>).<span class=\"title function_\">then</span>(</span><br><span class=\"line\">          <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> res.<span class=\"title function_\">json</span>()</span><br><span class=\"line\">        ).<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">items</span>) =&gt;</span> &#123;</span><br><span class=\"line\">          <span class=\"keyword\">const</span> item = items[<span class=\"number\">0</span>];</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"keyword\">if</span> (!item) &#123;</span><br><span class=\"line\">            <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;返回数据为空&quot;</span>);</span><br><span class=\"line\">          &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">          <span class=\"variable language_\">this</span>.<span class=\"title function_\">setup</span>(&#123;</span><br><span class=\"line\">            <span class=\"attr\">title</span>: item.<span class=\"property\">name</span>,</span><br><span class=\"line\">            <span class=\"attr\">artist</span>: item.<span class=\"property\">artist</span>,</span><br><span class=\"line\">            <span class=\"attr\">cover</span>: item.<span class=\"property\">cover</span>,</span><br><span class=\"line\">            <span class=\"attr\">link</span>: item.<span class=\"property\">url</span></span><br><span class=\"line\">          &#125;);</span><br><span class=\"line\">        &#125;)</span><br><span class=\"line\">      ),</span><br><span class=\"line\">      <span class=\"comment\">// &quot;paul&quot;: () =&gt; (</span></span><br><span class=\"line\">      <span class=\"comment\">//   fetch(`https://api.paugram.com/netease/?id=$&#123;cid&#125;`).then(</span></span><br><span class=\"line\">      <span class=\"comment\">//     (res) =&gt; res.json()</span></span><br><span class=\"line\">      <span class=\"comment\">//   ).then((item) =&gt; &#123;</span></span><br><span class=\"line\">      <span class=\"comment\">//     this.setup(item);</span></span><br><span class=\"line\">      <span class=\"comment\">//   &#125;)</span></span><br><span class=\"line\">      <span class=\"comment\">// ),</span></span><br><span class=\"line\">    &#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"把CSS引入到生成的主页中\">把CSS引入到生成的主页中</h2>\n<p>需要在在网页 <code>head</code>​ 标签引用项目的 CSS 文件 <code>SQPlayer.css</code>​：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">head</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">link</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;SQPlayer.css&quot;</span> <span class=\"attr\">rel</span>=<span class=\"string\">&quot;stylesheet&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/css&quot;</span>/&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">head</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>修改<code>\\node_modules\\hexo-theme-next\\layout\\_layout.njk</code>​文件，添加<code>&lt;link href=&quot;SQPlayer.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;/&gt;</code>​</p>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309377882-54220787-065b-4033-9683-6a36bea1d8ab.png\" alt=\"\">​</p>\n<h2 id=\"引入JS\">引入JS</h2>\n<p><code>hexo\\node_modules\\hexo-theme-next\\layout\\_scripts\\index.njk</code></p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730729590552-7dda6c06-cc97-49db-98e6-6041d6db6a05.png\" alt=\"\"></p>\n<h2 id=\"放置到侧边栏\">放置到侧边栏</h2>\n<p>在网页 <code>body</code>​ 标签内的最后一行，或使用 <code>defer</code>​ 属性引用项目的 JS 文件 <code>SQPlayer.js</code>​。</p>\n<p>如果使用 <code>data-cid</code>​ 属性引用播放器，就写成这样，其中 <code>23682511</code>​ 就是网易云音乐一首歌的 ID。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sqp</span> <span class=\"attr\">data-cid</span>=<span class=\"string\">&quot;23682511&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">sqp</span>&gt;</span> # data-cid指定了歌曲ID，这里是tencent QQ音乐源</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;SQPlayer.js&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>修改<code>\\node_modules\\hexo-theme-next\\layout_macro\\sidebar.njk</code>​文件，添加<code>&lt;script src=&quot;SQPlayer.js&quot;&gt;&lt;/script&gt;</code>​</p>\n<p>修改 <code>\\node_modules\\hexo-theme-next\\layout_macro\\sidebar.njk</code>​文件，添加<code>&lt;sqp data-cid=&quot;2112569740&quot;&gt;&lt;/sqp&gt;</code>​</p>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309397117-c7d822ec-9993-4327-ad20-c7557950a39b.png\" alt=\"\">​</p>\n<p>在网页 <code>body </code>​标签内插入一个 <code>sqp</code>​ 标签：</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">body</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sqp</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">sqp</span>&gt;</span></span><br><span class=\"line\">...</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">body</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>如果使用静态方法引用播放器，则需要同时编写四个属性。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sqp</span> <span class=\"attr\">data-title</span>=<span class=\"string\">&quot;Crimson &amp; Clover&quot;</span> <span class=\"attr\">data-artist</span>=<span class=\"string\">&quot;Tommy James&quot;</span> <span class=\"attr\">data-cover</span>=<span class=\"string\">&quot;封面链接&quot;</span> <span class=\"attr\">data-link</span>=<span class=\"string\">&quot;歌曲链接&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">sqp</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>其他属性可以参考本文档的 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnBhdWwucmVuL3NxdWFyZS8jLz9pZD0lZTUlYjElOWUlZTYlODAlYTc=\">属性<i class=\"fa fa-external-link-alt\"></i></span> 节点。</p>\n<h3 id=\"属性\">属性</h3>\n<p>Square Player 支持以下属性，它们分别的意义是：</p>\n<table>\n<thead>\n<tr>\n<th><strong>属性名</strong></th>\n<th><strong>用途</strong></th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>left</td>\n<td>至左显示</td>\n</tr>\n<tr>\n<td>data-title</td>\n<td>歌曲名，用于自定义歌曲</td>\n</tr>\n<tr>\n<td>data-artist</td>\n<td>艺术家，用于自定义歌曲</td>\n</tr>\n<tr>\n<td>data-cover</td>\n<td>专辑封面图片链接，用于自定义歌曲</td>\n</tr>\n<tr>\n<td>data-link</td>\n<td>歌曲地址，用于自定义歌曲</td>\n</tr>\n<tr>\n<td>data-cid</td>\n<td>网易云音乐的 ID，如果编写了此项目，将忽略以上 data-*设置</td>\n</tr>\n</tbody>\n</table>\n<p>将以上属性放在<code>&lt;sqp&gt;</code>​ 标签内即可生效。</p>\n<h2 id=\"修改歌曲-网易云\">修改歌曲-网易云</h2>\n<h3 id=\"歌单ID\">歌单ID</h3>\n<p>打开网易云找到喜欢的歌单，浏览器地址栏会显示ID</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730314435092-31479aa8-9638-4a64-a7eb-52e69244c322.png\" alt=\"\"></p>\n<p>将该ID填写到<code>https://api.moeyao.cn/meting/?type=playlist&amp;id=</code>连接中，可查看到返回的Json数据。</p>\n<p><img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1730314761553-c0bf9c71-0f88-44d6-a8e6-1acd992ded57.png\" alt=\"\"></p>\n<p>可以根据返回的歌单Json在html页面的<code>body</code>中手动修改成喜欢的单曲。无需改动SQPlayer.js</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sqp</span> <span class=\"attr\">data-title</span>=<span class=\"string\">&quot;라라라&quot;</span> <span class=\"attr\">data-artist</span>=<span class=\"string\">&quot;淑熙&quot;</span> <span class=\"attr\">data-cover</span>=<span class=\"string\">&quot;https://api.moeyao.cn/meting/?server=netease&amp;type=cover&amp;id=5357743&quot;</span> <span class=\"attr\">data-link</span>=<span class=\"string\">&quot;https://api.moeyao.cn/meting/?server=netease&amp;type=url&amp;id=5357743&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">sqp</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>此外，也可以通过修改SQPlayer.js文件来引用单曲。</p>\n<p>首先，在html页面的<code>body</code>中引用歌单id</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">sqp</span> <span class=\"attr\">data-cid</span>=<span class=\"string\">&quot;6846019260&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">sqp</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>还要修改SQPlayer.js文件，</p>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p><code>fetch()</code></p>\n</li>\n<li class=\"lvl-2\">\n<p><code>const item = items[0];</code>中[0]表示第一首歌，依此类推，选择对应的单曲</p>\n</li>\n</ul>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">setupByCloudMusic = <span class=\"function\">(<span class=\"params\">cid, server</span>) =&gt;</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">const</span> getData = &#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;moeyao&quot;</span>: <span class=\"function\">() =&gt;</span> (</span><br><span class=\"line\">      <span class=\"title function_\">fetch</span>(<span class=\"string\">`https://api.moeyao.cn/meting/?type=playlist&amp;id=<span class=\"subst\">$&#123;cid&#125;</span>`</span>).<span class=\"title function_\">then</span>(</span><br><span class=\"line\">        <span class=\"function\">(<span class=\"params\">res</span>) =&gt;</span> res.<span class=\"title function_\">json</span>()</span><br><span class=\"line\">      ).<span class=\"title function_\">then</span>(<span class=\"function\">(<span class=\"params\">items</span>) =&gt;</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">const</span> item = items[<span class=\"number\">0</span>]; <span class=\"comment\">// 获取list第一首歌曲</span></span><br><span class=\"line\">        <span class=\"keyword\">if</span> (!item) &#123;</span><br><span class=\"line\">          <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Error</span>(<span class=\"string\">&quot;返回数据为空&quot;</span>);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"variable language_\">this</span>.<span class=\"title function_\">setup</span>(&#123;</span><br><span class=\"line\">          <span class=\"attr\">title</span>: item.<span class=\"property\">name</span>,</span><br><span class=\"line\">          <span class=\"attr\">artist</span>: item.<span class=\"property\">artist</span>,</span><br><span class=\"line\">          <span class=\"attr\">cover</span>: item.<span class=\"property\">cover</span>,</span><br><span class=\"line\">          <span class=\"attr\">link</span>: item.<span class=\"property\">url</span></span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">      &#125;)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    <span class=\"comment\">// &quot;paul&quot;: () =&gt; (</span></span><br><span class=\"line\">    <span class=\"comment\">//   fetch(`https://api.paugram.com/netease/?id=$&#123;cid&#125;`).then(</span></span><br><span class=\"line\">    <span class=\"comment\">//     (res) =&gt; res.json()</span></span><br><span class=\"line\">    <span class=\"comment\">//   ).then((item) =&gt; &#123;</span></span><br><span class=\"line\">    <span class=\"comment\">//     this.setup(item);</span></span><br><span class=\"line\">    <span class=\"comment\">//   &#125;)</span></span><br><span class=\"line\">    <span class=\"comment\">// ),</span></span><br><span class=\"line\">  &#125;;</span><br></pre></td></tr></table></figure>\n<h2 id=\"参考\">参考</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9kb2NzLnBhdWwucmVuL3NxdWFyZS8jLw==\">Square Player 文档<i class=\"fa fa-external-link-alt\"></i></span></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"33502-1730425843713-524\",\n\t\t\t        \"name\": \"虫子的生存笔记\",\n\t\t\t        \"qrcode\": \"https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png\",\n\t\t\t        \"keyword\": \"more\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","raw":null,"categories":[{"name":"笔记","path":"api/categories/笔记.json"},{"name":"笔记/其他","path":"api/categories/笔记/其他.json"}],"tags":[{"name":"音乐","path":"api/tags/音乐.json"},{"name":"SQPlayer","path":"api/tags/SQPlayer.json"},{"name":"Hexo","path":"api/tags/Hexo.json"},{"name":"播放器","path":"api/tags/播放器.json"},{"name":"Next","path":"api/tags/Next.json"}]}]}