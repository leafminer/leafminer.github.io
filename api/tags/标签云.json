{"name":"标签云","postlist":[{"title":"Hexo博客Next主题添加动态标签词云","slug":"Hexo博客Next主题添加动态标签词云","date":"2024-10-21T17:57:06.000Z","updated":"2024-10-23T17:23:29.906Z","comments":true,"path":"api/articles/Hexo博客Next主题添加动态标签词云.json","excerpt":null,"keywords":"Hexo, 科研, 生物, R语言, 爬虫, 生信, 中药, 果蝇, 笔记, 教程, 虫子, 潜叶虫, leafminer, leaf-miner, 生活, 随笔, 原创","cover":null,"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><div id=\"vip-container\"><p>使用&quot;hexo-tag-cloud&quot;插件添加动态标签云。</p>\n<span id=\"more\"></span>\n<h2 id=\"效果\">效果</h2>\n<p><a href=\"https://leafminer.github.io/\">损不足 - 奉有余 (leafminer.github.io)</a></p>\n<h2 id=\"安装插件\">安装插件</h2>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>进入到 hexo 的根目录，然后在 package.json 中添加依赖: “hexo-tag-cloud”: “2.1.*”</p>\n</li>\n<li class=\"lvl-2\">\n<p>然后执行<code>npm install</code>命令</p>\n</li>\n<li class=\"lvl-2\">\n<p>或者<code>npm install --save hexo-tag-cloud</code>进行安装</p>\n</li>\n</ul>\n<h2 id=\"配置主题\">配置主题</h2>\n<p>找到文件 hexo\\node_modules\\hexo-theme-next\\layout\\_macrosidebar.njk, 然后添加如下内容。</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;% if site.tags.length &gt; 1 %&#125;</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; url_for(&#x27;/js/tagcloud.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">script</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text/javascript&quot;</span> <span class=\"attr\">charset</span>=<span class=\"string\">&quot;utf-8&quot;</span> <span class=\"attr\">src</span>=<span class=\"string\">&quot;&#123;&#123; url_for(&#x27;/js/tagcanvas.js&#x27;) &#125;&#125;&quot;</span>&gt;</span><span class=\"tag\">&lt;/<span class=\"name\">script</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;widget-wrap&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">h3</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;widget-title&quot;</span>&gt;</span>标签云<span class=\"tag\">&lt;/<span class=\"name\">h3</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;myCanvasContainer&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;widget tagcloud&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">canvas</span> <span class=\"attr\">width</span>=<span class=\"string\">&quot;250&quot;</span> <span class=\"attr\">height</span>=<span class=\"string\">&quot;250&quot;</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;resCanvas&quot;</span> <span class=\"attr\">style</span>=<span class=\"string\">&quot;width:100%&quot;</span>&gt;</span></span><br><span class=\"line\">      &#123;&#123; list_tags() &#125;&#125;</span><br><span class=\"line\">    <span class=\"tag\">&lt;/<span class=\"name\">canvas</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">&#123;% endif %&#125;</span><br></pre></td></tr></table></figure>\n<p>在你的Hexo博客根目录，找到 _config.yml 文件然后添加如下的配置项:</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># hexo-tag-cloud</span></span><br><span class=\"line\"><span class=\"attr\">tag_cloud:</span></span><br><span class=\"line\">    <span class=\"attr\">textFont:</span> <span class=\"string\">Trebuchet</span> <span class=\"string\">MS,</span> <span class=\"string\">Helvetica</span></span><br><span class=\"line\">    <span class=\"attr\">textColor:</span> <span class=\"string\">&#x27;#333&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">textHeight:</span> <span class=\"number\">25</span></span><br><span class=\"line\">    <span class=\"attr\">outlineColor:</span> <span class=\"string\">&#x27;#E2E1D1&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">maxSpeed:</span> <span class=\"number\">0.5</span></span><br><span class=\"line\">    <span class=\"attr\">pauseOnSelected:</span> <span class=\"literal\">false</span> <span class=\"comment\"># true 意味着当选中对应 tag 时,停止转动</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"预览部署\">预览部署</h2>\n<ul class=\"lvl-0\">\n<li class=\"lvl-2\">\n<p>完成安装和显示，可以通过 <code>hexo clean &amp;&amp; hexo g &amp;&amp; hexo s</code> 来进行本地预览, <code>hexo clean</code>为必须选项。</p>\n</li>\n<li class=\"lvl-2\">\n<p>PS:不要使用<code>hexo g -d</code> 或者<code> hexo d -g</code>这类组合命令。</p>\n</li>\n</ul>\n<h2 id=\"参考\">参考</h2>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvaGV4by10YWctY2xvdWQ=\">hexo-tag-cloud - npm (npmjs.com)<i class=\"fa fa-external-link-alt\"></i></span></p>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"33502-1730425843713-524\",\n\t\t\t        \"name\": \"虫子的生存笔记\",\n\t\t\t        \"qrcode\": \"https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png\",\n\t\t\t        \"keyword\": \"more\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","raw":null,"categories":[{"name":"笔记","path":"api/categories/笔记.json"},{"name":"笔记/学习","path":"api/categories/笔记/学习.json"}],"tags":[{"name":"Hexo","path":"api/tags/Hexo.json"},{"name":"Next","path":"api/tags/Next.json"},{"name":"标签云","path":"api/tags/标签云.json"},{"name":"动态","path":"api/tags/动态.json"},{"name":"tag-cloud","path":"api/tags/tag-cloud.json"}]}]}