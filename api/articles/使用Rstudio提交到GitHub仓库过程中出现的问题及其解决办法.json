{"title":"使用Rstudio提交到GitHub仓库过程中出现的问题及其解决办法","slug":"使用Rstudio提交到GitHub仓库过程中出现的问题及其解决办法","date":"2024-12-02T16:29:33.000Z","updated":"2024-12-02T16:38:21.275Z","comments":true,"path":"api/articles/使用Rstudio提交到GitHub仓库过程中出现的问题及其解决办法.json","excerpt":"问题1：在使用Rstudio中的git，提交 (commit) 时会出现以下错误：1<br>error: gpg failed to sign the data<br>​ [Figure] ​","covers":["https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202233315.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202235057737.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241203002453097.png"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><div id=\"vip-container\"><h2 id=\"问题1：\">问题1：</h2>\n<p>在使用Rstudio中的git，提交 (commit) 时会出现以下错误：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">error: gpg failed to sign the data</span><br></pre></td></tr></table></figure>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202233315.png\" alt=\"\">​</p>\n<span id=\"more\"></span>\n<p>通过搜索，查到以下解决办法，办法可行。</p>\n<p>这是一个常见的错误，通常与与GnuPG（GNU隐私保护）工具集相关的问题有关。GnuPG是一个用于加密和数字签名的免费软件，常用于保护Git提交的完整性和真实性。</p>\n<h2 id=\"错误原因\">错误原因</h2>\n<p>gpg失败签名数据错误可能由以下几个原因引起：</p>\n<h3 id=\"a-GnuPG未正确配置\">a. GnuPG未正确配置</h3>\n<p>在某些情况下，GnuPG未正确配置可能导致无法签名数据。这可能是由于缺少必要的密钥对或不正确的配置文件设置。</p>\n<h3 id=\"b-缺少GnuPG密钥\">b. 缺少GnuPG密钥</h3>\n<p>要对Git提交进行签名，您需要使用GnuPG密钥对。如果您没有生成或导入密钥，那么Git将无法执行签名操作。</p>\n<h3 id=\"c-Git设置错误\">c. Git设置错误</h3>\n<p>有时，Git的设置可能会影响GnuPG的签名功能。可能存在不正确的配置或设置冲突，导致gpg无法成功签名数据。</p>\n<h2 id=\"解决办法\">解决办法</h2>\n<ol>\n<li class=\"lvl-3\">\n<p>查看是否存在GnuPG密钥</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --list-keys</span><br></pre></td></tr></table></figure>\n<p>存在密钥显示如图：<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202235057737.png\" alt=\"\">​</p>\n<ol start=\"2\">\n<li class=\"lvl-3\">\n<p>生成新的密钥</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --gen-key</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li class=\"lvl-3\">\n<p>导入GnuPG密钥</p>\n</li>\n</ol>\n<p>导出新生成的公钥和私钥：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --output pubkey.gpg --armor --export zhang6410319@hotmail.com</span><br><span class=\"line\">gpg --output privkey.gpg --armor --export-secret-key zhang6410319@hotmail.com</span><br></pre></td></tr></table></figure>\n<p>将公钥和私钥导入到GnuPG密钥环中：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --import pubkey.gpg</span><br><span class=\"line\">gpg --allow-secret-key-import --import privkey.gpg</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li class=\"lvl-3\">\n<p>问题解决</p>\n</li>\n</ol>\n<h2 id=\"问题2：\">问题2：</h2>\n<p>Rstudio和VStudio运行Git过程中会弹出账号选择窗口。</p>\n<p>原因：设定了多个账号，未设定默认。</p>\n<h2 id=\"解决办法-2\">解决办法</h2>\n<h3 id=\"方法一-设定默认账号\">方法一 设定默认账号</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># git config --global credential.&lt;URL&gt;.username &lt;USERNAME&gt;</span><br><span class=\"line\">git config --global credential.https://github.com.username=leafminer</span><br></pre></td></tr></table></figure>\n<p>关联默认账户与已存在于本地的clone：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote set-url origin https://leafminer@github.com/</span><br><span class=\"line\"># clone时使用下面的方式，可直接关联：</span><br><span class=\"line\"># git clone https://leafminer@github.com/mona/test</span><br></pre></td></tr></table></figure>\n<h3 id=\"方法二-退出多余账号\">方法二 退出多余账号</h3>\n<p>使用<code>git credential-manager github</code>​管理账号</p>\n<p>先查看当前存在的账号：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git credential-manager github</span><br></pre></td></tr></table></figure>\n<p>删除不需要的账号：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git credential-manager github logout 22977646</span><br></pre></td></tr></table></figure>\n<p>示例结果如下图：</p>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241203002453097.png\" alt=\"\">​</p>\n<h2 id=\"参考\">参考</h2>\n<ol>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9nZWVrLWRvY3MuY29tL2dpdC9naXQtcXVlc3Rpb25zLzgwN19naXRfZ2l0X2Vycm9yX2dwZ19mYWlsZWRfdG9fc2lnbl9kYXRhLmh0bWw=\">https://geek-docs.com/git/git-questions/807_git_git_error_gpg_failed_to_sign_data.html<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9naXRodWIuY29tL2dpdC1lY29zeXN0ZW0vZ2l0LWNyZWRlbnRpYWwtbWFuYWdlci9ibG9iL21haW4vZG9jcy9tdWx0aXBsZS11c2Vycy5tZCN0bGRyLXRlbGwtZ2NtLXRvLXJlbWVtYmVyLXdoaWNoLWFjY291bnQtdG8tdXNl\">https://github.com/git-ecosystem/git-credential-manager/blob/main/docs/multiple-users.md#tldr-tell-gcm-to-remember-which-account-to-use<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"33502-1730425843713-524\",\n\t\t\t        \"name\": \"虫子的生存笔记\",\n\t\t\t        \"qrcode\": \"https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png\",\n\t\t\t        \"keyword\": \"more\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","more":"<p>通过搜索，查到以下解决办法，办法可行。</p>\n<p>这是一个常见的错误，通常与与GnuPG（GNU隐私保护）工具集相关的问题有关。GnuPG是一个用于加密和数字签名的免费软件，常用于保护Git提交的完整性和真实性。</p>\n<h2 id=\"错误原因\">错误原因</h2>\n<p>gpg失败签名数据错误可能由以下几个原因引起：</p>\n<h3 id=\"a-GnuPG未正确配置\">a. GnuPG未正确配置</h3>\n<p>在某些情况下，GnuPG未正确配置可能导致无法签名数据。这可能是由于缺少必要的密钥对或不正确的配置文件设置。</p>\n<h3 id=\"b-缺少GnuPG密钥\">b. 缺少GnuPG密钥</h3>\n<p>要对Git提交进行签名，您需要使用GnuPG密钥对。如果您没有生成或导入密钥，那么Git将无法执行签名操作。</p>\n<h3 id=\"c-Git设置错误\">c. Git设置错误</h3>\n<p>有时，Git的设置可能会影响GnuPG的签名功能。可能存在不正确的配置或设置冲突，导致gpg无法成功签名数据。</p>\n<h2 id=\"解决办法\">解决办法</h2>\n<ol>\n<li class=\"lvl-3\">\n<p>查看是否存在GnuPG密钥</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --list-keys</span><br></pre></td></tr></table></figure>\n<p>存在密钥显示如图：<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202235057737.png\" alt=\"\">​</p>\n<ol start=\"2\">\n<li class=\"lvl-3\">\n<p>生成新的密钥</p>\n</li>\n</ol>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --gen-key</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li class=\"lvl-3\">\n<p>导入GnuPG密钥</p>\n</li>\n</ol>\n<p>导出新生成的公钥和私钥：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --output pubkey.gpg --armor --export zhang6410319@hotmail.com</span><br><span class=\"line\">gpg --output privkey.gpg --armor --export-secret-key zhang6410319@hotmail.com</span><br></pre></td></tr></table></figure>\n<p>将公钥和私钥导入到GnuPG密钥环中：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">gpg --import pubkey.gpg</span><br><span class=\"line\">gpg --allow-secret-key-import --import privkey.gpg</span><br></pre></td></tr></table></figure>\n<ol start=\"4\">\n<li class=\"lvl-3\">\n<p>问题解决</p>\n</li>\n</ol>\n<h2 id=\"问题2：\">问题2：</h2>\n<p>Rstudio和VStudio运行Git过程中会弹出账号选择窗口。</p>\n<p>原因：设定了多个账号，未设定默认。</p>\n<h2 id=\"解决办法-2\">解决办法</h2>\n<h3 id=\"方法一-设定默认账号\">方法一 设定默认账号</h3>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># git config --global credential.&lt;URL&gt;.username &lt;USERNAME&gt;</span><br><span class=\"line\">git config --global credential.https://github.com.username=leafminer</span><br></pre></td></tr></table></figure>\n<p>关联默认账户与已存在于本地的clone：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote set-url origin https://leafminer@github.com/</span><br><span class=\"line\"># clone时使用下面的方式，可直接关联：</span><br><span class=\"line\"># git clone https://leafminer@github.com/mona/test</span><br></pre></td></tr></table></figure>\n<h3 id=\"方法二-退出多余账号\">方法二 退出多余账号</h3>\n<p>使用<code>git credential-manager github</code>​管理账号</p>\n<p>先查看当前存在的账号：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git credential-manager github</span><br></pre></td></tr></table></figure>\n<p>删除不需要的账号：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git credential-manager github logout 22977646</span><br></pre></td></tr></table></figure>\n<p>示例结果如下图：</p>\n<p>​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241203002453097.png\" alt=\"\">​</p>\n<h2 id=\"参考\">参考</h2>\n<ol>\n<li class=\"lvl-3\">\n<p><a href=\"https://geek-docs.com/git/git-questions/807_git_git_error_gpg_failed_to_sign_data.html\">https://geek-docs.com/git/git-questions/807_git_git_error_gpg_failed_to_sign_data.html</a></p>\n</li>\n<li class=\"lvl-3\">\n<p><a href=\"https://github.com/git-ecosystem/git-credential-manager/blob/main/docs/multiple-users.md#tldr-tell-gcm-to-remember-which-account-to-use\">https://github.com/git-ecosystem/git-credential-manager/blob/main/docs/multiple-users.md#tldr-tell-gcm-to-remember-which-account-to-use</a></p>\n</li>\n</ol>","categories":[{"name":"笔记","path":"api/categories/笔记.json"},{"name":"其他","path":"api/categories/其他.json"}],"tags":[{"name":"Github","path":"api/tags/Github.json"},{"name":"Git","path":"api/tags/Git.json"},{"name":"Rstudio","path":"api/tags/Rstudio.json"},{"name":"commit","path":"api/tags/commit.json"},{"name":"gpg","path":"api/tags/gpg.json"},{"name":"GnuPG","path":"api/tags/GnuPG.json"}]}