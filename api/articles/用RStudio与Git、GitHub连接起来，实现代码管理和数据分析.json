{"title":"用RStudio与Git、GitHub连接起来，实现代码管理和数据分析","slug":"用RStudio与Git、GitHub连接起来，实现代码管理和数据分析","date":"2024-12-01T01:23:43.000Z","updated":"2024-12-01T08:20:45.460Z","comments":true,"path":"api/articles/用RStudio与Git、GitHub连接起来，实现代码管理和数据分析.json","excerpt":"​ [Figure] ​Git的基本操作以及如何通过RStudio与GitHub进行交互。这里仅介绍了通过Git和Rstudio管理GitHub仓库的设置步骤。更多内容见 https://happygitwithr.com/","covers":["https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201155718.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130170835.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130195644.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130234334.png","https://cdn.nlark.com/yuque/0/2024/png/12885947/1732982642594-ab266bee-213c-44dc-b752-6777f5ef82d3.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png","https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010316.png","https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987069740-8ea9b073-2149-4f61-a701-15f5d31d140d.png","https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987111221-04846302-4420-484e-9589-fade75270b56.png"],"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><script class=\"meting-secondary-script-marker\" src=\"\\assets\\js\\Meting.min.js\"></script><div id=\"vip-container\"><p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201155718.png\" alt=\"\">​</p>\n<p>Git的基本操作以及如何通过RStudio与GitHub进行交互。这里仅介绍了通过Git和Rstudio管理GitHub仓库的设置步骤。更多内容见 <span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYXBweWdpdHdpdGhyLmNvbS8=\">https://happygitwithr.com/<i class=\"fa fa-external-link-alt\"></i></span></p>\n<span id=\"more\"></span>\n<h2 id=\"配置Git\">配置Git</h2>\n<p>使用下面的命令查看Git的安装位置和版本。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">which git</span><br><span class=\"line\"></span><br><span class=\"line\">git --version</span><br></pre></td></tr></table></figure>\n<p>更新Git</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git update-git-for-windows</span><br></pre></td></tr></table></figure>\n<p>设置Git用户名和邮件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name &quot;leafminer&quot;</span><br><span class=\"line\">git config --global user.email &quot;zhang6410319@hotmail.com&quot;</span><br><span class=\"line\">git config --global --list</span><br></pre></td></tr></table></figure>\n<p>也可以使用R包<code>usethis</code>​</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>usethis<span class=\"punctuation\">)</span></span><br><span class=\"line\">use_git_config<span class=\"punctuation\">(</span>user.name <span class=\"operator\">=</span> <span class=\"string\">&quot;leafminer&quot;</span><span class=\"punctuation\">,</span> user.email <span class=\"operator\">=</span> <span class=\"string\">&quot;zhang6410319@hotmail.com&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>设定默认的初始分支名为<code>main</code>​</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global init.defaultBranch main</span><br></pre></td></tr></table></figure>\n<p>R包<code>usethis</code>​</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 默认为main</span></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>git_default_branch_configure<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"设定令牌\">设定令牌</h2>\n<p>R包<code>usethis</code>​</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 跳转到 https://github.com/settings/tokens，创建Token</span></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>create_github_token<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 粘贴保存创建的Token</span></span><br><span class=\"line\">gitcreds<span class=\"operator\">::</span>gitcreds_set<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 查看</span></span><br><span class=\"line\">gitcreds_get<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130170835.png\" alt=\"\">​</p>\n<p>设定GitHub远程仓库和仓库地址</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote set-url 2024-R-PhDdata https://github.com/leafminer/2024-R-PhDdata.git</span><br><span class=\"line\">git remote -v</span><br></pre></td></tr></table></figure>\n<p>R包<code>usethis</code>​</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看远程库和地址</span><br><span class=\"line\">usethis::git_remotes()</span><br><span class=\"line\"># 修改远程库和地址</span><br><span class=\"line\">usethis::use_git_remote(</span><br><span class=\"line\">  &quot;2024-R-PhDdata&quot;,</span><br><span class=\"line\">  &quot;https://github.com/leafminer/2024-R-PhDdata.git&quot;,</span><br><span class=\"line\">  overwrite = TRUE</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130195644.png\" alt=\"\">​</p>\n<p>​<code>credentials</code>​和<code>gh</code>​包</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">credentials<span class=\"operator\">::</span>set_github_pat<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>gh_token_help<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>git_sitrep<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">gh<span class=\"operator\">::</span>gh_whoami<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"设定密钥\">设定密钥</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -b 4096 -C &quot;Rstudio&quot;</span><br><span class=\"line\"># ssh-keygen -t ed25519 -C &quot;Rstudio&quot;</span><br></pre></td></tr></table></figure>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130234334.png\" alt=\"\">​</p>\n<p>确保ssh - agent处于运行状态：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eval $(ssh-agent -s)</span><br><span class=\"line\"># Agent pid 1542</span><br></pre></td></tr></table></figure>\n<p>添加你的密钥，用正确的名字代替你的钥匙。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-add ~/.ssh/id_rstudio</span><br></pre></td></tr></table></figure>\n<p>复制公钥到剪贴板：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">clip &lt; ~/.ssh/id_rstudio.pub</span><br></pre></td></tr></table></figure>\n<p>ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIA9kHA+/Vx8ksFibaRCYYlj2r/zS5DezRmSOsn00AltJ Rstudio</p>\n<h2 id=\"使用Git连接GitHub仓库\">使用Git连接GitHub仓库</h2>\n<p>登录GitHub，添加公钥到远程仓库。步骤见<a href=\"https://blog.leafminer.cn/2024/11/30/b3793277a33f/\">https://blog.leafminer.cn/2024/11/30/b3793277a33f/</a></p>\n<p>检验是否成功</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -T git@github.com</span><br></pre></td></tr></table></figure>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1732982642594-ab266bee-213c-44dc-b752-6777f5ef82d3.png\" alt=\"\">​</p>\n<p>克隆远程仓库到本地</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/leafminer/2024-R-PhDdata.git</span><br></pre></td></tr></table></figure>\n<p>使用Git上传本地文件到远程仓库</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit</span><br><span class=\"line\">git push</span><br></pre></td></tr></table></figure>\n<p>在Windows上，你可能会看到一个关于LF的消息会被CRLF所取代。这是正常的，不需要对你的部分采取任何行动。Windows对行结尾的处理与其他操作系统不同，但Git for Windows的默认设置适合大多数人和情况。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --show-origin --get core.autocrlf</span><br><span class=\"line\"># file:&quot;C:\\\\ProgramData/Git/config&quot;      true</span><br><span class=\"line\"># If your value shows as false, you can set it to true with this command:</span><br><span class=\"line\">git config --global core.autocrlf true</span><br></pre></td></tr></table></figure>\n<h2 id=\"使用Rstudio管理仓库\">使用Rstudio管理仓库</h2>\n<h4 id=\"连接远程仓库\">连接远程仓库</h4>\n<ol>\n<li class=\"lvl-3\">\n<p>使用已有的仓库，或者创建新的仓库。通过<code>Add a README file</code>​初始化仓库。复制下图的链接：</p>\n</li>\n</ol>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png\" alt=\"\">​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png\" alt=\"\">​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png\" alt=\"\">​</p>\n<ol start=\"2\">\n<li class=\"lvl-3\">\n<p>在Rstudio中创建新的项目：</p>\n</li>\n</ol>\n<p>​<code>File</code>​ &gt; <code>New Project</code>​ &gt; <code>Version Control</code>​ &gt; <code>Git</code>​ <strong>Repository URL</strong>粘贴上一步复制的仓库链接。</p>\n<p>​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010316.png\" alt=\"\">​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010343.png\" alt=\"\">​<img data-src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010358.png\" alt=\"\">​</p>\n<ol start=\"3\">\n<li class=\"lvl-3\">\n<p>上述操作应该会自动从GitHub下载名为README.md的文件。表明本地与远程连接成功。</p>\n</li>\n</ol>\n<h4 id=\"保存，更改和提交\">保存，更改和提交</h4>\n<p>点击右上方窗格中的&quot; Git &quot;选项卡。</p>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987069740-8ea9b073-2149-4f61-a701-15f5d31d140d.png\" alt=\"\">​</p>\n<p>或者</p>\n<p>​<img data-src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987111221-04846302-4420-484e-9589-fade75270b56.png\" alt=\"\">​</p>\n<p>勾选文件旁边的“<code>Staged</code>​”（已暂存）复选框，表示你想要将这个文件的更改包含在即将进行的提交中。</p>\n<p>如果你还没有在Git弹出窗口中，点击“<code>Commit</code>​”（提交）按钮。这将打开一个新的提交窗口。</p>\n<p><strong>输入提交信息</strong>：在提交窗口中，你需要输入一个“Commit message”（提交信息），这个信息简要描述了你所做的更改。在这个例子中，你可以输入“Commit from RStudio”来表示这个提交是在RStudio中完成的。</p>\n<p><strong>完成提交</strong>：输入完提交信息后，点击“<code>Commit</code>​”按钮来完成提交过程。这样，你的更改就会被保存到本地的Git仓库中。点击“<code>Push</code>​”推送到GitHub仓库。</p>\n<h2 id=\"参考\">参考</h2>\n<ol>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYXBweWdpdHdpdGhyLmNvbS9zc2gta2V5cw==\">https://happygitwithr.com/ssh-keys<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n<li class=\"lvl-3\">\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9oYXBweWdpdHdpdGhyLmNvbS9wdXNoLXB1bGwtZ2l0aHVi\">https://happygitwithr.com/push-pull-github<i class=\"fa fa-external-link-alt\"></i></span></p>\n</li>\n</ol>\n</div>\n\n\t\t\t<script src=\"https://my.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n\t\t\t<script>\n\t\t\tvar isMobile = navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i);\n\t\t\tif (!isMobile) {\n\t\t\t    var btw = new BTWPlugin();\n\t\t\t    btw.init({\n\t\t\t        \"id\": \"vip-container\",\n\t\t\t        \"blogId\": \"33502-1730425843713-524\",\n\t\t\t        \"name\": \"虫子的生存笔记\",\n\t\t\t        \"qrcode\": \"https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png\",\n\t\t\t        \"keyword\": \"more\"\n\t\t\t    });\n\t\t\t}\n\t\t\t</script>\n\t\t","more":"<h2 id=\"配置Git\">配置Git</h2>\n<p>使用下面的命令查看Git的安装位置和版本。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">which git</span><br><span class=\"line\"></span><br><span class=\"line\">git --version</span><br></pre></td></tr></table></figure>\n<p>更新Git</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git update-git-for-windows</span><br></pre></td></tr></table></figure>\n<p>设置Git用户名和邮件</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global user.name &quot;leafminer&quot;</span><br><span class=\"line\">git config --global user.email &quot;zhang6410319@hotmail.com&quot;</span><br><span class=\"line\">git config --global --list</span><br></pre></td></tr></table></figure>\n<p>也可以使用R包<code>usethis</code>​</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>usethis<span class=\"punctuation\">)</span></span><br><span class=\"line\">use_git_config<span class=\"punctuation\">(</span>user.name <span class=\"operator\">=</span> <span class=\"string\">&quot;leafminer&quot;</span><span class=\"punctuation\">,</span> user.email <span class=\"operator\">=</span> <span class=\"string\">&quot;zhang6410319@hotmail.com&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>设定默认的初始分支名为<code>main</code>​</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --global init.defaultBranch main</span><br></pre></td></tr></table></figure>\n<p>R包<code>usethis</code>​</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 默认为main</span></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>git_default_branch_configure<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<h2 id=\"设定令牌\">设定令牌</h2>\n<p>R包<code>usethis</code>​</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 跳转到 https://github.com/settings/tokens，创建Token</span></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>create_github_token<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 粘贴保存创建的Token</span></span><br><span class=\"line\">gitcreds<span class=\"operator\">::</span>gitcreds_set<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># 查看</span></span><br><span class=\"line\">gitcreds_get<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130170835.png\" alt=\"\">​</p>\n<p>设定GitHub远程仓库和仓库地址</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git remote set-url 2024-R-PhDdata https://github.com/leafminer/2024-R-PhDdata.git</span><br><span class=\"line\">git remote -v</span><br></pre></td></tr></table></figure>\n<p>R包<code>usethis</code>​</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 查看远程库和地址</span><br><span class=\"line\">usethis::git_remotes()</span><br><span class=\"line\"># 修改远程库和地址</span><br><span class=\"line\">usethis::use_git_remote(</span><br><span class=\"line\">  &quot;2024-R-PhDdata&quot;,</span><br><span class=\"line\">  &quot;https://github.com/leafminer/2024-R-PhDdata.git&quot;,</span><br><span class=\"line\">  overwrite = TRUE</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n<p>​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130195644.png\" alt=\"\">​</p>\n<p>​<code>credentials</code>​和<code>gh</code>​包</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">credentials<span class=\"operator\">::</span>set_github_pat<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>gh_token_help<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">usethis<span class=\"operator\">::</span>git_sitrep<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">gh<span class=\"operator\">::</span>gh_whoami<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<hr>\n<h2 id=\"设定密钥\">设定密钥</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -b 4096 -C &quot;Rstudio&quot;</span><br><span class=\"line\"># ssh-keygen -t ed25519 -C &quot;Rstudio&quot;</span><br></pre></td></tr></table></figure>\n<p>​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130234334.png\" alt=\"\">​</p>\n<p>确保ssh - agent处于运行状态：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">eval $(ssh-agent -s)</span><br><span class=\"line\"># Agent pid 1542</span><br></pre></td></tr></table></figure>\n<p>添加你的密钥，用正确的名字代替你的钥匙。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-add ~/.ssh/id_rstudio</span><br></pre></td></tr></table></figure>\n<p>复制公钥到剪贴板：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">clip &lt; ~/.ssh/id_rstudio.pub</span><br></pre></td></tr></table></figure>\n<p>ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIA9kHA+/Vx8ksFibaRCYYlj2r/zS5DezRmSOsn00AltJ Rstudio</p>\n<h2 id=\"使用Git连接GitHub仓库\">使用Git连接GitHub仓库</h2>\n<p>登录GitHub，添加公钥到远程仓库。步骤见<a href=\"https://blog.leafminer.cn/2024/11/30/b3793277a33f/\">https://blog.leafminer.cn/2024/11/30/b3793277a33f/</a></p>\n<p>检验是否成功</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh -T git@github.com</span><br></pre></td></tr></table></figure>\n<p>​<img src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1732982642594-ab266bee-213c-44dc-b752-6777f5ef82d3.png\" alt=\"\">​</p>\n<p>克隆远程仓库到本地</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git clone https://github.com/leafminer/2024-R-PhDdata.git</span><br></pre></td></tr></table></figure>\n<p>使用Git上传本地文件到远程仓库</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git commit</span><br><span class=\"line\">git push</span><br></pre></td></tr></table></figure>\n<p>在Windows上，你可能会看到一个关于LF的消息会被CRLF所取代。这是正常的，不需要对你的部分采取任何行动。Windows对行结尾的处理与其他操作系统不同，但Git for Windows的默认设置适合大多数人和情况。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git config --show-origin --get core.autocrlf</span><br><span class=\"line\"># file:&quot;C:\\\\ProgramData/Git/config&quot;      true</span><br><span class=\"line\"># If your value shows as false, you can set it to true with this command:</span><br><span class=\"line\">git config --global core.autocrlf true</span><br></pre></td></tr></table></figure>\n<h2 id=\"使用Rstudio管理仓库\">使用Rstudio管理仓库</h2>\n<h4 id=\"连接远程仓库\">连接远程仓库</h4>\n<ol>\n<li class=\"lvl-3\">\n<p>使用已有的仓库，或者创建新的仓库。通过<code>Add a README file</code>​初始化仓库。复制下图的链接：</p>\n</li>\n</ol>\n<p>​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png\" alt=\"\">​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png\" alt=\"\">​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png\" alt=\"\">​</p>\n<ol start=\"2\">\n<li class=\"lvl-3\">\n<p>在Rstudio中创建新的项目：</p>\n</li>\n</ol>\n<p>​<code>File</code>​ &gt; <code>New Project</code>​ &gt; <code>Version Control</code>​ &gt; <code>Git</code>​ <strong>Repository URL</strong>粘贴上一步复制的仓库链接。</p>\n<p>​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010316.png\" alt=\"\">​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010343.png\" alt=\"\">​<img src=\"https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010358.png\" alt=\"\">​</p>\n<ol start=\"3\">\n<li class=\"lvl-3\">\n<p>上述操作应该会自动从GitHub下载名为README.md的文件。表明本地与远程连接成功。</p>\n</li>\n</ol>\n<h4 id=\"保存，更改和提交\">保存，更改和提交</h4>\n<p>点击右上方窗格中的&quot; Git &quot;选项卡。</p>\n<p>​<img src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987069740-8ea9b073-2149-4f61-a701-15f5d31d140d.png\" alt=\"\">​</p>\n<p>或者</p>\n<p>​<img src=\"https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987111221-04846302-4420-484e-9589-fade75270b56.png\" alt=\"\">​</p>\n<p>勾选文件旁边的“<code>Staged</code>​”（已暂存）复选框，表示你想要将这个文件的更改包含在即将进行的提交中。</p>\n<p>如果你还没有在Git弹出窗口中，点击“<code>Commit</code>​”（提交）按钮。这将打开一个新的提交窗口。</p>\n<p><strong>输入提交信息</strong>：在提交窗口中，你需要输入一个“Commit message”（提交信息），这个信息简要描述了你所做的更改。在这个例子中，你可以输入“Commit from RStudio”来表示这个提交是在RStudio中完成的。</p>\n<p><strong>完成提交</strong>：输入完提交信息后，点击“<code>Commit</code>​”按钮来完成提交过程。这样，你的更改就会被保存到本地的Git仓库中。点击“<code>Push</code>​”推送到GitHub仓库。</p>\n<h2 id=\"参考\">参考</h2>\n<ol>\n<li class=\"lvl-3\">\n<p><a href=\"https://happygitwithr.com/ssh-keys\">https://happygitwithr.com/ssh-keys</a></p>\n</li>\n<li class=\"lvl-3\">\n<p><a href=\"https://happygitwithr.com/push-pull-github\">https://happygitwithr.com/push-pull-github</a></p>\n</li>\n</ol>","categories":[{"name":"原创","path":"api/categories/原创.json"},{"name":"其他","path":"api/categories/其他.json"}],"tags":[{"name":"Github","path":"api/tags/Github.json"},{"name":"Git","path":"api/tags/Git.json"},{"name":"SSH","path":"api/tags/SSH.json"},{"name":"Rstudio","path":"api/tags/Rstudio.json"},{"name":"Token","path":"api/tags/Token.json"}]}