[{"title":"R语言中多重序列比对（MultipleAlignment）结果导出到文件（fasta文件和Phylip文件）","slug":"R语言中多重序列比对（MultipleAlignment）结果导出到文件（fasta文件和Phylip文件）","url":"/2024/12/05/9f3e7aa190aa/","content":"\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/2024/12/20241205102457133.png)​\n\n这里是使用`Biostrings`​包导入fasta格式的多重比对序列，并导出多重序列比对后的数据为fasta和phylip文件。\n<!--more-->\n\n## 导入多重比对序列\n\n```r\nreadDNAMultipleAlignment(filepath, format) #DNA\nreadRNAMultipleAlignment(filepath, format) #RNA\nreadAAMultipleAlignment(AAMultipleAlignment, format) #蛋白序列\n```\n\n## 导出多重比对序列\n\n### 核酸序列\n\n1. **导出到fasta文件**：\n\n* 如果你需要将你的多重序列比对对象（MultipleAlignment object）导出为fasta文件，你可以将其转换为`DNAStringSet`​对象，然后像下面这样将其写入fasta文件：\n\n```r\nDNAStr <- as(origMAlign, \"DNAStringSet\")\nwriteXStringSet(DNAStr, file=\"myFile.fa\")\n```\n\n* 这里的`as(origMAlign, \"DNAStringSet\")`​是将`origMAlign`​（原始的多重序列比对对象）转换为`DNAStringSet`​类型。`writeXStringSet(DNAStr, file=\"myFile.fa\")`​则是将转换后的`DNAStringSet`​对象`DNAStr`​写入名为`myFile.fa`​的fasta文件中。\n\n2. **导出到Phylip文件**：\n\n* Phylip格式不仅存储你正在导出的序列，还存储对象的列掩码（column masking）。如果你对序列进行了掩码处理，并且在导出Phylip文件时，这个掩码会被记录到你导出的文件中。\n* 与上面的fasta文件示例类似，任何被你掩码掉的行（rows）也会从导出的文件中移除。\n* 导出Phylip文件的代码如下：\n\n```r\nwrite.phylip(phylipMAlign, filepath=\"myFile.txt\")\n```\n\n* 这里的`write.phylip(phylipMAlign, filepath=\"myFile.txt\")`​是将`phylipMAlign`​（可能是已经进行了某些处理的多重序列比对对象）写入名为`myFile.txt`​的Phylip文件中。\n\n### 蛋白序列\n\n```r\nAA_MA <- as(AAMultipleAlignment, \"AAStringSet\")\nwriteXStringSet(AA_MA, file=\"AAMultipleAlignment.fasta\")\n```\n\n* 这里的`as(AAMultipleAlignment, \"AAStringSet\")`是将`AAMultipleAlignment`（原始的多重序列比对对象）转换为`AAStringSet`类型。`writeXStringSet(AA_MA, file=\"AAMultipleAlignment.fasta\")`则是将转换后的`AAStringSet`对象AA_MA写入名为`AAMultipleAlignment`的`fasta`文件中。\n\n## 参考\n\n[https://bioconductor.org/packages/devel/bioc/vignettes/Biostrings/inst/doc/MultipleAlignments.html#exporting-to-file](https://bioconductor.org/packages/devel/bioc/vignettes/Biostrings/inst/doc/MultipleAlignments.html#exporting-to-file)\n","tags":["R语言","多重序列比对","MultipleAlignment","fasta","保存","Biostrings包"],"categories":["原创","科研"]},{"title":"谁说女人不懂逻辑 | 张嘉佳","slug":"谁说女人不懂逻辑 _ 张嘉佳","url":"/2024/12/03/5a0c328a2fee/","content":"\n**张嘉佳**，作家，出版作品有长篇小说《几乎成了英雄》，短篇小说集《从你的全世界路过》等.。微信号：justastudio\n\n人不犯我，我不犯人。\n\n人若犯我，我气得哭了。\n\n去年这时候，有个男性朋友被送进了精神病院，大家引以为鉴。男人进来，女人勿点。\n\n这个朋友，被老婆的闺密们气得手抖，认为她们是傻逼。闺密团也认为他是个傻逼，决定开次审判会，正好他也想当面论一论，所以就定下日期，大家坐而论道。\n\n闺密A说：“明天情人节，你准备了什么礼物？”\n\n朋友踌躇满志，掏出笔记本，上面记录了次日早九点一直到晚上的安排。\n\n闺密B随便翻翻，冷笑说：“都是些老掉牙的玩意儿。”\n\n闺密C悠悠地说“你听过一个寓言没有？明明我喜欢的是苹果，结果你偏偏给了我一车香蕉，我还非得泪流满面感恩戴德。”\n\n“这就是你们男人的逻辑，可我犯了什么错，我只是想要一个苹果而已。”\n\n朋友怒道：“我怎么知道你到底要什么？”\n<!--more-->  \n\n闺密们放声大笑，说：“你连这个都不知道，还好意思觍着狗脸说爱我？”\n\n朋友的气势弱了三分，说：“那女人就没有错的地方吗？”\n\n闺密们齐齐喝了口咖啡，说：“你说说看。”\n\n朋友起劲儿了，说：“正在开会，结果老婆电话一个接一个，讲了在开会啊，还打还打，你就不能体谅我吗？”\n\n闺密们勃然大怒，说：“你是对夺命连环call（电话）有意见？你以为我们想？这都是因为爱你啊！要是心里没有你，谁他妈的给你不停地打电话？”\n\n朋友脖子一缩，咆哮了：“我要的是安静！安静就是我的苹果，电话就是我的香蕉，给我一车香蕉，我还非得泪流满面感恩戴德？我只不过想要一个苹果而已！”\n\n闺密A拍桌子：“造反了！你这么懂逻辑去做律师啊？”\n\n闺密B拍桌子：“太冷血！诡辩狗！”\n\n闺密C拍桌子：“爱是不能交换，不能类比，你这么说就是把爱情当作交易了！”\n\n朋友一滞：“你们先说的苹果香蕉……”\n\n闺密们集体掀桌：“去你妈的苹果香蕉，喜欢吃我们帮你买一车皮，麻烦你对女朋友好一点儿可以吗？”\n\n朋友额头爆青筋。\n\n服务员过来摆好桌子。\n\n闺密们冷笑：“还有怨气？通通说出来，让我们看看你有多low（没品）。”\n\n朋友豁出去了，说：“一次我换灯泡，结果失败了，被骂了一个多星期。”\n\n“至于吗？倒车没入库，连倒了七八把，整晚没理我，至于吗……”\n\n闺密A大笑：“换灯泡、倒车什么的都不会的男人，还要来干吗？”\n\n闺密B冷笑：“芝麻大的事情你有脸说？”\n\n朋友额头爆青筋，喘气：“对啊，芝麻大的事情，说了我一个多星期……”\n\n闺密C语重心长地说：“男人，多做，少说。”\n\n朋友愣了一会儿，说：“前几天她心情不好，我上蹿下跳，买这买那，端茶送水，也不给我好脸色……”\n\n闺密们相视而笑：“我们女人多简单，其实也不用你做什么，只要说一句‘我爱你’。”\n\n朋友颤抖着问：“刚刚你们还告诉我，多做，少说。”\n\n闺密们恨铁不成钢，大叫：“该做的时候做，该说的时候说！”\n\n朋友带着哭腔问：“那什么时候该做，什么时候该说？”\n\n闺密们掀桌：“这都不知道，还好意思觍着狗脸说爱我？”\n\n服务员过来摆好桌子。\n\n闺密A：“有时候做点儿事情，代替说‘我爱你’。”\n\n闺密B：“有时候不用做事情，直接说‘我爱你’。”\n\n闺密C：“搞错了，就是你的不对。”\n\n朋友抱头痛哭，崩溃，干号：“那对和错到底总有个标准吧？”\n\n闺密A：“女人发发牢騷，其实不用你来装牛逼分析，只是要你的安慰。”\n\n闺密B：“女人是情绪的，感性的，别用逻辑来框死我们。”\n\n闺密C总结：“一句话，女人不在乎对错，在乎你的态度。”\n\n朋友迷惘地问：“那我的态度有什么问题？”\n\n闺密A：“你的态度不对。”\n\n闺密B：“你的态度是错的。”\n\n闺密C：“说过我们不在乎对错，只在乎你的态度！”\n\n朋友掀桌：“那态度对和错总有个标准吧？”\n\n闺密们掀桌：“这都不知道，还好意思觍着狗脸说爱我？”\n\n服务员过来摆好桌子。\n\n朋友低头：“我错了。”\n\n闺密们扭头：“错在哪里？”\n\n朋友低头：“逻辑错了。”\n\n闺密们大怒：“放屁！”\n\n朋友吓尿了：“是态度错了，是态度错了。”\n\n闺密们放缓口气：“态度错在哪里？”\n\n一股陰森森的寒意从朋友心底涌上，他开始克制不住地战栗，说：\n\n“错在……错在……不该要苹果啊……不对……错在做做说说啊……不对……错在态度的逻辑啊……不对……错在……错在…”\n\n朋友掀桌，眼泪四飙，手舞足蹈地哭喊着：“我他妈连这都不知道，怎么好意思觍着狗脸说爱你啊……”\n\n服务员把朋友送去了精神病院。\n\n服务员摆好桌子。\n\n闺密A摇头：“这么简单的问题，认错，就是对的态度。”\n\n闺密B惋惜：“对的认错，不是知道自己错在哪里，而是知道怎么认错。”\n\n闺密C微笑：“认错的态度，就是对的逻辑。”\n\n闺密们举杯：“谁说我们女人不懂逻辑。”","tags":["小小说","转载","张嘉佳","女人","逻辑"],"categories":["转载","生活"]},{"title":"网页请求阿里云 DataV Geo 在线地图，路径访问返回403问题","slug":"网页请求阿里云 DataV Geo 在线地图，路径访问返回403问题","url":"/2024/12/03/5b68cbc7ed8f/","content":"\n## 问题如下：\n\n部分javascript显示如下：\n\n```javascript\ndocument.getElementById(\"page\").style.background = style[0];\nvar myChart = echarts.init(document.getElementById('main'));\nmyChart.showLoading();\n$.get('https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json', function (geoJson) {\n  myChart.hideLoading();\n  echarts.registerMap('china', geoJson);\n```\n\n本地请求运行正常，上传到GitHub仓库中的网站后请求[https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json](https://geo.datav.aliyun.com/areas_v3/bound/100000_full.json) 返回403，加载失败。\n<!--more-->\n\n## 解决办法：\n\n在Html文件中的`<head>`​间添加：\n\n```html\n<meta name=\"referrer\" content=\"no-referrer\" />\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/2024/12/20241203102658585.png)​\n\n## 正常显示：\n\n本地，网站均正常显示：\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/2024/12/20241203101758289.png)​\n\n## 参考\n\n[https://blog.csdn.net/weixin_59287025/article/details/141251494](https://blog.csdn.net/weixin_59287025/article/details/141251494)\n","tags":["API","问题","地图","阿里云","403"],"categories":["笔记","其他"]},{"title":"使用Rstudio提交到GitHub仓库过程中出现的问题及其解决办法","slug":"使用Rstudio提交到GitHub仓库过程中出现的问题及其解决办法","url":"/2024/12/03/20da183667a5/","content":"\n## 问题1：\n\n在使用Rstudio中的git，提交 (commit) 时会出现以下错误：\n\n```plain\nerror: gpg failed to sign the data\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202233315.png)​\n<!--more-->\n\n通过搜索，查到以下解决办法，办法可行。\n\n这是一个常见的错误，通常与与GnuPG（GNU隐私保护）工具集相关的问题有关。GnuPG是一个用于加密和数字签名的免费软件，常用于保护Git提交的完整性和真实性。\n\n## 错误原因\n\ngpg失败签名数据错误可能由以下几个原因引起：\n\n### a. GnuPG未正确配置\n\n在某些情况下，GnuPG未正确配置可能导致无法签名数据。这可能是由于缺少必要的密钥对或不正确的配置文件设置。\n\n### b. 缺少GnuPG密钥\n\n要对Git提交进行签名，您需要使用GnuPG密钥对。如果您没有生成或导入密钥，那么Git将无法执行签名操作。\n\n### c. Git设置错误\n\n有时，Git的设置可能会影响GnuPG的签名功能。可能存在不正确的配置或设置冲突，导致gpg无法成功签名数据。\n\n## 解决办法\n\n1. 查看是否存在GnuPG密钥\n\n```git\ngpg --list-keys\n```\n\n存在密钥显示如图：![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241202235057737.png)​\n\n2. 生成新的密钥\n\n```git\ngpg --gen-key\n```\n\n3. 导入GnuPG密钥\n\n导出新生成的公钥和私钥：\n\n```git\ngpg --output pubkey.gpg --armor --export zhang6410319@hotmail.com\ngpg --output privkey.gpg --armor --export-secret-key zhang6410319@hotmail.com\n```\n\n将公钥和私钥导入到GnuPG密钥环中：\n\n```git\ngpg --import pubkey.gpg\ngpg --allow-secret-key-import --import privkey.gpg\n```\n\n4. 问题解决\n\n## 问题2：\n\nRstudio和VStudio运行Git过程中会弹出账号选择窗口。\n\n原因：设定了多个账号，未设定默认。\n\n## 解决办法\n\n### 方法一 设定默认账号\n\n```git\n# git config --global credential.<URL>.username <USERNAME>\ngit config --global credential.https://github.com.username=leafminer\n```\n\n关联默认账户与已存在于本地的clone：\n\n```git\ngit remote set-url origin https://leafminer@github.com/\n# clone时使用下面的方式，可直接关联：\n# git clone https://leafminer@github.com/mona/test\n```\n\n### 方法二 退出多余账号\n\n使用`git credential-manager github`​管理账号\n\n先查看当前存在的账号：\n\n```git\ngit credential-manager github\n```\n\n删除不需要的账号：\n\n```git\ngit credential-manager github logout 22977646\n```\n\n示例结果如下图：\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241203002453097.png)​\n\n## 参考\n\n1. [https://geek-docs.com/git/git-questions/807_git_git_error_gpg_failed_to_sign_data.html](https://geek-docs.com/git/git-questions/807_git_git_error_gpg_failed_to_sign_data.html)\n2. [https://github.com/git-ecosystem/git-credential-manager/blob/main/docs/multiple-users.md#tldr-tell-gcm-to-remember-which-account-to-use](https://github.com/git-ecosystem/git-credential-manager/blob/main/docs/multiple-users.md#tldr-tell-gcm-to-remember-which-account-to-use)\n","tags":["Github","Git","Rstudio","commit","gpg","GnuPG"],"categories":["笔记","其他"]},{"title":"用RStudio与Git、GitHub连接起来，实现代码管理和数据分析","slug":"用RStudio与Git、GitHub连接起来，实现代码管理和数据分析","url":"/2024/12/01/0ef357bbdb4c/","content":"\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201155718.png)​\n\nGit的基本操作以及如何通过RStudio与GitHub进行交互。这里仅介绍了通过Git和Rstudio管理GitHub仓库的设置步骤。更多内容见 [https://happygitwithr.com/](https://happygitwithr.com/)\n<!--more-->\n\n## 配置Git\n\n使用下面的命令查看Git的安装位置和版本。\n\n```git\nwhich git\n\ngit --version\n```\n\n更新Git\n\n```git\ngit update-git-for-windows\n```\n\n设置Git用户名和邮件\n\n```git\ngit config --global user.name \"leafminer\"\ngit config --global user.email \"zhang6410319@hotmail.com\"\ngit config --global --list\n```\n\n也可以使用R包`usethis`​\n\n```r\nlibrary(usethis)\nuse_git_config(user.name = \"leafminer\", user.email = \"zhang6410319@hotmail.com\")\n```\n\n设定默认的初始分支名为`main`​\n\n```git\ngit config --global init.defaultBranch main\n```\n\nR包`usethis`​\n\n```r\n# 默认为main\nusethis::git_default_branch_configure()\n```\n\n## 设定令牌\n\nR包`usethis`​\n\n```r\n# 跳转到 https://github.com/settings/tokens，创建Token\nusethis::create_github_token()\n# 粘贴保存创建的Token\ngitcreds::gitcreds_set()\n# 查看\ngitcreds_get()\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130170835.png)​\n\n设定GitHub远程仓库和仓库地址\n\n```git\ngit remote set-url 2024-R-PhDdata https://github.com/leafminer/2024-R-PhDdata.git\ngit remote -v\n```\n\nR包`usethis`​\n\n```git\n# 查看远程库和地址\nusethis::git_remotes()\n# 修改远程库和地址\nusethis::use_git_remote(\n  \"2024-R-PhDdata\",\n  \"https://github.com/leafminer/2024-R-PhDdata.git\",\n  overwrite = TRUE\n)\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130195644.png)​\n\n​`credentials`​和`gh`​包\n\n```r\ncredentials::set_github_pat()\n\nusethis::gh_token_help()\n\nusethis::git_sitrep()\n\ngh::gh_whoami()\n```\n\n---\n\n## 设定密钥\n\n```git\nssh-keygen -t rsa -b 4096 -C \"Rstudio\"\n# ssh-keygen -t ed25519 -C \"Rstudio\"\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130234334.png)​\n\n确保ssh - agent处于运行状态：\n\n```git\neval $(ssh-agent -s)\n# Agent pid 1542\n```\n\n添加你的密钥，用正确的名字代替你的钥匙。\n\n```git\nssh-add ~/.ssh/id_rstudio\n```\n\n复制公钥到剪贴板：\n\n```git\nclip < ~/.ssh/id_rstudio.pub\n```\n\nssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIA9kHA+/Vx8ksFibaRCYYlj2r/zS5DezRmSOsn00AltJ Rstudio\n\n## 使用Git连接GitHub仓库\n\n登录GitHub，添加公钥到远程仓库。步骤见[https://blog.leafminer.cn/2024/11/30/b3793277a33f/](https://blog.leafminer.cn/2024/11/30/b3793277a33f/)\n\n检验是否成功\n\n```git\nssh -T git@github.com\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1732982642594-ab266bee-213c-44dc-b752-6777f5ef82d3.png)​\n\n克隆远程仓库到本地\n\n```git\ngit clone https://github.com/leafminer/2024-R-PhDdata.git\n```\n\n使用Git上传本地文件到远程仓库\n\n```git\ngit commit\ngit push\n```\n\n在Windows上，你可能会看到一个关于LF的消息会被CRLF所取代。这是正常的，不需要对你的部分采取任何行动。Windows对行结尾的处理与其他操作系统不同，但Git for Windows的默认设置适合大多数人和情况。\n\n```git\ngit config --show-origin --get core.autocrlf\n# file:\"C:\\\\ProgramData/Git/config\"      true\n# If your value shows as false, you can set it to true with this command:\ngit config --global core.autocrlf true\n```\n\n## 使用Rstudio管理仓库\n\n#### 连接远程仓库\n\n1. 使用已有的仓库，或者创建新的仓库。通过`Add a README file`​初始化仓库。复制下图的链接：\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png)​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png)​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201005841.png)​\n\n2. 在Rstudio中创建新的项目：\n\n​`File`​ \\> `New Project`​ \\> `Version Control`​ \\> `Git`​ **Repository URL**粘贴上一步复制的仓库链接。\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010316.png)​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010343.png)​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241201010358.png)​\n\n3. 上述操作应该会自动从GitHub下载名为README.md的文件。表明本地与远程连接成功。\n\n#### 保存，更改和提交\n\n点击右上方窗格中的\" Git \"选项卡。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987069740-8ea9b073-2149-4f61-a701-15f5d31d140d.png)​\n\n或者\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1732987111221-04846302-4420-484e-9589-fade75270b56.png)​\n\n勾选文件旁边的“`Staged`​”（已暂存）复选框，表示你想要将这个文件的更改包含在即将进行的提交中。\n\n如果你还没有在Git弹出窗口中，点击“`Commit`​”（提交）按钮。这将打开一个新的提交窗口。\n\n**输入提交信息**：在提交窗口中，你需要输入一个“Commit message”（提交信息），这个信息简要描述了你所做的更改。在这个例子中，你可以输入“Commit from RStudio”来表示这个提交是在RStudio中完成的。\n\n**完成提交**：输入完提交信息后，点击“`Commit`​”按钮来完成提交过程。这样，你的更改就会被保存到本地的Git仓库中。点击“`Push`​”推送到GitHub仓库。\n\n## 参考\n\n1. [https://happygitwithr.com/ssh-keys](https://happygitwithr.com/ssh-keys)\n2. [https://happygitwithr.com/push-pull-github](https://happygitwithr.com/push-pull-github)\n","tags":["Github","Git","SSH","Rstudio","Token"],"categories":["原创","其他"]},{"title":"Hexo部署-Git配置SSH公钥连接本地仓库与远程仓库","slug":"Hexo部署-Git配置SSH公钥连接本地仓库与远程仓库","url":"/2024/11/30/b3793277a33f/","content":"\n在本地计算机上生成新的 SSH 密钥。 生成密钥后，可将公钥添加到 GitHub.com 上的帐户中，以便通过 SSH 为 Git 操作启用身份验证。\n\nGitHub创建的仓库默认分支通常名为**main**，旧一点的储存库可能名为**master**。\n\n​`checkout -B main`​\n<!--more-->\n\n\n1. 打开Git Bash创建密钥。输入：\n\n```git\nssh-keygen -t ed25519 -C \"zhang6410319@hotmail.com\"\n```\n\n将以提供的电子邮件地址为标签创建新 SSH 密钥。\n\n当系统提示您“Enter a file in which to save the key（输入要保存密钥的文件）”时，可以按 Enter 键接受默认文件位置。 请注意，如果以前创建了 SSH 密钥，则 ssh-keygen 可能会要求重写另一个密钥，在这种情况下，我们建议创建自定义命名的 SSH 密钥。 为此，请键入默认文件位置，并将 id\\_ALGORITHM 替换为自定义密钥名称。\n\n2. 根据提示，键入安全密码。\n3. ​`cat`​查看公钥，`clip`​复制。\n\n```git\nls -al ~/.ssh\ncat ~/.ssh/id_ed25519.pub\nclip < ~/.ssh/id_ed25519.pub\n```\n\n4. 粘贴到GitHub远程仓库。\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241129234115.png)​\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241129234920.png)​\n\n5. 验证是否配置成功\n\n```git\nssh -T git@github.com\n```\n\n6. ​`\\hexo\\.git\\config`​文件\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241130110907.png)​\n\n7. ​`hexo`​生成并部署\n\n```git\nhexo g&&hexo d\n```\n\n## 参考\n\n1. [https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent](https://docs.github.com/zh/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent)\n2. [https://blog.csdn.net/m0_56676311/article/details/135509261](https://blog.csdn.net/m0_56676311/article/details/135509261)\n\n‍\n","tags":["Github","设置","Git","SSH"],"categories":["原创","其他"]},{"title":"安全套与不倒翁 | 杨殳","slug":"安全套与不倒翁","url":"/2024/11/29/433d505a57c9/","content":"\n1\n\n他们说最近城里有丧尸，我根本不信，都市传说而已。\n\n那天夜里两点半，我去找老徐买安全套。这个时间去，一是安全，二是心急。\n\n说来惭愧，单身好多年，安全套这东西，我其实没真的用过。现在好了，终于谈了恋爱。我们感情很不错，决定进一步发展。\n\n打车到了虎坊桥，再走一段小路，找到老徐家。\n\n超市当然有安全套和避孕药卖，虽然限购令规定只准卖给已婚已育的人，但总有办法浑水摸鱼。\n\n关键是我不信任超市的货，网上卖的我也不信。\n\n老徐从前是个做公众号的，穷了很多年，没想到人过中年，铤而走险一回，靠倒卖安全套发了小财。他有三个孩子，每月可以合法买二十个。\n<!--more-->\n\n我不信超市和电商，是因为另一个都市传说，说是有不少人拿着针在超市里扎安全套，最近他们还被安插进了电商库房，发货前扎一扎。\n\n这个都市传说我相信，因为从某种逻辑上说是合理的。至于是哪种逻辑，我也说不上来，可在这城里生活久了，你就会知道什么是合理。\n\n2\n\n满怀激动地揣着安全套从老徐家出来，还走回虎坊桥打车。\n\n树影里突然有响动，像是谁趿拉着鞋走路，我好奇地停下张望，那人就到了眼前，朝我扑上来。\n\n我后撤两步，定睛一瞧，是个烂脸的男人，眼歪口斜。我想跑，被他从身后扑住，死沉。\n\n虽然不信丧尸，但我看过不少丧尸片，他那模样的确像个丧尸。挣扎之中，他张口咬向我的脖子。\n\n尖牙上黏着黑血丝，真是个丧尸。原来丧尸是有口臭的，像吃了韭菜饺子。\n\n我闭上眼惨叫，要晕过去。\n\n睁开眼时，一个小胡子站在跟前，握着根铁棍，那丧尸的头被他使劲踩在脚下，身子还在蠕动。\n\n他身材瘦小，戴了副黑框眼镜，自我介绍说是个教授。\n\n他让我跟他走。我一向对陌生人谨慎，不敢答应。\n\n小胡子一抬脚，丧尸腾一声立起来，直挺挺地，像装了弹簧。眼看丧尸又扑过来，我差点尿裤子，跟着小胡子跑进了胡同。\n\n小胡子拽着我一路飞跑，停在一栋老楼前，邀请我到他家坐坐。我回头看，小胡子说，追不上，他行动很慢。\n\n我看他像是很懂丧尸的样子，就随他进了楼，反正也很难打到车。\n\n小胡子引着我走进地下室，怪不得他身上有股潮气。\n\n到了一个房间门口，墙上嵌着一张电子屏，广告里的男女令我心中一荡。\n\n我摸摸裤兜的安全套，还在。\n\n3\n\n房间的四壁包着黑铁皮，到处是书。纸的霉味和铁锈气刺入鼻腔，有点头疼。\n\n小胡子给我冲包速溶咖啡，灯下才看清他的脸，原来不戴眼镜，是黑眼圈太黑了，像几年没睡觉。\n\n我再次谢谢他，说没想到真的有丧尸。\n\n他不置可否，说传言都是这样，传着传着就变成真的了。我想了想，确实如此。\n\n他问，知道那东西为什么扑你吗？\n\n我说，那东西？不是丧尸吗？\n\n他点上一根烟，摇头，只是长得像丧尸，不算是。\n\n小胡子不再解释，朝我喷口烟，说因为你身上有味儿。\n\n有味儿？\n\n精液的气味儿。\n\n我红了脖子，但还是忍不住揪起衣领闻了闻。小胡子说的没错。这几年我经常自慰，恋爱后也常偷摸自己来。找老徐高价买套，就是为了享受真正的性爱。\n\n小胡子说，丧尸是个传说。\n\n——你知道加勒比海吧，那里从前有一群巫师，给人催眠或者下药，人就像死了一样，埋之后再挖出来，脑袋上钉根棍子，他们就失去了记忆，对你言听计从，就是活死人。\n\n我想起看过的恐怖片《活死人之夜》，于是问到，他们吃人吗？\n\n不，他们下地干活，主人需要什么就干什么。小胡子说完，从桌上拿起一本旧书递给我，书名叫《挺族消亡简史》。\n\n我翻开，见扉页上写着一句题词：\n\n我看起来像是在轻飘飘慢吞吞地下坠，可是你知道吗？我灵魂中有一种什么东西得到了升华。——于观\n\n这句话有点眼熟，但我想不起来在哪里见过。\n\n我又翻开书的目录看——\n\n“挺字源流考”、“从丧到挺的概念演变”、“挺是意识还是行动抑或口嗨”、“五百个样本：挺族的生物学研究”、“浅析挺族背后人的主体性”……\n\n原来是本论文集。\n\n我眼花缭乱，想起十几年前的事情，世界各地出现一个散居的部落，被人们叫做挺族，据记载，这些人都很懒，每天光挺尸睡大觉就要用掉八小时，而且不爱花钱，不爱谈恋爱，有的连房子都没有。当时的新闻批判他们可耻。\n\n后来很快，不知道什么原因，没人再谈论他们，挺族就像一个热搜话题，歘地冒出来又歘地不见了。\n\n我翻到这本书的版权页，果然不是正规出版物。\n\n可这跟丧尸——以及我自慰有什么关系？\n\n3\n\n正要问，小胡子又从书堆里扒出一本没有封面的书，翻开一页，指给我看一句话：\n\n……动辄以立枷示威，前后毙者数以千计……\n\n什么意思？我问他，立枷是什么？\n\n就是站笼。\n\n他说，世上最难熬的刑罚有两种，一是熬鹰，让你一直醒着，二是站笼，让你一直站着。\n\n我很认同，说因为会累啊，人活着，最难熬的就是累，钝刀拉肉，生不如死。\n\n小胡子笑笑，说你还挺会打比方，有点文化。\n\n我心中得意，也笑笑。\n\n不过，当听完小胡子解释完丧尸和自慰的关系，我笑不出来了。\n\n那只丧尸弹性很好，对不对？小胡子问。\n\n我说是。他也用了丧尸这个词。\n\n因为他本来就是一只不倒翁，就是不会倒的人，一直站着。\n\n小胡子说，不倒翁是城市有关单位专门研制的新型市民，身体健康就能报名试验，无痛无感，一个月就能完成转变。\n\n我问，老站着怎么睡觉？\n\n不用睡，小胡子说，当然，试验还不完美，据说现在的不倒翁会有点晕——你遇到的那个，是彻底的失败品，前一阵子跑出来了，城里应该有几十只，他们会攻击自慰的人，能闻到那种气味儿。你记得从前有个电影叫《寂静之地》吧？小胡子说，电影里的怪物听见人弄出声响就攻击，不倒翁几十公里外就能闻到你在自慰。\n\n什么？我又想发笑，但笑容僵在脸上。\n\n小胡子拉开了衣柜，里面站了个人，脸上没烂，但挂着诡异的笑。\n\n别怕，小胡子说，这个是我捡来的，也是个失败的不倒翁，已经死了。\n\n他打个哈欠，露出一口黄牙，说，不是我出手，你已经变成不倒翁了——被咬了也会变成他们。\n\n我想起那张烂脸和韭菜味儿，一阵后怕。\n\n才三点半，我却不敢告辞。小胡子虽然怪怪的，但总算是个同类。\n\n4\n\n小胡子问我，想不想知道挺族是怎么消失的。\n\n确实有点好奇。\n\n我说，和不倒翁有关？\n\n小胡子说，其实，当年的挺族没消失，只是他们年纪大了，很多人自己站起来了——当然也有不少是跪着，只有极少数总是扶不起来的，被拿来做了科研素材。\n\n说完，他从衣柜里拉出那具尸体，推倒，尸体又弹了起来，像个玩具。\n\n关于挺，当年人们争论的不是一回事，小胡子说，老年人说的经济体，年轻人说的是个体，有人认为是认命，有人觉得正是不认命才选择做挺族，你能听懂吗？\n\n我说不是太懂。\n\n流行词是蜡烛，挺的概念一出现，就迅速膨胀，遇到高温就熔化，又被按需重塑，你捏一只马，他捏一只鹿，指鹿为马，说三道四。\n\n我有点懂了，耐心听他说。\n\n不过，有一点可以确定，挺是一个姿势，任何姿势都是一种表达，汹涌的表达一旦汇聚，就难免被当做洪水猛兽，你有点文化，一定了解历史上那些事——这点不用我说。\n\n我其实没那么多文化，但他不容我发问，继续讲，还做起了手势。\n\n——人为什么睡觉前爱琢磨事儿？因为挺这个姿势，尤其容易让人思考，有当年加入挺族的人说，那是一个让人想到自己需求的姿势，所谓主体性。\n\n见我愣愣地不说话，他停下来，说我打个比方——你参加一场越野登山竞赛，登顶就有巨额奖金，但途中有猛虎和暴风雪，你带好干粮往上爬，爬一半发现有人带的干粮比你多，有人能打虎，有人衣服厚，甚至有人坐直升机，而且主办方不提供安全保障。你会不会心生退意，选择退赛或待在半山腰？可能还会一边下山一边说，底下也不错，奖金虽多，可山顶一瓶水都一百块呢。\n\n我连连点头，说我就是这样淡泊名利。\n\n他打断我，说比淡泊复杂，还有无望，不满，自嘲，怀疑，以及羡慕、嫉妒、恨。\n\n我又猛点头，问他为什么。\n\n他夺过咖啡，自己喝了一口，然后使劲踹了一脚不倒翁。不倒翁摇摇晃晃，诡异的笑容不那么可怕了。\n\n但是，这并非主体性。小胡子说，况且，如果那是座假山呢，玩过游戏吧，一座山峰可能是一台机器，每个登山者都是动力源。\n\n5\n\n小胡子扶住不倒翁说，这个东西，内部名字叫作消费人，不睡觉不思考，就能一直消费。\n\n他情绪激昂，我有些怀疑，问他怎么了解那么清楚。\n\n小胡子沉吟片刻，叹口气说，我就是消费人研制者之一，不过现在退出了，因为哲学方面的思考更让我兴奋，否则不会跟你讲这些——不要打断我。\n\n我看看表，决定再听他说一会儿，天亮了就走。\n\n于是我像个学生，他像个老师，不倒翁就是个教具。\n\n登山竞赛的问题，他说，不在于奋斗还是懒惰，而是规则本身就是个骗局，消费人的骗局。美国社会学家弗洛姆有个观点，为满足欲望而奋斗在当代社会是一门新的宗教，让人有追求幸福的幻觉，其实你消费得越多，就越像个奴隶，被产业系统制造和操控的日益膨胀的需求绑架。\n\n什么意思？我还是忍不住打断他。\n\n就是你的工作是在为别人制造消费需求，同时又被别人工作制造出来的需求诱惑，花掉挣来的钱，他说，一个经济体的发展维持，需要源源不断的消费人，就是你。\n\n这话有点绕，但我听懂了。\n\n我想了一会儿，说，不过——我想消费什么好像可以自由选择？\n\n小胡子哈哈大笑。\n\n那当然，这就是骗局高明所在，你们年轻人爱说财务自由，买菜自由买车自由买房自由买各种更贵东西的自由，如果这种自由是唯一可追求的自由，那当然只能参加爬山竞赛了，眼看着怕不赢，于是退赛——或者作出退赛的姿态。\n\n我附和说，就是弃权，撂挑子，消极怠工。\n\n他收起笑说， 这么理解可以，但不能只这么理解，弗洛姆你可能不熟，马克思的话你总听过吧——宗教是人民的鸦片。\n\n6\n\n这话我知道，从小就学，教材里加粗加黑，要背诵的。鸦片麻痹人民，不是好东西，宗教是鸦片，也不是好东西。\n\n不过，小胡子的解释却不太一样。\n\n他说，这句话出自马克思研究法理学的一篇文章，上下文很复杂，说了怕你也不懂，我还打比方，比如你认同日月神教的宗旨，相信它代表世间的正义和公平，理应一统江湖，于是你就臣服东方教主的权威，听其号令赴汤蹈火，那日月神教这个组织就是你的宗教。假使你觉得五岳派和岳不群代表正义和公平，愿意听任其驱使，那五岳派就是你的宗教——可在令狐冲眼里，组织不重要，自在与情义才最重要，这就是他的主体性，令狐冲最大的潜力和资产，就是他为自己而选择和行动。\n\n我反驳，金庸写的那是门派，不叫宗教。\n\n小胡子说，看来还是得说点抽象的。他翻出一个笔记本，念给我听——\n\n如果有一个中心，代表了所有人们想象当中最美好的一切素质，包括公平、正义。当有这样的一个投射中心，这个中心又形成了组织，这个组织变成最有权力的，那这个时候就是一个变形的宗教。\n\n这就是马克思定义宗教，小胡子说，台湾学者杨照在通识课上讲的，很清晰。\n\n我似懂非懂，不知道说什么，小胡子却突然笑了。\n\n他说，想想也可笑，从前有个叫苏联的国家，发明了一种叫马克思主义的宗教，由他们做代理人，掌握最大的权力，简直是打了马克思的脸。\n\n我不太知道苏联，他也不愿多谈，说那都是猴年马月了，如今的鸦片是消费，不倒翁就是信徒，鸦片吸多了就会成瘾，像活在幸福的幻觉里，兴奋、无聊、倦怠，屹立不倒，前仆后继。\n\n这句话令我豁然开朗，弃权，撂挑子，消极怠工的另一面向是戒毒，就像广告里说的选择新的生活方式——我词穷，只好从广告里找词。这点我知道，广告里的说你要选择你想要的生活方式，但却只给你展现符合消费逻辑的诱惑，所谓生活方式，是套模板。\n\n不管挺族如今怎么样，但在当时，选择挺至少是给了自己一个察觉自我的机会，小胡子说。\n\n他眼里闪烁着狡黠的光亮，像个智者。\n\n7\n\n天就要亮了，我变得越来越清醒，或许是咖啡的作用。\n\n我起身告辞，小胡子拉住我，要讲最后一个问题。这件事很重要，他说。\n\n我看看表，地铁首发车还有半小时，就听他说完吧。\n\n自由，才是我们最大的困境，一代又一代的哲学家都研究过，小胡子说，关于挺的争议，其根本是人有没有选择挺的自由。\n\nNegative，他嘴里蹦出一个英文词，小胡子颤抖着，自由的含义，有一千种，我只谈一种，叫做消极自由，是哲学家以赛亚·柏林的概念，意思就是个人免于外界干涉的自由，或者说你可以不被威逼，不遭利诱，被强迫做什么，一个能去做他能做的事而不受阻碍。\n\n我说，这不是很容易吗，我意志一向坚定。\n\n小胡子笑，说话可以这么说，实际情况你是理解的。\n\n我继续反驳，说我不是挺族，我积极向上，有理想有追求，想做的事也不违法，谁会阻拦我？\n\n小胡子又笑，说你有追求，是什么？\n\n我确实没细想过，但我想过好日子，有钱有闲就行。于是我说，追求美好生活。\n\n那何为美好生活？小胡子问，是登山竞赛里那些赢家的生活吗？\n\n我没说话，心中疑惑，也很不服气。\n\n小胡子闪过一丝失望的神色，说，《猜火车》看过吧，记得开头吗？\n\n选择生命，选择工作，选择职业，选择家庭，选择可恶的大彩电，选择洗衣机、汽车、雷射碟机，选择健康、低胆固醇和牙医保险，选择按揭，选择朋友，选择套装、便服和行李，选择分期付款和三件套西装，选择收看无聊的游戏节目，边看边吃零食......\n\n我说记得，全是选择，不知道选择什么。\n\n选择，其实是在计算，或者是被算计，交出了选择权，他揪一揪胡子，看来我得再说一个概念，积极自由，或许你能明白。\n\n他说，在伯林的概念里，所谓积极自由，是指去做什么的自由，就像你说你有追求，不过，这种积极的追求，可能是一种华丽的伪装，是自由地去过一种被规定被要求的生活，登山竞赛人人都有自由追求登顶，但你明明不爱登山只喜欢游泳，为何不去游泳呢？\n\n我似乎被激怒，又提出一连串的问题，但小胡子拒绝回答，建议我去回家挺挺尸，看看书。\n\n挺着的时候，是最好的读书机会，你可以看点哲学什么的，不要觉得文科没用，他说，当然，只谈概念容易造成混乱和误导，我看你有些愚钝，又急着想走，只好长话短说，你就当闲谈吧。\n\n8\n\n他这么一说，我倒有点不急着走了。\n\n我向他道歉，说并不是反对你，只是觉得有点空谈。\n\n小胡子站起来拍拍我，说自由当然不能空谈，但遇到具体的困境时，必须拿出来谈，谈谈自由，是认清自身处境的一种方法。\n\n他让我站到书架边，不知从哪摸出一对黑色的手铐，说，我们再打个比方。\n\n我求知心切，就听从他安排。他把我铐在书架上。\n\n——你想走，我把你拷了起来，这是我侵犯了你的自由。但如果我们约定，你让我铐一小时，我就给你一千块，你可能会主动让我多铐几小时，并觉得这是自行选择，对自己有利。这就像你的追求，是所谓积极的。\n\n他从兜里摸出一把钱。我确实心动了一秒钟。\n\n——但如果你认为被人铐起来换一笔钱是原则问题，这几小时不如去散步，给多少都不干，拒绝和我交易，虽然失去了多挣一笔钱的机会，但散步很开心。这是你的自由，所谓消极的。\n\n我胳膊有点酸，说我懂了，切身体会一下就是更容易懂。\n\n——所以，我认为伯林是用极端的概念来说明问题，什么消极积极，都是个词罢了，不必太认真，关键是自己体会。\n\n我体会到了，我说，谢谢你，把手铐打开吧。\n\n小胡子微笑着走过来，却把钥匙丢在了地上，又把上衣脱了。\n\n我说，你要干什么？别过来！\n\n他盯住我，慢慢地说，我说打个比方，你选择配合我，但却没有思考一件事，规则是我说的，钥匙在我手里，这可能是个骗局。\n\n我大叫，放开我，你到底要干什么？\n\n争论永不停歇，但现实迫在眉睫，他说，我要与你发生性关系。\n\n9\n\n我大叫一声，放开我！\n\n小胡子无动于衷，开始解皮带。\n\n我被那东西咬了，对，不倒翁，丧尸，他说，我刚捡来这家伙时，他还没死透，咬了我一口。他展示大腿上的伤口，两排黑洞，已经溃烂。\n\n你是丧尸！我挣扎，大骂，你被咬了关我什么事！你这是犯罪，强奸！\n\n他脱掉裤子，露出干柴一样的腿，内裤肥大，肮脏。我气得浑身颤抖，使劲拽手铐，书架是铁的，纹丝不动。\n\n不要觉得我在骗你，我也是为了活命，他说，被这东西咬了，只有一种办法能救命，七十二小时内找个人性交——无论性别。\n\n我吃了一惊，以为自己听错了。\n\n这不科学！我几乎要哭出来。\n\n但是合理，他说。\n\n不倒翁是我研发的，我了解他的毒性，只有性交，做爱，啪啪啪，武侠小说看过吧，和那种不做爱就死的春药差不多，只是这毒不催情，发作过程只会让人无法睡觉，你看见我的黑眼圈了，他使劲瞪大眼说，我三天没合眼了。\n\n我一阵阵眩晕，感觉恶心。变态，疯子！我朝他吐吐沫。\n\n不用害怕，很快的。他伸手解我的衣服。\n\n我当然害怕，他妈的变态，骗子。\n\n他站在我身后，脏手摸进我腰里，我的手被手铐勒出血。我绝望了。\n\n我说，我口袋里有安全套。我很惊讶自己这么说，是在放弃反抗吗，或者是一种理性的抵抗，不知道。\n\n不行，用了安全套就解不了毒，必须是纯天然的性交，他摇摇头，无奈地笑了，不倒翁虽然是失败品，但传播这毒倒也能刺激消费，真是可笑。\n\n我没有力气再挣扎，说，咱们到床上去，站着怎么行？\n\n他抓住我的肩，解我的衣服，像只猴子一样贴在后面。\n\n站着就行，他说，放心，我没什么病，你也不会怀孕。\n\n我看见那只不倒翁，仍诡异地笑着，似乎摇晃了几下。\n\n10\n\n像是过去了一分钟，又像是过去了一年。\n\n一切结束后，我想问他，自己会不会因此染上毒，需要七十二小时内进行纯天然性交。\n\n但我一句话也不想说。\n\n钝刀拉肉，生不如死。\n\n###### 编者后记：\n\n这个故事是我在一个语音聊天室听来的，不知道发生在哪一年。讲述者是否故事的当事人，也无从考证。大概就是一则都市传说吧，无论过去还是将来，哪会有这种事呢。故事里充斥生硬说教，夹带私货，极有可能是无聊者杜撰，姑妄听之吧。若说有意思之处，我以为只有小胡子说的关于宗教的几句话。不过，据一些学者说，马克思就像知识分子的鸦片，怕那小胡子是磕大了吧。\n\n而所谓「挺」，这个词我倒是在某些北方方言里听过，有人问你睡了吗，你可以说，没睡着呢，刚挺下一会儿。在这个故事，包含着一种奇怪的悖论，千百年来的传统，都说是昏睡不好，人要要觉悟首先要醒来，但另一方面却很少人讲，睡着的人的避开乃至抵抗了消费社会的规训和怂恿，倒成了一种醒来。\n\n而「挺」的另一个意思，不正是「支撑」和「坚持」吗，虽然一般坚持很累很勉强。\n\n---\n\n原文链接：[安全套与不倒翁](https://www.douban.com/note/804687099/?_i=2883335bJITAXK)\n","tags":["小小说","转载","故事","宗教","消费","丧尸"],"categories":["转载","其他"]},{"title":"从UniProtKB数据库检索蛋白信息-queryup包","slug":"从UniProtKB数据库检索蛋白信息-queryup包","url":"/2024/11/28/a34278e620bd/","content":"\nqueryup包可以从' UniProtKB ' REST API中检索蛋白质信息。\n\n**URL** [https://github.com/VoisinneG/queryup](https://github.com/VoisinneG/queryup)\n\n**BugReports** [https://github.com/VoisinneG/queryup/issues](https://github.com/VoisinneG/queryup/issues)\n<!--more--> \n\n## 安装\n\n```{r}\ninstall.packages(\"queryup\")\n# 或者\ndevtools::install_github(\"VoisinneG/queryup\")\n```\n\n## 函数及示例\n\n### 可用的查询字段\n\n查询字段，该字段可用于使用\" queryup \"生成查询以及相关的示例和描述。\n\n```{r}\nlibrary(queryup)\nquery_field\n\n# 字段\nquery_fields$field\n# 示例\nquery_fields$example\n# 简述\nquery_fields$description\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241128123616.png)​\n\n### 返回的查询字段\n\n返回可以使用\" queryup \"检索的字段，以及它们在检索`data.frame`​中出现的标签。\n\n```{r}\nreturn_fields\n# 字段\nreturn_fields$field\n# 标签\nreturn_fields$label\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241128124242.png)​\n\n### Mus musculus中1000个UniProt的条目名称和其他属性\n\n```{r}\nuniprot_entries\n```\n\n​![](images/clipboard-49488359.png)​\n\n### 查询\n\n​`get_uniprot_data`​ 和`query_uniprot`​ 均能获取UniProt数据。但`query_uniprot`​解析错误信息，并从查询中移除无效的条目。\n\n```{r}\n#Retrieve data from UniProt using UniProt's REST API. To avoid non-responsive queries, they are split into smaller queries with at most max_keys items per query field. \nquery_uniprot(\n  query = NULL,\n  base_url = \"https://rest.uniprot.org/uniprotkb/\",\n  columns = c(\"accession\", \"id\", \"gene_names\", \"organism_id\", \"reviewed\"),\n  max_keys = 200,\n  updateProgress = NULL,\n  show_progress = TRUE\n)\n```\n\n|||\n| ------| -------------------------------------------------------------------------|\n|​`query`​|同上|\n|​`base_url`​|同上|\n|​`columns`​|同上，例如 \"accession\", \"id\", \"genes\", \"keywords\", \"sequence\"。更多见`return_fields`​|\n|​`max_keys`​|最大检索数|\n|​`updateProgress`​|在shiny 中显示运行进程|\n|​`show_progress`​|显示进度条|\n\n```{r}\n# Retrieve data from UniProt using UniProt's REST API\nget_uniprot_data(\n  query = NULL,\n  base_url = \"https://rest.uniprot.org/uniprotkb/\",\n  columns = c(\"accession\", \"id\", \"gene_names\", \"organism_id\", \"reviewed\")\n)\n\nquery <- list(\"accession_id\" = c(\"P22682\", \"P47941\"))\ndf <- get_uniprot_data(query = query, columns = c(\"accession\", \"id\", \"gene_names\", \"keyword\", \"sequence\"))$content\ndf\n```\n\n```{r}\n#\nquery <- list(\"gene_exact\" = \"Akt1\")\ndf <- query_uniprot(query, show_progress = FALSE)\n\ndf <- query_uniprot(query, \n                    columns = c(\"id\", \"sequence\", \"keyword\", \"gene_primary\"),\n                    show_progress = FALSE)\n# 查询单个基因\nquery2 <- list(\"gene_exact\" = \"Pik3r1\", \n              \"reviewed\" = \"true\", \n              \"organism_id\" = \"9606\")\ndf <- query_uniprot(query, show_progress = FALSE)\nprint(df)\n\n# 查询多个基因\nquery <- list(\"gene_exact\" = c(\"Itpr\", \"CaMKI\"), \n              \"reviewed\" = \"true\", \n              \"organism_id\" = c(\"9606\", \"10090\"))\ndf <- query_uniprot(query, show_progress = FALSE)\nprint(df)\n```\n\n## 参考\n\n1. VoisinneG/queryup: R client for the UniProt REST API\n2. queryup: Query the 'UniProtKB' REST API\n","tags":["R语言","果蝇","UniProt","蛋白","ID转换","queryup包"],"categories":["原创","科研"]},{"title":"无从告别的告别 | 里则林","slug":"无从告别的告别  里则林","url":"/2024/11/27/e207cdca9b7a/","content":"\n1  \n小时候我常常面对离别。  \n大人会跟我说，明天我们要去xx地方了。而xx地方，一般都是我从未听说过的某个城市。我听完会默默地点头，然后坐在沙发上，看大人们收拾东西。心里则提前开始消化恐慌，对未知和陌生的恐慌。  \n记得还在上海的时候，小区里住着许多子女不在身边的孤寡老人，老师要我们在某个暑假去找一个老人，然后陪伴他们，算是作业。  \n我就找了隔壁那幢楼的一个老头。我记得我第一次敲他的门，他开了半截门，奇怪地看着我，我呆滞地傻愣半天，然后用手摇了摇胸前的红领巾说：“你好，我是小学生。老师要我来陪你。”  \n<!--more-->\n\n老头听完，微微一笑，把门敞开，示意我进去，问我：“你从哪里来？”  \n我坐在脚碰不到地的高凳上，晃动着双脚指了指左边说：“我从隔壁来。”  \n“嗯，我见过你，每天带着一帮小朋友到处折断小区里的竹子。”  \n我点点头说：“没错！”  \n他又问我：“为什么？”  \n“为了赶一只猫和打仗。”  \n他笑笑没理我，打开了大厅和天井之间的门，我抬头看去，天井里全是花花草草和无数个鸟笼，每个鸟笼里都住着一只鸟。  \n我站起身准备接受他的邀请一起走进天井里看看。但是他没有。他就那么自顾自旁若无人地摆弄起了花草，让我觉得他不太懂人情世故，没有家教。  \n搞得我有点不知所措，只能又坐回原处，开始四下张望。  \n老头家里有简单的家具，一堆茶壶，一张大桌子上有一盏式样老土的彩色玻璃灯，灯旁有很多农业技能书。我想尝试跟他对话。  \n于是对他“喂”了一声。  \n他转过头来说我没礼貌，然后又继续低头在天井里摆弄花草。  \n最后我只能哈欠连天地看着墙上的表，等着两个小时结束。  \n因为那时老师规定我们，每次陪老人家至少两个小时，然后拿一个小本子给老人家签字和写评语。  \n临走的时候，我拿出本子给老头，老头戴上老花镜看了看本子上的大致内容，问我写什么好。这个问题让我猝不及防，觉得回到了从前——考试考得好，老师放了一排礼物，让我们各自挑自己喜欢的，我喜欢最贵的，但常常不好意思直接拿，都是拿的退而求其次的奖品。  \n于是我说：“写点还不错的就行。” 接着马上有点不好意思地看向别处。  \n然后就听见了他刷刷写字的声音，写完合上本子递给了我。我拿起本子，转身要走。他又叫住了我，从天井里抱来一盆土：“你在土上面摁一摁。”  \n我不解地看着他，他说：“摁一摁就行！” 我就摁了一摁，然后马上嫌弃地边搓手边走了出去。  \n回到家，吃饭的时候，妈妈问我今天陪老爷爷开心吗，我说不开心，妈妈问我为什么，我说因为这老头不开心我陪他。  \n妈妈一个筷子头打了过来，骂我没礼貌。  \n我心里愤愤不平，边吃菜边开始在脑海里统计周围的老人家还有哪些，下定决心一定要换一个人陪陪。  \n在那天临睡前，我突然想起那个本子，然后迫不及待地想看看老头写了什么内容，于是翻开看了看，发现上面工工整整地写着：“他今天非常乖，非常热情，很有礼貌，家教很好，很讨人喜欢。”  \n那时我语文好，知道“非常”和“很”后面只要接上很好的词汇，就是很好的表扬。看完，竟然有点不好意思。\n\n2  \n后来我每天去陪这老头，几乎不怎么说话，他不是弄花草就是弄鸟，偶尔我坐在大厅和天井连接的地方，呆呆地着看他。  \n老头则依旧每天结束时，在本子上换着花样夸我。得到他无比绚丽的措辞几乎成了我去陪他的唯一动力。从活泼，到善良，再到爱护花草，和学习能力强。应有尽有。  \n某个下午老头坐在桌子上看书，我在他对面一动不动，老头抬头看了看我，然后看了看他那堆书。  \n我就跟顺着他的目光也看了看那堆书，随后又继续呆滞地看着他，他又用手拨了拨他那堆书。  \n我才看见里面有一本《杨家将演义》的连环画。我伸手摸了摸那本书，犹豫间，他对我点点头。于是我就把那本书抽了出来。津津有味地读了起来。  \n老头问我最喜欢谁，我说我喜欢杨宗保。  \n老头问我为什么。  \n我说因为电视上他老婆穆桂英好看。  \n他又问我喜欢花木兰吗，我问她花木兰是谁。他就给我讲了一下午花木兰。  \n从那天起，他就不摆弄花草了，每次来，都和我面对面看书，每天他书堆里都会莫名其妙地有一本不同的连环画。  \n有一天看到又是连环画，我突然觉得无聊透了，做作地打起了一个又长又大声的哈欠，然后趴在了桌子上一言不发地发呆。  \n老头咳嗽了几声，然后问我吃糖吗。我继续趴在桌子上摇着头。  \n他说你等一会，转身进了房间。我看见他打开衣柜，到处翻，最后面红耳赤地拿出一把剑。  \n我立马跳了起来，双眼放光地看向他，因为我从小就喜欢大宝剑这种东西。  \n老头第一次脸上露出了调皮的神色，拔出剑来，故作姿态地舞了两下。那天下午我们在天井里，老头教我玩了一套晨练时的老年剑法。  \n从那天之后，我只要去到老头家，他会第一时间给我背上那把大宝剑，然后该干吗干吗。看书，陪他弄花草，他会问我很多关于我的事，有一天当他得知我在学校是大队长的时候，他直接把我抱了起来，一个劲地对我说：“原来你这么厉害呀！”  \n我则得意地笑着。  \n我跟老头没事就看书，弄花草，逗鸟，和玩大宝剑，不知不觉过去了15天，还有5天我就可以结束陪伴老人家的作业了。  \n我把这件事告诉了老头，老头愣了一会，说：“那明天我带你去城隍庙买一把属于自己的大宝剑吧。”  \n我惊讶地看向他，问他是真的吗？  \n他用力地点点头。我一激动，抱住了她，第一次说了句：“谢谢爷爷！”  \n他 面色绯红，有点不好意思，也抱了抱我，但显得异常开心。那天晚上，他陪我一起回家，然后跟我的妈妈说他想第二天带我去城隍庙玩，希望我妈妈同意。然后还从 包里掏了很久，掏出自己的身份证，还有一张写了自己电话的纸片。他们在门口聊了挺久，而我在屋子里紧张地看着这一切。最后看见老头对我开心地笑了笑，用手凭空作剑，对着我舞了舞，就开心地走了。  \n妈妈转头过来严肃地看着我，我马上立正在原地，妈妈对我说：“不能乱跑，知道吗？”  \n我一颗心就沉了下去。  \n接着妈妈又说：“在明天跟爷爷出去的时候。”  \n我立马喜笑颜开，脖子像按了发条，使劲点头。  \n第二天在城隍庙，老头全程拉着我的手，他带我走进一个大楼里，里面有数不过来的摊位，每个摊位的墙上都挂满了大宝剑，我们两个这家看看，那家看看，人很多，很拥挤，我看见他有点不自然，把我护在他身前，挤到一个摊位前。  \n看着琳琅满目的刀枪棍棒，我一时没了目标，满心欢喜地扫来扫去，我们两个站在一起，老头有些紧张地问我：“是不是不喜欢这里的？”  \n我摇摇头说：“没有，我都喜欢！”  \n老头才爽朗地笑了起来，告诉我别着急，慢慢挑，他等我。  \n后来我挑了一把黑色的，老头找老板要了一根红色的背带，蹲在门口帮我按在了剑鞘上，挂上了我的后背。那天我觉得自己终于成为了我最想成为的人——展昭。  \n后来老头带我去买麦芽糖，我们坐在一个亭子里吃糖的时候，老头问我：“你有爷爷吗？” 我愣了好一会。  \n他有点尴尬地看着我，显得不知所措。  \n我反问他：“爷爷是……我爸爸的爸爸？”  \n他有点惊讶，接着对我说：“是啊。”  \n我边吃糖边说：“我不记得自己的爷爷，从来没有见过他。”  \n他就不说话了，摸摸我的头，问我说：“你还想吃什么？”  \n我摇摇头，一起陷入了沉默里。\n\n3  \n其实我从小就不记得自己爷爷和所有亲戚，因为我的童年颠沛流离，一时在这，一时在那，却从未回过老家。  \n我一直以为每年过年家里只有四个人，是很正常的事情。  \n我一直到97年香港回归，7岁那年，才第一次听爸爸妈妈对我说起“爷爷”两个字。那是一个晚上，我从睡梦中被叫醒，带着一肚子的起床气，觉得自己恨整个世界。  \n爸爸严肃地把我拉到角落里，让我穿上衣服，说要带我去见爷爷。我磨磨蹭蹭半天，就是不肯。因为那年我实在不知道爷爷是什么。对于到底哪里突然冒出了一个爷爷来，我百思不得其解，并且很认真地以为爷爷是爸妈的某个无聊朋友。  \n后来爸爸接了一个电话，神色更加急迫，大声地吼我：“你到底要不要穿衣服！”  \n我一肚子起床气瞬间找到了出口，哭声喷薄而出，大声地喊着：“我就不穿！”  \n爸爸对我投来了一个此生难忘的失望眼神，然后和妈妈急匆匆地出门了。没过多久，一个称之为“姑姑”的人来到了家里，哄我哄了半天，我才把衣服穿上，跟着她出了门，去见所谓的“爷爷”。  \n去到一半，姑姑接了一个电话，然后让司机掉转车头，我们又回了家。  \n那天从头到尾我都不知道发生了什么。  \n那之后的许多年，我才终于很清晰地知道了爷爷是谁，是干吗的，也从别人口中得知，我还没记事的时候，爷爷常常在过年的时候叫着我的小名，然后我屁颠屁颠地跑过去，他会塞给我一个无比丰厚的红包，别人说他最疼我，小时候。  \n只是后来我被父母带着四处跑，既不知道自己根在哪，也不知道有哪些所谓的亲人，我以为世界上每个人都和我一样，只有家人。  \n也知道了，那个晚上，是我最后一次，能见到爷爷的机会。此后这件事成了我想起一次就遗憾和自责一次的事情。  \n直到去年我24岁，临近清明节的时候，爸爸让我开车带着姐姐回老家去给爷爷扫墓。我听完二话没说就推掉了所有事情。  \n一路上雨点淅淅沥沥地打在车上，我和姐姐一路上都没有说话，开在乡间的泥泞小路上。  \n我被亲戚带着，去了爷爷住过的老房子，看见一个黑不溜秋的奶瓶，他们说那是我的。看见了许多爷爷当年生活时的东西，甚至都叫不上名字，那到底是什么。  \n那天在墓碑前，放起了一长串大鞭炮，我看着爷爷的名字，心里说：“爷爷，我回来啦。” 然后眼睛就红了。  \n我心里又说：“爷爷，在那个年纪，我真是像个不落地的蒲公英，从未有人跟我提过我从哪里来，也没有人确定地告诉我，我要到哪里去。”  \n就像被风一直裹着，以为世界上并没有可以落脚的土地。  \n“但你原谅我的话，你就刮来一阵风好了。”  \n于是那天很神奇地在一秒之后，刮来了一阵风。\n\n4  \n后来在那个陪老人的作业本上，老爷爷给我写的最后一个评语是：“他像我的孙子一样，我像他的爷爷一样。”  \n那时我常常面对离别，妈妈在某天跟我说，这个暑假结束之后，我们要去重庆了。  \n我点点头，坐在沙发上。我不知道重庆是什么地方，也不知道在那会遇见什么人。只是已经开始在心里提前默默地消化起了对未知和陌生的恐惧。  \n走那天，老头赶来，抱着一盆小花，气喘吁吁地说：“这是你来那天，我给你种的，名字就叫小则林。”  \n我一看是一盆黄黄的小花。  \n但妈妈说：“坐飞机，带不了这些。”  \n我遗憾地看着老头，老头也略显无奈，犹豫了一会说：“没事，等你回来的时候，小则林就跟你长得一样大了。”说完摸了摸我的头。  \n但我并没有再回来过，甚至没能带走那把爷爷送我的大宝剑。  \n并且那年，最后走的时候，我也没明白过来，“爷爷”到底是什么。  \n但只要时间一天一天地过去，人在时间里，很快就会长大。  \n有时夜深人静的时候，我会想起那盆小黄花，也会想起97年那个夜晚。  \n并且每次都带着遗憾，因为他们从来不知道我去了多少地方，也不知道我见过多少人，甚至他们永远没有办法知道，他们一直在我心里，并且没有办法告诉他们，这些无从告别的告别。\n\n---\n","tags":["小小说","转载","故事","离别","告别"],"categories":["转载","学习"]},{"title":"使用R语言从UniProt数据库检索蛋白信息-UniprotR包","slug":"使用R语言从UniProt数据库检索蛋白信息-UniprotR包","url":"/2024/11/27/dd36854d083f/","content":"\n​![uniprot](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241125123119.png)​\n\n​`UniprotR`​ 包通过丰富的函数和可视化工具，使得从UniProt数据库中检索和分析蛋白质信息变得更加便捷和高效。\n<!--more--> \n\n## 基本信息\n\n* **版本**：2.4.0\n* **作者**：Mohamed Soudy 和 Ali Mostafa\n* **描述**：连接到Uniprot，使用蛋白质的访问号检索信息，如名称、分类信息等。\n* **URL**：[https://github.com/Proteomicslab57357/UniprotR](https://github.com/Proteomicslab57357/UniprotR)\n* **问题报告**：[https://github.com/Proteomicslab57357/UniprotR/issues](https://github.com/Proteomicslab57357/UniprotR/issues)\n\n**功能**：\n\n* 提供多种功能，包括构建基因树、位置树、转换ID、富集分析（包括生物学过程、细胞组分、KEGG、分子功能、REACTOME）、获取疾病关联、表达数据、家族域数据、一般信息、杂项信息、名称和分类信息、病理生物技术信息、PDB结构、蛋白质注释、功能、基因本体信息、蛋白质相互作用、蛋白质网络、蛋白质网络（全部）、蛋白质组信息、蛋白质组FASTA、PTM处理、出版物信息、序列长度、序列同源、序列、结构信息、亚细胞位置等。\n* 提供了解析UniProt信息和绘制各种图表的功能，如GO分子功能、GO亚细胞定位、酸度、电荷、染色体信息、基因网络、GO全部、GO生物学过程、GO信息、GO术语、Gravy、理化性质、蛋白质存在状态、蛋白质GO生物、蛋白质GO细胞、蛋白质GO分子、蛋白质状态、蛋白质分类等。\n\n**图表和可视化**：\n\n* 除了数据检索，`UniprotR`​ 还提供了多种数据可视化工具，帮助用户更直观地理解蛋白质的特性和功能。\n\n**安装和依赖**：\n\n* 该包不需要编译，可以直接从CRAN安装，且依赖于多个R包，方便用户进行数据分析和可视化。\n\n## 安装\n\n```{r\ninstall.packages(\"UniprotR\")\n```\n\n## 使用示例\n\n​`GetAccessionList`​函数可用于从csv文件中获取UniProt Accession / s列表。\n\n```{r}\nlibrary(UniprotR) \nDm_Acc <- GetAccessionList(\"Dm_uniprot.csv\")\n\n#用于检查输入数据的有效性\nProcessAcc(Dm_Acc)\n\n```\n\n**DataObjPath:**  Excel文件 (.csv) 的路径，文件内容如下图。\n\n​![csvfile](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241125114109.png)​\n\n### 录入时间\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127223443.png)​\n\n```{r}\nDm_Acc_General <- GetGeneral_Information(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127205024.png)​\n\n### 其他\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127205934.png)​\n\n```{r}\nDm_Acc_Miscellaneous <- GetMiscellaneous(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n\nPlotproteinStatus(Dm_Acc_Miscellaneous,\"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 获取分类信息\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127224415.png)​\n\n```{r}\nTaxaObj <- GetNamesTaxa(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n# 用于绘制染色体中access / s数据中位置的频率\nPlotChromosomeInfo(TaxaObj)\n# 基于从' GetNamesTaxa '中检索到的主基因对蛋白质进行聚类。\nPlotGenesNetwork(TaxaObj)\n```\n\n### **Pathology &amp; Biotech**\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127210744.png)​\n\n```{r}\nPathology_Biotech <- GetPathology_Biotech(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 下载PDB结构数据\n\n```{r}\nDm_pdbStructure <- GetpdbStructure(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 蛋白功能\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127224209.png)​\n\n```{r}\nDm_ProteinFunction <- GetProteinFunction(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 转换ID\n\n将UniProtKB的AC / ID转换为UniProtKB中的任何数据库ID。详细信息参阅[https://www.uniprot.org/help/id_mapping和https://raw.githubusercontent.com/MohmedSoudy/UniprotR/master/uniprot_ids.csv](https://www.uniprot.org/help/id_mapping%E5%92%8Chttps://raw.githubusercontent.com/MohmedSoudy/UniprotR/master/uniprot_ids.csv)\n\n```{r}\nConvertID(Dm_Acc,ID_from=\"UniProtKB_AC-ID\",ID_to=\"OrthoDB\",taxId=\"7227\",path=NULL)\n```\n\n​`ConvertID(ProteinAccList,ID_from=\"UniProtKB_AC-ID\",ID_to=NULL,taxId=NULL,path=NULL)`​\n\n|||\n| ------| -----------------------------------------------------------------------------------------------------------|\n|​**​`ProteinAccList`​**​|UniProt Accession/s 向量|\n|​`ID_from`​|数据库标识符的缩写，从中将Accession / ID进行转换。|\n|​`ID_to`​|数据库标识符缩写字符串，Accession / ID将转换为该字符串。默认为UniProtKB中可用的所有数据库标识符。见[uniprot_ids.csv](https://raw.githubusercontent.com/MohmedSoudy/UniprotR/master/uniprot_ids.csv){.uri}|\n|​`taxId`​|当ID_to为' UniProtKB '时需要TaxId字符串。例如 '9606' for human。|\n|​`path`​|保存excel文件的路径。|\n\n### 获取蛋白序列-fasta格式\n\n通过 UniProt 中的蛋白ID，下载蛋白序列。\n\n```{r\n# 下载UniProt的蛋白序列并保存为fasta文件\nGETSeqFastaUniprot(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\",FileName = \"Dm_Prot\")\n\n# 获取序列长度\nGetSeqLength(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n\n# 获取蛋白亚型信息\nGetSequenceIso(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n\n\n```\n\n### 蛋白序列信息\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127224330.png)​\n\n```{r}\n# 获取序列信息\nDm_Sequences <- GetSequences(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 蛋白互作-STRING\n\n连接到stringdb并检索输入列表之间的PPI\n\n​`GetproteinNetwork_all(ProteinAccList , directorypath = NULL, SpeciesID = 7227)`​\n\n```{r\n# 根据导入的数据生成PPI\nGetproteinNetwork_all(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\", SpeciesID = 7227)\n# 获得蛋白质相互作用列表\nGetProteinInteractions(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127224052.png)​\n\n### GO分析-\"Gene ontology\"（基因本体论）\n\n格式\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127223940.png)​\n\n​`PlotGOBiological(GOObj, Top = 10, directorypath = NULL)`​\n\n​`Plot.GOMolecular(GOObj, Top = 10, directorypath = NULL)`​\n\n​`Plot.GOSubCellular(GOObj, Top = 10, directorypath = NULL)`​\n\n​`PlotGoInfo(GOObj , directorypath = NULL)`​\n\n​`PlotGOAll(GOObj, Top = 10, directorypath = NULL, width = width, height = height)`​\n\n​`GOObj`​ 参数： 指的是得自 `GetProteinGOInfo`​ 函数的数据集。\n\n```{r}\n# 获取Gene ontolgy信息\nGeneOntologyObj <- GetProteinGOInfo(Dm_Acc,\"I:\\\\Thesis\\\\Analysis_Display\\\\R_data\")\n# 解析从UniprotR函数' GetProteinGOInfo '中检索的数据。\nGoparse(GeneOntologyObj)\n#  This Function is used to plot data retrieved from UniprotR Function \"GetProteinGOInfo\"\nPlotGoterms(GeneOntologyObj,\"I:\\\\Thesis\\\\Analysis_Display\\\\R_data\")\n# Biological process\nPlotGOBiological(GeneOntologyObj) \nPlotProteinGO_bio(GeneOntologyObj)\n# Molecular function\nPlot.GOMolecular(GeneOntologyObj)\n PlotProteinGO_molc(GeneOntologyObj)\n# Subcellualr localization\nPlot.GOSubCellular(GeneOntologyObj)\nPlotProteinGO_cel(GeneOntologyObj)\n# 合并BP、MF、CC\n# This Function is used to plot data retrieved from UniprotR Function \"GetProteinGOInfo\".\nPlotGoInfo(GeneOntologyObj,\"I:\\\\Thesis\\\\Analysis_Display\\\\R_data\")\n# This Function is used to plot the retrieved Gene Ontology from function ’GetProteinGOInfo’\nPlotGOAll(GOObj = GeneOntologyObj, directorypath = getwd(), width = 8, height = 5)\n# \n\n\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/GoPlotInfo.jpeg)​\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/GO%20All.jpeg)​\n\n### KEGG富集分析\n\n```{r}\nEnrichment.KEGG(Dm_Acc,OS=\"dmelanogaster\",p_value=0.05,directorypath=\"I:/Thesis/Analysis_Display/R_data\",top=10)\n# 对给定的基因或蛋白质列表进行富集分析\nPathway.Enr(Dm_Acc,OS=\"dmelanogaster\",p_value=0.05,directorypath=\"I:/Thesis/Analysis_Display/R_data\",top=10)\n```\n\n### 蛋白表达信息\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127224012.png)​\n\n```{r}\nDm_Acc_Expression <- GetExpression(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 蛋白结构信息\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127223517.png)​\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127223620.png)​\n\n```{r}\n# 蛋白二级结构\nGetStructureInfo(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n\n# 结构域\nDm_Acc_Domains <- GetFamily_Domains(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n### 亚细胞定位\n\n```{r}\nGetSubcellular_location(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241127223850.png)​\n\n### 发表的文献\n\n```{r}\nGetPublication(Dm_Acc, \"I:/Thesis/Analysis_Display/R_data\")\n```\n\n​![](images/clipboard-3403100846.png)​\n\n## 其他R包-UniProt\n\n### drawProteins包\n\n根据从Uniprot蛋白质数据库中获得的数据绘制蛋白结构示意图。\n\n其基本工作流程是：\n\n1. 提供一个或多个Uniprot ID；\n2. 从Uniprot API中获取特征列表；\n3. 绘制这些蛋白质的基本链；\n4. 根据需要添加特征。\n\n​`drawProteins`​使用包httr与Uniprot API进行交互，并将一个JSON对象提取到R中。JSON对象用于创建数据表。 然后使用ggplot2绘制蛋白示意图。 详细见 [https://www.bioconductor.org/packages/release/bioc/vignettes/drawProteins/inst/doc/drawProteins_BiocStyle.html](https://www.bioconductor.org/packages/release/bioc/vignettes/drawProteins/inst/doc/drawProteins_BiocStyle.html)\n\n### queryup包\n\n从' UniProtKB ' REST API中检索蛋白质信息\n\n## 参考\n\n1. Proteomicslab57357/UniprotR: Retrieving Information of Proteins from Uniprot\n2. CRAN: Package UniprotR\n3. UniprotR: Retrieving and visualizing protein sequence and functional information from Universal Protein Resource (UniProt knowledgebase) - PubMed\n4. 自学R语言–使用UniprotR包提取Uniprot数据库内容 - 知乎","tags":["R语言","果蝇","UniProt","蛋白","ID转换","UniprotR包"],"categories":["原创","科研"]},{"title":"使用R语言通过DIOPT数据库检索同源基因-RDIOPT包","slug":"使用R语言通过DIOPT数据库检索同源基因-RDIOPT包","url":"/2024/11/26/59d71c476e67/","content":"\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241126153440.png)​\n\nRDIOPT包 是 DIOPT 同源基因查找器 (**DIOPT Ortholog Finder**) 的一个简单包装器（wrapper）。这个包（package）的目的是允许用户直接从 R 语言环境中查询同源基因，而不需要复制和粘贴操作。RDIOPT 依赖于 DIOPT API 来执行查询和搜索结果。\n<!--more--> \n\n## 安装\n\n```R\n#install.packages(\"devtools\")\ndevtools::install\\_github(\"myuhao/RDIOPT\")\n```\n\n## 函数及参数\n\n​`find_orthologs(genes, from = 9606, to = 7227, filter = \"none\", version = 8)`​\n\n|​`genes`​|字符向量，基因的`enterzID`​。`gene symbol`​。|\n| ------| --------------------------------|\n|​`from`​|源物种`NCBI Taxonomy ID`​|\n|​`to`​|目标物种`NCBI Taxonomy ID`​|\n|​`filter`​|筛选结果，具体参数见后面内容。|\n|​`version`​|版本，`8`​或者`9`​|\n\n​`from`​ 和 `to`​为`NCBI Taxonomy ID`​. DIOPT 目前支持以下 IDs (DRSC - DRSC Integrative Ortholog Prediction Tool):\n\n* ​`all`​: 以下所有物种 (仅限`to`​使用)\n* ​`83333`​ Escherichia coli [ E. coli ]\n* ​`3702`​ Arabidopsis thaliana [ Thale cress ]\n* ​`4896`​ Schizosaccharomyces pombe [ Fission yeast ]\n* ​`4932`​ Saccharomyces cerevisiae [ Yeast ]\n* ​`6239`​ Caenorhabditis elegans [ Worm ]\n* ​`7165`​ Anopheles gambiae [ Mosquito ]\n* ​`7227`​ Drosophila melanogaster [ Fly ]\n* ​`7955`​ Danio rerio [ Zebrafish ]\n* ​`8364`​ Xenopus tropicalis [ Western clawed frog ]\n* ​`10116`​ Rattus norvegicus [ Rat ]\n* ​`10090`​ Mus musculus [ Mouse ]\n* ​`9606`​ Homo sapiens [ Human ]\n\n​**​`filter`​**​\n\n* ​`none`​ 无过滤，显示所有结果。\n* ​`best_match`​ 只有当每个输入基因或蛋白有一个以上匹配时，才返回最佳匹配。\n* ​`exclude_score_less_1`​ 排除低diopt得分( score  \\> 1 ,除非仅匹配得分为1)\n* ​`exclude_score_less_2`​ 排除低diopt得分( score  \\> 2 ,除非仅匹配得分为1或2)\n\n## 示例\n\n以黑腹果蝇 [ *Drosophila melanogaster* (fruit fly) ] 的Akt, CaMKI基因为例\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241126192800.png)​\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241126201505.png)​\n\n```r\nlibrary(RDIOPT)\n# Entrez ID\ngene_of_Dm <-  c(41957,43792)\n# 安装了AnnotationDbi可以使用gene sysmbol\nif (require(org.Dm.eg.db)) {\n  gene_of_Dm <-  c(\"Akt\",\"CaMKI\")\n}\n# 果蝇NCBI Taxonomy ID为7227\nDm_orthologs  <-  RDIOPT::find_orthologs(gene_of_Dm, from = 7227, to = \"all\", filter = \"best_match\")\nDm_orthologs\n```\n\n​![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241126202220.png)​\n\n## 参考\n\n1. myuhao/RDIOPT: R interface to run DIOPT ortholog finders\n2. DRSC - DRSC Integrative Ortholog Prediction Tool\n","tags":["R语言","实例","果蝇","DIOPT","同源基因","RDIOPT包"],"categories":["原创","科研"]},{"title":"和江湖谈一场恋爱 | 周宏翔","slug":"和江湖谈一场恋爱  周宏翔","url":"/2024/11/25/f984d4bf689a/","content":"\n老姜是我们哥儿几个里面最有钱的，一集电视剧剧本写下来就够我们半年的工资，所以有事儿没事儿我们都爱靠着老姜蹭吃蹭喝。老姜谈起自己事业，从来都是云淡风轻，在我们在为了同事比自己多拿几千年终奖而纠结的时候，老姜总是大手一挥，爽快地说：“得了，今天吃喝嫖赌我一个人买单！”  \n<!--more-->\n\n当然，我们都不是白眼狼，老姜也有“遇难”的时候，在文字世界里徜徉的他是个生活白痴，什么电路跳闸，马桶堵塞，喝醉了倒在路边，往往无法自理，只要他一个电话，我们立马赶到，二话不说，一条龙服务。  \n跟着老姜除了能够偶尔享受一下奢靡的生活，更重要的是可以听他说几个故事。老姜的故事总是百转千回，荡气回肠，往往听到精彩之处，老姜就立马收口，欲知详情，请听下回分解。我和老姜开玩笑说，你去开个茶馆儿，准火！老姜说，肥水不流外人田，也就是逗你们哥儿几个开心开心，真要我去讨好那帮子人，我还不愿意呢。  \n和老姜暧昧的女人可不少，有时候还有几个小有名气的大角儿，为了让自己多点戏份，跟着老姜可是形影不离。但老姜这个人把持有度，知道什么是可以碰的，什么是不能碰的，懂得引火上身的道理，往往点到即止。  \n直到老姜遇到了苏荷，他才真正感觉到了棋逢对手。  \n苏荷不是漂亮姑娘，说起来，她不仅脸蛋儿一般，身材还有些偏胖，就老姜第一眼看见她，就怀疑她肯定是导演的亲戚“走后门”进来的。让这样的女生演女二真的好吗，老姜不禁想到。那是老姜所编的为数不多的古装剧，纵使为数不多，也好歹是自己的作品演绎，出于本有的职业操守，老姜还是和导演提出了换角的建议，结果第二天，苏荷就风驰电掣地追到了老姜家，老姜前一晚为了赶剧本，凌晨四点才上床，这天刚亮，就被那野兽撞门的剧烈声响给吵醒了。  \n老姜一开门，苏荷就劈头盖脸地骂起来，“为什么要把我换掉？我不就是没有献身吗？你们这群老流氓！”老姜瞬间把门关上，靠在门上稍稍安静了两秒，睡眼惺忪地他还没搞清楚状况，苏荷又在门外大吵大闹起来，“你个没良心的，吃干抹净，你个负心汉，陈世美，见了漂亮姑娘就忘了糟糠之妻，你……”苏荷没说完，老姜就把她拉进了屋。  \n两个人面面相觑，大眼瞪小眼，半晌，苏荷双手抱胸，说：“想也别想！”  \n“靠，我可没那么重口味！”老姜忍不住说道。  \n“那你想干嘛？”苏荷死死地盯着他。  \n“我还想问你，你到底想干嘛？”  \n苏荷咬着嘴唇，肚子里的话翻了一遍又一遍，最后说：“实在当不了女二，女三女四也行！”  \n老姜说：“换掉你是导演的意思，我又做不了主。”  \n苏荷红着脸说：“你个老流氓，导演都和我说了，就是我没给你献身！”  \n事后老姜回忆起来，说那天就像是在饭店点了熊掌，上了猪蹄，吃到嘴里，还有一撮毛。  \n最终老姜为了证实自己和那些女演员非亲非故，没有所谓的“潜规则”，还是给苏荷换到了一个女配角，用老姜的话来说，这个角色至关重要，虽然整部戏只有三场，但是没有这三场，剧情就无法继续。  \n苏荷非常用心，即使是微不足道的角色，她也常常在空闲时候自我演练。那些台词对着镜子说了一遍又一遍，最后上场的时候，基本都是一次性过关，没有任何NG的情况。老姜在旁边看，竟然也为苏荷的努力和认真有所动容。连着四个月的拍摄，苏荷一直跟着剧组，风雨无阻，老姜偶尔去探班，发现苏荷一直在，间隙他过去问她：“你不是都拍完了吗？”苏荷说：“我特别想知道故事的结局。”  \n杀青的那天晚上，导演特别设了宴犒劳大家，老姜喝得醉醺醺，错把苏荷当成了组里另外一个小姑娘，脸不觉靠上去，立马被甩了一个大耳光，全场一下鸦雀无声，老姜立刻清醒了过来，苏荷眼看无法收场，打开门一溜烟跑了。  \n老姜从酒店出来，摇头晃脑不清醒，一辆出租杀过来，差点把老姜撞倒在地，老姜只觉有个人拉了自己一把，司机准备出来嘟囔几句，却被拉自己的那个人噼里啪啦骂了回去，老姜只觉酒精往大脑一冲，眼前一黑，两眼一闭，就这样倒了下去。  \n醒来的时候，老姜发现自己躺在一间招待所房间的床上，床头有一张纸条，上面写：住宿的钱我付过了，八十五，下面是我的银行卡号，醒了记得打给我，苏荷。老姜觉得好笑，把纸条放进了上衣口袋，翻身又睡了过去。  \n一场戏结束之后，老姜拿钱去泰国旅游了一趟，回来的时候，又准备接新活儿。他打电话给我们哥儿几个，找了个饭店准备请我们吃一顿，他说，回头他要闭关了，写不好可不出山。  \n那天我们去吃烤鱼，大家伙儿都听着老姜在泰国的逸闻趣事，老姜一边说着自己的艳遇一边嘚瑟得吐烟圈。看着老姜耀武扬威，实在遭人羡慕。突然有人问老姜，之前和你打得火热的小姑娘怎么样了？老姜咧嘴笑道，哪个小姑娘，跟着我转的小姑娘多了去了，不晓得你说哪个。  \n夜里回家的时候，老姜一边扭着腰一边唱着歌，楼道黑漆漆，刚要开门，踩到一团软绵绵的东西，立马听到一声尖叫。他吓得后退几步，打了火机，微弱的火光让他看清了苏荷狼狈的脸，苏荷就跟一只遗弃的小猫一样。老姜大叫一声，擦，女鬼上身啊！  \n老姜开了门，邀她进屋，问她怎么跟从大宅门逃出的小媳妇儿一样，苏荷沉默了很久，才告诉老姜她被男朋友扔大街了，男朋友骑着摩托车突突地离开了她的世界。  \n苏荷说，我男朋友说我每天都做白日梦，没得救了，说我已经不是十七八岁的小姑娘，梦想就是狗屁，根本养不活自己。他不想拖着一个拖油瓶，我在他眼中就是一个不切实际的疯子！我也不知道怎么走着走着就走到你楼下，上来敲门你不在，蹲在门口睡着了。  \n老姜有些恍惚，却依旧看清了她两颊的泪痕，红通通的眼睛，应该是哭了很久。  \n苏荷坐在沙发上，长长叹了一口气，可怜巴巴地问老姜她是不是真的没得救了，老姜红着脸，吐着酒气说，还好，不算晚期。老姜四仰八叉地靠在椅子上问苏荷，为什么那么想当演员。苏荷说，我就是想演戏，我喜欢演戏。  \n老姜一时间语塞，不知道怎么说才好。  \n苏荷突然问起老姜之前那部戏什么时候播，老姜想了想，说，应该快了。苏荷在茶几上抓起一支笔，用力在老姜手上写了个号码，硌得老姜生痛，苏荷说，这是我电话，要是快播了，你和我说一声，等我成了大明星，我要让他后悔死！  \n后来老姜在一家咖啡店写稿遇见苏荷，她穿着围裙在那里接待客人，眼看老姜来了，她突然有些不好意思。老姜一坐就是一天，店铺打烊，老姜才走，漆黑的夜，老姜觉得苏荷一个人走不安全，说开车载她一程，苏荷摇头，说自己坐晚班公交就好了，老姜问苏荷住哪儿，苏荷说在杨思，老姜说他正巧顺路。其实老姜住徐汇，根本和苏荷不是一个方向。  \n老姜问她为什么不好好找份工作，苏荷说她要一面体验生活一面丰富阅历，好的演员必须方方面面尝试，否则演戏不真。老姜说，其实除了演员，世上还有很多事情可以做。  \n苏荷突然沉默了，半晌，开口说，我为了学演戏，我妈在外面借了很多钱，当时遭了很多白眼，我跟我妈说，有朝一日，我一定让那些瞧不起我的亲戚刮目相看，我一定会成为大明星！就算我男朋友和我掰了，我也无所谓了，我和我妈说了，我的戏很快就要播了，电话那头她笑得可开心了。苏荷说得激动，有些泪眼婆娑。  \n老姜突然靠边停车，他打开车窗，点了一支烟，说：“人在江湖，身不由己。”苏荷睁大眼睛望着他问：“什么意思？”老姜深深地吸了一口，弹了烟灰，看着苏荷，诚恳地说：“其实你演的那三出戏，导演全剪掉了，不是你演的不好，而是那些戏份真的不需要。”苏荷一时呆若木鸡，顷刻大叫一声，抓住老姜手臂狠狠地咬了一口，又给了老姜一巴掌，打开车门冲了出去。  \n老姜开车也没追上苏荷，他突然有些愧疚，他问过导演当时为什么选她当女二号，导演说，因为她已经来试过十几次戏了，每次都带些新花样来，总觉得不让她试试，也有些对不起她，反正女二在中途会死掉，让她试试也无妨，但是，所有人都知道，以她那样的长相，肯定是红不了。  \n那段时间老姜特别不开心，剧也不写了，成天邀约我们出来喝酒，我问他是不是做了亏心事，搞大了哪个女明星的肚子，老姜笑不出来，我们想，这下完了，从前可没有哪个女人让他茶饭不思。  \n一天老姜喝多了，一口气给苏荷打了二十个电话，苏荷忍无可忍，只有接了，老姜说：“你来，我给你写新戏！”苏荷在那头没有说话，老姜继续说：“我认识的导演多，我给他们推荐！”苏荷还是没有说话，老姜接着说：“你是不是不信我？”苏荷微微舒了一口气，说：“我妈不在了，我演给谁看呢？”原来苏荷没有告诉他，当时母亲已经病重，等的就是苏荷那场戏，结果戏没了，妈也没了。  \n老姜说：“你出来，你出来，我想见你。”  \n“你想，我不想。”说完就挂断了老姜的电话。  \n老姜喝多了，就爬到苏荷之前打工那家咖啡馆门口，后来老板打电话给苏荷，苏荷踹了老姜两脚，老姜恍恍惚惚说不出话，苏荷拖着老姜上出租车，老姜抓着苏荷的手，苏荷想拖出来，再给他两巴掌，结果老姜又抓住她另一只手，那天老姜靠在苏荷肩上，说了一堆胡话，结果苏荷把老姜带回了家。  \n老姜说，你缺的不是演技，是机会。  \n苏荷冷冷地说，现在说这些有什么用？  \n老姜满嘴酒气说，别忘了那些看你笑话的亲戚。  \n苏荷不出声，老姜接着说，你妈不在了，江湖还在，你是女侠，随时都要回来。  \n没多久，老姜和苏荷走到了一起，老姜逼着苏荷减肥，每天督促她束身，早起陪她跑步，晚上监督她少吃，几个月下来，苏荷瘦了二十斤，和之前我们看到的那个苏荷判若两人。苏荷甚至比之前更努力，老姜写了剧，她就在家对着镜子念，拿手机录下来，自己听不下去，就重头再来。老姜看在眼里，心里却不是滋味，苏荷问老姜自己演得如何，老姜说，好，真的好。苏荷为了瘦小腿，用保鲜膜绑了一个月，最后弄得苏荷身上都过敏了，老姜说，你太拼了。苏荷说，你不是说我是女侠吗，哪个女侠不是这样拼出来的？  \n老姜说带苏荷去见几个导演，苏荷当场拒绝，她说，我才不要因为你的关系“走后门”，你说我演得好，是真话，我就去，是假话，我就继续练。老姜说不过她，只有给她一个深深的吻和大大的拥抱，没多久，苏荷靠自己的实力接了个女三号，虽然戏份也不多，但是苏荷很开心。  \n那天苏荷拉着老姜，叫上我们一群人去吃饭，席间大家都很开心，几个兄弟揶揄老姜，当了这么多年的山大王，终于被苏荷这个女侠降服了。  \n苏荷开始在圈子里小有名气，接的戏也越来越多，老姜继续闭关写剧本，有时候苏荷还能帮老姜介绍几个导演，夫妻搭配，干活不累，两个人感情越来越好，大家都说这次是瞌睡遇到枕头，碰巧了。  \n但是娱乐圈里人红是非多，很快就有人说苏荷是靠老姜上位，开始在背后诋毁苏荷，说当今谁有点“献身精神”都能红，不知道谁又翻出苏荷之前的照片，开始传言她到韩国整容。那段时间苏荷压力很大，和老姜常常吵架，老姜写累了，也不想和苏荷说话，就到酒吧去喝酒，碰到熟悉的小妹，又露出了本性，接二连三有人和苏荷打小报告，说老姜和谁谁又勾搭上了。苏荷问老姜，老姜便说苏荷不信任，一来二去，争吵成了冷战，最终爆发，只有分手。  \n老姜一气之下说，和女生说说话怎么了，成天就只许对着你一个人了？苏荷猛地踹了老姜的命根子，声色俱厉地说：“滚犊子，你这辈子就是个老流氓！”  \n苏荷走后，老姜回到了一个人生活的状态，不知道为何，却突然忘记了自己曾经怎么独自生活。他想起这些日子，自己写剧本累的时候，苏荷会帮他揉肩，渴了苏荷给他倒茶，虽然彼此忙，在家做饭不多，但是苏荷的糖醋小排确实是人间美味。  \n苏荷一走，老姜像中邪一样，一个字也写不出来，每天打开电脑发呆，写了几行，又回头删掉，来来去去，写不到一百字，眼看要交剧本了，他还一个字都没动，最后投资方生气，干脆换掉了编剧，老姜受到了打击，还被要求退还定金，老姜的钱早用得差不多了，因此欠了一屁股债。  \n以前那个意气风发的老姜不见了，我们看见他的时候，他完全变成了山顶洞人，蓬头垢面，披头散发，老姜的房间堆满了揉成团的稿纸，他说他完了，真的完了。  \n我们赶紧联系到苏荷，当时苏荷不在上海，正在蒙古拍戏，信号不好，没听清我们说的，只听到“老姜完了完了”就立马从蒙古飞回来，苏荷去敲门，老姜没开，她以为老姜为情自杀，掏出钥匙开了门，结果老姜和一个小姑娘正躺在床上，苏荷红着脸又红着眼，摔了门，快步下了楼。  \n老姜淡出圈子一段时间，再回来，新人都占了空，没有多少人找他写戏了，那段时间，老姜穷困潦倒，成了我们哥儿几个请他吃喝嫖赌，老姜叹气说，出来混，都是要还的啊。  \n那时候苏荷已经红了，我们喝酒还能看见苏荷的广告，老姜看着电视里的苏荷，嘴上不说，眼里都是泪，老姜说，谁能想得到，原来的小胖妞现在居然在拍减肥茶广告。  \n几天后，老姜接到一个导演的电话，说看了他以前的本子，想和他谈谈合作的事。老姜盛装打扮，到了饭店，对方才说，是苏荷介绍的，苏荷是他们下部戏的女主角。  \n签完合同的那个下午，老姜坐在咖啡厅里，望着窗外，心里空荡荡一片。  \n夜里聚会，老姜说终于他妈的找到份活儿了。我们为他东山再起干杯。老姜叹气，说，最后居然还要靠女人！  \n兄弟问老姜，你想苏荷吗？  \n老姜说，不想，谁想谁是孙子！  \n说着猛灌了一杯酒，带着哭腔说道，我他妈就是孙子！  \n老姜永远不胜酒力，永远不能自理，他倒在路边，我们给苏荷打了电话，苏荷过来的时候，我们就自动撤退了，苏荷把老姜塞进了自己的车，怕老姜冷，开了暖气，老姜在后面哭，叫着苏荷的名字，苏荷假装听不到，眼泪却都滴在了方向盘上。  \n苏荷把老姜送回家，老姜抓着苏荷的手说，锁没换，你随时都可以回来。苏荷迟疑了几秒，还是把手抽出来，她说，虽然锁没换，但是我的钥匙已经丢了。老姜没有再说话，苏荷打算下楼，老姜说，能不能陪我说会儿话。  \n老姜点了支烟，苏荷趴在阳台栏杆上，这个家，是曾经他们一起经营的地方。  \n苏荷突然开口，说，我不在，房间也还整洁，应该有小姑娘帮你打扫吧。老姜吐了一口烟，眯着眼睛，说，每天晚上我都收拾一遍，想着你哪天回来，觉得这还是个家。苏荷鼻子有些酸，但没有接老姜的话，老姜接着说，你啊，不要太拼，江湖再大，女侠也要有个家。  \n苏荷别过脸，淡淡地说，别搞笑了，你还真把我当女侠啊！你啊，就是剧本写多了，快变神经病了！  \n苏荷起身，走到老姜身边，挽起老姜的右袖，那个被她咬过的齿痕，已经渐渐看不清了。苏荷说，你看，不管曾经多么用力，最后都会消失。好了，玩笑开完了，我走了，对你那些小姑娘好点，注意身体。  \n老姜趴在阳台上，看着苏荷的车渐渐消失在夜色之中，哽咽得说不出一句话来。  \n苏荷一边开着车，一手伸进大衣口袋里，在驶向郊区的路上，她打开车窗，把那枚随身携带的钥匙抛了出去。金属在路灯下划出一道弧线，汽车飞速驶过，听不到它最终落地的声响。  \n爱这回事儿，不过是两个人在兵荒马乱中的相濡以沫，能够共苦的人，往往等到难关已过，无法同甘，你以为你爱上了一个人，其实，只是爱上了那个拔刀亮剑的江湖，和那段彼此磨砺的岁月。\n\n---\n","tags":["小小说","转载","故事","恋爱","江湖"],"categories":["转载","学习"]},{"title":"我所说的拼命，只是不顾一切的活着 | 午歌","slug":"我所说的拼命，只是不顾一切的活着  午歌","url":"/2024/11/25/05f6fd108850/","content":"\n8月，台风“海葵”在宁波登陆，我被困在栎社机场的候机厅，过了11点钟，延误的航班没有丝毫消息。我在手机通讯录里不断的翻看着宋玉的名字，仿佛手指轻点一下，就能联通到他的世界。\n\n风很大，大雨瓢泼而下，而我始终没有点动它。\n<!--more-->\n\n**1**\n\n我和宋玉是发小，5岁那年，我和他在家属院后的货仓里玩火时，点燃了一张大油毡。不知怎么油毡燃烧时滴下的沥青溅到我的棉裤上。我的新棉裤迅疾燃烧起来，我蜷着身子疼得在地上嗷嗷直叫。宋玉见状，慌忙一把一把的抓起沙子盖在我的火腿上——没有用，他又使出吃奶的劲头拼命在上面吐口水， 可惜仍无济于事。\n\n火势加大，我疼得哇哇大哭，宋玉褪下他的裤子，一泡尿撒在上面，浇灭了大部分的火苗。眼看着剩下的火种死灰复燃，宋玉光着屁股就抱着我的大腿打起滚来，最终熄灭了所有的火苗。\n\n事后，宋玉被他娘吊着打了半天。而我因为伤口发炎，躺在医院里好吃好喝的住了一个星期。  \n我的左腿上至今还有一条8寸长的“火疤瘌”，宋玉说，那是我们伟大友谊的见证。\n\n可在当时我感动的要命，是宋玉的果断与勇敢保住了我的大腿。  \n我说，宋玉，你是我的救命恩人。你想要什么，我都买给你！  \n宋玉爬在我的身边，嘿嘿一笑说，不用了，你先欠着，我想到了你再还。\n\n说完话，他得意的翻身坐起，谁知屁股一挨床，就“哇哦”一声，蹿出去老高，像一只燃烧的钻天猴儿炮仗。\n\n**2**\n\n到了小学我们被分到了同一个班级。  \n我因为成绩还不错，是老师眼里的好学生。  \n宋玉则是调皮捣蛋的孩子王，因为“大腿事件”知恩图报，我时常把作业和小纸条及时的传给宋玉。\n\n5年级，文艺汇演，宋玉找我一起演舞台剧。  \n宋玉说，大闹天宫里缺一个重要角色，你演不演？\n\n我问，是孙悟空吗？  \n宋玉说，那是我的角儿！  \n我问，是天兵天将吗？  \n宋玉说，比这个待遇要好一点！  \n我问，那是？  \n宋玉说，是玉皇大帝，你考虑一下！\n\n我说，玉皇大帝就算了，整个大闹天宫里一直都被揍得很怂，有损我的好孩子形象。  \n宋玉说，我会尽量减少你的戏份，蒋一燕会演王母娘娘，你再考虑一下。\n\n蒋一燕是我们全校闻名的学霸，不但成绩好，人也生的十分清秀，而且画画也非常棒。那个年龄段，但凡三观发育正常，身体茁壮成长的男生，都争着和蒋一燕做朋友，借她作业，收藏她的画，陪她一起大扫除。\n\n于是我不假思索的就答应了下来。  \n宋玉也最终兑现了承诺，整个《大闹天空》被他改的面目全非，主要戏份就是王母娘娘和孙悟空在蟠桃园斗法。  \n而我唯一的一句台词，就是钻在课桌底下，歇斯底里的喊了一句：  \n“快去请如来佛祖！”\n\n**3**\n\n六年级时，蒋一燕参加了学校的绘画兴趣班，放学比普通同学晚一小时。因为在“大闹天宫”里结下“仙缘”，我和宋玉主动担任护花使者，时常陪伴“王母娘娘”圣驾左右。\n\n一路上，我们三个说说笑笑，从马路边的白杨树上摘下知了壳，在月季花苗圃里的抓住西瓜虫，一遍遍清点落在电线上的小麻雀。日子过得简单美好，仿佛天空一般了无褶皱，仿佛流云一般长生不老。\n\n毕业前的那年夏天，我们三路过一个叫九道弯的胡同。  \n胡同的转角里，突然窜出一个高中生模样的小混混拦路打劫。因为宋玉他爸是市里的领导，家境很好，这个土豪上来就掏出二十块钱稳住了局面。\n\n那个打劫的小混混，本来拿了钱乐呵呵要离开。瞥了眼蒋一燕，忽然调转过头来。  \n“小姑娘，长得挺漂亮啊！”混混一脸坏笑，说着向蒋一燕伸出一只手来。\n\n宋玉一个健步挡在前面，“拿了钱还不走？”\n\n那小混混发出一声古怪的冷笑，一脚踹在宋玉的肚子上。  \n“你妈！多管闲事是吧？”\n\n宋玉捂着肚子倒在地上，使劲跟我使眼色，让我拉着蒋一燕快跑。  \n我当时完全傻掉，直到混混再伸手去摸蒋一燕时，我才把自己的脸蛋凑了过去。\n\n“你也找死是吗？”混混果断的给了我左脸一记耳光。  \n我不知从哪里来的勇气，不但戳在原地一动不动，而且用眼神示意那个混混，你可以在我右脸上再来一下，可是休想跨过去。  \n“傻逼！”那混混心领神会，迅速满足了我的美好愿望！\n\n可我还没动，又转过另外一侧脸颊对着他。  \n混混很意外我的抗打击能力，正在考虑调用他腿长蛋高的远程攻击模式时，捂着肚子的宋玉发疯似的冲过来，赶在混混抬腿之前，抱住了他，一口咬在他大腿根的内测。那混混痛的嚎叫了一声，跳出去半米开外。\n\n“你妈！一个傻子，一个疯子，一对傻逼！”混混骂骂咧咧着一步一瘸的走开了。\n\n宋玉从地上缓缓的爬起来，蒋一燕走过来，伸手碰触着我发烫的脸颊问我：  \n“疼不疼？”  \n宋玉抢过来说：“哎呀，我的肚子疼死了！”  \n我尴尬的笑笑说：“我没事，左右各一下，正好平衡了。”\n\n后来三个人一路上没再多说话。蒋一燕吓坏了，眼里一直噙着泪水。  \n我忽然觉得，眼泪才是检验美女的唯一标准。\n\n燕子样子美极了，比起平时清秀素雅的模样，更像一株挂着露水的粉荷。夕阳把她的影子拉得好长，我很想掬一捧她的眼泪，收集起那晚红颜的霞光，就在那个黄昏，我人生第一次体会到了心中的痒痒，就像我热辣双颊一样，不可抑制，酥麻发烫。\n\n**4**\n\n很久以后，宋玉问起我，为什么那天蒋一燕会先跑来问我疼不疼？  \n“明明是我伤的更重一点！”宋玉说。  \n“我离她近一点啊，可能是近水楼台先得月吧？！”  \n“你是不是喜欢她？”  \n“我没有！”  \n“那我就放心了。”宋玉如释重负的说。\n\n我转而反问：“要是她喜欢我呢？”  \n宋玉说：“要是那样，我就不追了。”  \n我说：“世界那么大，又不是只有我们两个是男人！”  \n宋玉说：“不管是谁，敢追我兄弟的女人，我就找砖头拍死他！”\n\n我笑笑说：“你这个疯子！”  \n宋玉说：“你这个傻子！”  \n“一对傻逼！哈哈哈哈！”我们两个抱在了一起。\n\n时间飞快，转眼就上完了初中，临近毕业，学校要从我和蒋一燕中找一个人作为优秀毕业生代表上台发言。\n\n“无上的荣誉啊！你就让给燕子吧。”宋玉忽然跟我说。  \n“那是当然，好男不和女斗！”\n\n“别和我争燕子好吗？我知道你也喜欢她，兄弟，其他的我都可以给你，命也可以！”宋玉忽的郑重的抓住我的肩膀。  \n“看在你当年为了保住我的大腿，屁股被揍成烂桃的份上！”我忍不住哈哈大笑起来。\n\n“哈哈哈！”我卯足了劲头笑着，生怕宋玉听出的我的尴尬，直到笑的喘不出气来。\n\n离校之前，蒋一燕代表全校学生上台致辞，特别提到我和宋玉两个最佳损友的伟大友谊。台下宋玉暗地为我竖起了大拇指，冲我傻傻笑着。  \n我指指自己的屁股，拔出中指和他遥相呼应。\n\n作为毕业礼物，蒋一燕送给我和宋玉一人一副水彩画。  \n我的那副上，画着九道弯胡同附近的白杨树和五色的月季花，蓝天下，飞翔着一只轻盈的燕子。\n\n宋玉问我：“她给你画了几只燕子？”  \n我说：“一只啊？”  \n“给我画了两只，这是不是比翼齐飞的意思。”宋玉喜笑颜开。  \n“嗯！那恭喜你啦，哈哈哈！”  \n这次我笑的很开心，真的，仿佛在沉闷的大天里戳开一个豁亮的口子。\n\n**5**\n\n初中毕业后，我转学去了临市的重点中学，蒋一燕继续留在本地，而宋玉因为没考上高中，被他爸安排进了南京空军地勤的汽车连。\n\n我第一次感受了好爸爸的伟大力量。\n\n这期间，只要宋玉回来，一定安排我和蒋一燕一块出去海搓。那时他已经攒下不少钱，每次都从南京带回各种鸭子身上的零件以及香辣可口的麻辣小龙虾。\n\n我们的伟大友谊顺利升级换代，从有难同当，到有福共享。  \n我没想过太多，也没想过将来，只觉得日子好像是放了葱姜蒜花椒大料以及王守义十三香的小龙虾一样，美味的不真实，可惜好时光总是溜得很快，转眼间，就是唆唆手指，各奔前程的匆匆散场。\n\n好在我和蒋一燕都考进了北京城的大学。到了周末晃晃悠悠坐上十几站地铁，就能匆匆见上一面。  \n宋玉让我指天为誓，并约法三章：  \n第一， 不能爱上蒋一燕；  \n第二， 不能让蒋一燕爱上我；  \n第三， 要时常出没在蒋一燕的周围，不能让其他男人有机可乘。\n\n宋玉说，有难度吗？  \n我说，so young so simple so naïve！  \n宋玉说，说人话！  \n我说，小意思，我这就去告诉蒋一燕，我其实是个GAY!\n\n宋玉说，你小子，虽然人怂一点，可脑瓜是真好用！\n\n**6**\n\n刚到北京的时候，我有意回避和蒋一燕见面。  \n如是几次，有天我在学校食堂捡到一本了《OutServe》杂志，正好那周又约了蒋一燕来科大玩。我便用几件脏衣服卷着一坨手纸和那本杂志压在枕头下面。\n\n蒋一燕到学校的时候，我推说在学生会有事，让她先去宿舍等我。  \n半小时后，我风尘仆仆的跑回宿舍，看见蒋一燕坐在我的床边上，用手机上网玩。宿舍的衣架上，我的衣服已被她洗干净，正滴滴答答的淌着水滴。\n\n在心里，我迅速为自己默默的点了个赞，并顺道抽了自己两个耳光。\n\n那天我送蒋一燕回学校，一路走了七站地铁的马路，说了几辈子没说完的话，却丝毫没有疲倦的感觉。  \n轧马路的长短是检验真爱的唯一标准。我深谙此道，可是我有承诺在先，所以当蒋一燕装作无意问起我有没有女孩子追求时，我含含糊糊的回答她：  \n“其实，我更喜欢男人多一点！”\n\n蒋一燕起初一阵坏笑，前思后想，联系了我的回避、手纸和《OutServe》杂志的一连串线索之后，恍然大悟的说道：  \n“妈呀！原来你和宋玉是一对，我当了好几年的灯泡，我竟然不知道！”\n\n他娘的，太意外了！这完全不是我想让她得出的推论。  \n事到如此，我不得不说：“宋玉不是gay，起码我知道他爱的不是我，而是你！”\n\n蒋一燕眨着细长的眼睛笑起来，她说：“信息量好大，我的CPU不够用，你让我缓一缓！”  \n说罢，她的双颊红热，我忽然想起多年前，那片红霞满天飞的斜阳，她用眼泪把我铸成琥珀，自此我的灵魂一直凝炼在那个百转千回的黄昏。\n\n**7**\n\n虽然我不能确定蒋一燕从此便会相信我是GAY的谎言，但我的态度起码表明：我真的对她不感冒。在我心里，她和宋玉已然成了比翼齐飞的一对。\n\n我陆续买了几套运动装，颜色很齐整，都是深深浅浅的紫色。  \n每次我去见蒋一燕，或者她过来，我都精心把自己装扮成一个长条茄子。我们沿着地铁线步行，一路迎来送往，谈人生，谈艺术，唯独不谈感情。\n\n轧马路的长短是检验真爱的唯一标准，没有比这个再扯淡！\n\n后来，宋玉和蒋一燕顺利成章的走到了一起，宋玉退伍后被他爸运作进了市政府做，蒋一燕被准公公安排进了市文化馆。\n\n毕业后，我背起行囊，跋山涉水，远走他乡。在上海，一家代理进口变频器的公司里，我找到了一份安装调试的工作。\n\n宋玉和蒋一燕大婚，宋玉一天打十八个电话让我回去做伴郎，我推说买不到火车票，在电话里和宋玉大吵。  \n宋玉说，你他妈要是把我当兄弟，把燕子当妹子，你就给我滚回来！  \n我说，买不到火车票，我可能会迟到一天或两天。\n\n宋玉说，买不到火车票，你就坐飞机。再不行，你打辆车回来，我给你报销。  \n我大吼，谁要你报销，有钱就不起吗？\n\n最后，我还是赶回去了！  \n婚礼正进行得如火如荼，新娘踮起脚尖，正准备接受新郎的香吻。我出现了，不合时宜的捧着一大束紫罗兰出现了。\n\n宋玉看到我，撇下闭着眼睛的燕子，径直从礼台上冲下来。  \n他一把抱住我，把我箍得要死。我说：“你这个疯子！”  \n宋玉说：“你这个傻逼！”  \n我的眼泪瞬时飚了出来。我已经两年没见过他俩了，要不是顾忌宋叔叔的面子，我和宋玉一定在台下互扇耳光来表达敬意!\n\n宋玉在我的脖子上狠狠的亲了一口，我噙着眼泪给蒋一燕献花，故作镇定的说：  \n“你老公亲我那是他的问题，不代表我爱着他哦！”  \n蒋一燕只是淡淡的说：“来了就好，来了就好！”\n\n隔天后宋玉和燕子送我返回上海，在车站，宋玉偷偷问我：  \n“为什么手上那么多疤痕？”  \n我说是试验失误的时候，电流击穿烫的。“公司是计件的，我多调试几台，就多赚一点！”\n\n宋玉问：“你要不要这么拼命啊？”  \n我不知哪来的火气，反诘说：“我和你不一样，除了性命，其他没得和人拼。我所说的拼命，只是不顾一切的活着！”\n\n宋玉郑重说：“你回来吧！我和我老爸谈过了，他可以把你安排进质监局！”  \n我说：“我拼得很好，很开心，犯不上什么事都去请如来佛祖！”  \n“你有种！”宋玉一拳凿在我的左肩，恶狠狠的说。\n\n**8**\n\n在上海的生活并不容易，物价高，房价高，一个月根本攒不下什么钱。后来我辗转来到了宁波，做着一份登高作业的弱电调控工作。  \n一年后，我认识了一个武汉女孩，她叫吴小云，我们的感情发展的很顺利，又过了大半年，我带吴小云返回老家成亲。\n\n宋玉开着他的新路虎来给我做婚车，蒋小燕抛下吃奶的孩子，亲手来给吴小云画婚妆。  \n新婚的那天夜里，吴小云忽然很警觉的问我，蒋一燕是不是从前喜欢过我？\n\n女人的直觉有时敏感的吓人，我问小云，怎么判断的？  \n小云说：“挑头花的时候，我想选粉的，她却说你一直都中意紫色，这么细节的问题都记在心里，你们一定有鬼。”\n\n我笑笑说，那只是一个操蛋的误会。燕子初中毕业时送我和宋玉每人一副水彩，那时候人家俩就决定比翼双飞，而让我自立门户，独上青天啦。\n\n在宁波，我时常爬上高耸的塔机操纵设备。象山港跨海大桥建造那会儿，我每天要徒手爬上240米高的主桥墩塔吊，补贴很高，日子过得逐渐殷实起来。  \n我时常望着空旷辽远的海面思念故乡，想起宋玉和燕子，想起九道弯的白杨树和西瓜虫。\n\n2年后，大桥造好，我联系了同学才知道，宋玉他家出事了。  \n他爸因为经济问题被批捕，牵连出宋玉就业的违纪问题。家里为了减轻量刑拼命往外掏钱，宋玉也已经离职半年了。\n\n我见到宋玉的时候，他正在卡车货场准备装货跑长途，人黑瘦，脸上透着一股倔强的精气。  \n我说：“有我能帮上忙的，一定告诉我！’  \n宋玉说：“没什么，能扛得住！”\n\n我说：“别那么拼命，身体最重要！”  \n宋玉冷笑一声：“拿命去拼，是因为没别的可拼，这不是你说的吗？谁不是不顾一切的活着！”\n\n我茫然无措，只好选择默默离开，其实我很想对他说：  \n“你也有种，一定要好好活着！”\n\n人生就是这样，苦难就像九道弯的胡同里随时跳出来的小混混一样，有时一个耳光接着一个耳光的抽你，有时忽然一脚把你踹在地上。\n\n**9**\n\n8月，台风“海葵”在宁波登陆，我被困在栎社机场的候机厅，过了11点钟，延误的航班没有丝毫消息。我在手机通讯录里不断的翻看着宋玉的名字，仿佛手指轻点一下，就能联通到他的世界。\n\n就在几个小时前，我接到了燕子的电话。她告诉我宋玉出事了。\n\n机场外，风很大，大雨瓢泼而下，而我始终没有拨出号码。\n\n我赶回老家时，宋玉已经被安排下葬。人生匆匆，我竟赶不上见他最后一面。  \n据说那段日子，宋玉为了多赚点钱，经常连夜赶路。出事的那一天，他车子坏在了高速公路上，虽然他支起了三脚架，可惜那晚的视线太过模糊。后面的卡车发现路障时已经来不及反应，直接将他撞在前面卡车的翻斗上。\n\n亲朋散尽，在宋玉老家的最后一个下午，我和蒋一燕一起整理着他的遗物。\n\n我在书架上发现了一副被压的很平整的油彩画。\n\n**画上有高大的白杨树和五色的月季花，蓝天下，并排飞翔着三只小燕子，手拉手一般，围成一个半圆。**\n\n吴小云在傍晚打来电话问我几时可以回去？  \n蒋一燕倚在窗边，淡淡说，回吧，我会坚强的。\n\n我恍然想起来，在多年前的那个黄昏，在那个被拉长的美丽的背影后，蒋一燕忽然在家门前转过身来，她破涕而笑，用婉转的声音说到：  \n“我很好，谢谢你们！”\n\n九道弯的胡同虽然很长，而我们终究能走出来。\n","tags":["小小说","转载","故事","活着","拼命"],"categories":["转载","学习"]},{"title":"你是你坚强的后盾 | 里则林","slug":"你是你坚强的后盾  里则林","url":"/2024/11/25/8c414ce66bf7/","content":"\n很多时候无须在乎天空的阴霾，因为你就是你自己的太阳。\n\n小时候我特别害怕过马路，因为有一年家里一个保姆带着我过马路去公园玩，当时她看到一辆面包车疾驰而来，她一紧张，就甩开我那正紧握着她的手，自己跑了。我张着嘴傻愣在原地，然后听到轮胎剧烈摩擦马路的声音，虽然车最终在我面前刹住了，但我还是被吓晕了。\n<!--more-->\n\n昏迷中我只知道我被人抱起，然后就什么都不记得了。从此以后我患上了马路恐惧症。那些年，很多人行道上没有红绿灯，所以只要旁边没人一起过马路，我就会一直站到有人为止。\n\n后来朋友们发现了我这个特点，经常在过马路到中间的时候，集体跑掉。我站在路中间，挣扎一会，然后掉头回去，虽然走到对面和回头的距离基本上是一样的，但是我就是接受不了我居然可以一个人从马路这头走到那头。\n\n朋友们笑完以后，又会从对面无奈地走回来，再带我过一次马路。\n\n我总极力做一些事情掩饰心里的懦弱。\n\n二年级的时候，体育课上有一条小蛇从草丛里爬了出来，一大群小伙伴作鸟兽散，我站在原地，思考了一下，然后冲上去对着那条蛇踩了十几二十脚，整条蛇被踩成了蛇干。大家都为我鼓掌，但我一点得意的感觉都没有，因为我不敢一个人过马路。\n\n三年级的时候，小伙伴们都在讨论青蛙好恶心，打赌谁敢抓一只青蛙放在自己手掌上，此时我默默地从草丛里出来，看着大家，然后从裤袋里掏出一只癞蛤蟆。小伙伴们又作鸟兽散。但我仍然没有觉得自己有多牛，因为我不敢一个人过马路。\n\n也许很多人都不相信，但这的确成了我童年比较大的一个困扰，夜深人静时看着窗外，我会觉得很羞愧。为什么我一个男孩子，却不敢一个人过马路？\n\n直到五年级，每次过马路，朋友们都挤眉弄眼地互相递着眼色，机智的我早已看穿，于是我绕道走人行天桥……\n\n后来我养成了一个坏习惯，跟朋友们一起走在路上，为了防止要过马路，我会拉着前面一个人的衣服。他一路扯着我走，会不爽地转过头来问我干吗，我告诉他，别问。\n\n我曾无数次在吃完饭后，走到楼下，看着面前车来车往的马路，深吸一口气，下定决心今天要走过去，然后勇敢地踏出第一步，接着会下意识地一个转身，回到原地。这时心里就会非常失落，那种失落，我直到今天都记忆犹新。\n\n直到后来我生了场大病。住院一个月，有几天要在手上扎十多个备用针孔，然后把针头留在手上，用胶布粘着。那是我无法理解的一种医疗方式，因为直到最后那些针孔也没用上。至于是什么病，最后医生也没搞清楚。只是每天发烧、呕吐，我以为我活不长了，心里顿时比过不了马路还失落。\n\n在一个午后，一个护士姐姐又来给我打针，我有点紧张，护士姐姐问我：“妈妈呢？”我说出去还没回来。护士看着我满手的针孔，有点痛心，问我疼吗。我说扎的时候疼。然后护士莫名其妙地对我说了一句：“很坚强啊，小朋友，你真是你自己坚强的后盾。”\n\n我烧得头昏脑涨，听不太懂这句话，我对着护士不解地“啊”了一声。\n\n她又耐心地重复：“我说，你是你自己坚强的后盾！”然后我看着她默默地给我打完一针，目送她离开。\n\n那天傍晚，我走出病房，看着医院门口的一条大马路。我走到斑马线前，看了看对面，又看了看满手的针孔，心里反复默念着一句“你是你坚强的后盾……”\n\n然后深吸一口气，径直往前走；中途有车，我就在马路中间停了下来，车过了，我又继续走，几秒钟后走到了对面。我抬头看着正前方的医院大门，接着又走了回去。最后盯着眼前的大马路，我不禁大哭起来，感觉许多年的压抑和挣扎都释怀了。我再也不是一个不敢独自过马路的男孩子了。\n\n第二天，我的烧退了，也不吐了，下午就出院了。没有人知道为什么突然就好了，更没有人知道我竟然会因为害怕一个人过马路，纠结了半个童年。\n\n从那天以后，我也不会再抓一些恶心的小动物在手里，就为显示自己胆子很大；现在想起来，无法直面心中的恐惧，反而会越逞强就越显得懦弱。\n\n以后的日子偶尔害怕紧张的时候，我会想，现在有比小时候一个人站在马路中央的感觉更可怕吗？然后我就放松了许多。\n\n真正的坚强也许并非刀枪不入，永远不会受任何伤害，而是被伤害以后，仍能直面内心最大的恐惧并走出阴影，做一个坚强的人。\n\n所以这个荒诞到难以想象的故事，总是在我变得懦弱的时候连同那句“你是你坚强的后盾”一起，跳进我的脑海。\n\n许多年以后，一个夜里，我坐在窗边给杂志写稿子，快写完的时候，脚抖了几下，把电源踢掉了，写的东西全没了；然后我整理了一下情绪，又继续写，写到一半，停电了。我整个人就崩溃了，眼泪都要气出来了。过了一会，我拿起手机，想给编辑发短信说这稿子我可能交不了了。正犹豫要不要发送的时候，看了一眼窗外，楼下就是一条大马路。\n\n我忍不住想起了那段荒诞的往事，想起曾经那个仅仅是因为终于自己过了一次马路而感慨得大哭的孩子，心里顿时豁然开朗。我想，这个时候没有人能帮你，也许以后你还会遇到更多只能自己过的马路，所以你必须写完它。\n\n后来我写完的时候，天都亮了。那篇文章，就是《生活的样子》，它是《一生中落的雪，我们不能全部看见》的初稿。后来通过这篇文章，我非常幸运地被一些人知道，后来有出版社说要找我出书，我也因此有机会去自己最感兴趣的地方实习。\n\n回到许多年前，如果我没有多问护士姐姐一句，然后把那句话深刻地记在心里，没有念念不忘地无数次去直面一条对我来说仿佛没有尽头的马路，我想在那个夜晚，我一定还会习惯性地懦弱，放弃完成那篇稿子，那么我现在可能拥有完全不一样的生活轨迹。\n\n人不会太孤单，但许多路，你可能需要自己走。但是没关系，因为你是你坚强的后盾。\n\n---\n","tags":["小小说","转载","后盾","恐惧","故事"],"categories":["转载","学习"]},{"title":"再哭一点点 | 琦君","slug":"再哭一点点  琦君","url":"/2024/11/25/dba14e18fae5/","content":"\n妹妹从美国加州打电话来，悲泣着告知，她久病的老伴走了。她勉强忍住呜咽说：“他走得很安详，没有一点痛苦，我服侍他这些年，也安心了。姐，这就是人生啊！”我捏着话筒，只颤声地说：“你要多多保重，路途遥远，我为风湿所苦，无法去陪伴你。”第二天，我很不放心地打电话去问她情况。她平静地说：“一切都安排好了。孩子们都已经回到我身边，倒是觉得家里比以前热闹些。我已经想开了，姐姐千万不要为我挂心。”\n从那天开始，抢劫杀人放火的念头，我每天都有的。\n<!--more--> \n\n她转以轻松的语调继续说：“我在忙着照顾两岁的孙儿，他真是可爱又调皮，他妈妈打了他两下屁股，他就坐在地上一直哭，不肯起来。我搂着他说：‘宝宝不要哭嘛，你哭得奶奶好心烦。’他抹着鼻涕眼泪说：‘哦，我不想哭，但是我忍不住呀，奶奶，让我再哭一点点好吗？’我听得好心酸，想想我和老伴相依相守这一辈子，如今他先走了。我生怕小辈们不放心，不得不忍住眼泪，但我也真想再哭一点点啊！”\n\n我默默地听着，止不住泪水涔涔而下。想起妹妹幼年时，胖嘟嘟的，穿一身红花布衫裤，人见人爱。父亲病危时，全家人心情慌乱，没好好照顾她，她只好一个人在院子里寂寞地玩皮球。看见我这个比她大十六岁的姐姐走近她时，马上张开双臂喊：“姐姐，抱抱。”父亲逝世的那一刻，母亲抱她到床边，她哭着喊：“爸爸，爸爸为什么不理我？我要吃爸爸的奶油饼干。”家人为她脱去红花衫裤，换上素服，她又哭闹着：“我要穿红花衫裤，爸爸说我好漂亮。”\n\n岁月已逝去半个多世纪，穿红花衫裤的胖女娃，如今已是拥抱孙儿的祖母了。\n\n想起悠悠往事，我也怎忍得住不再哭一点点呢？\n","tags":["小小说","转载","故事","死亡","往事"],"categories":["转载","学习"]},{"title":"逆火效应（the backfire effect）","slug":"逆火效应（the backfire effect）","url":"/2024/11/24/7f16431d9e9b/","content":"\n逆火效应（the backfire effect）是心理学领域的一个重要概念，它揭示了人在面对与自身信念相悖的信息时的一种非理性反应机制。简单来说，逆火效应是指当一个错误的信息被更正后，如果更正的信息与人原本的看法相违背，它反而会加深人们对这条（原本）错误的信息的信任。这种现象不仅限于个人层面，也在群体中广泛存在，尤其是在社交媒体和网络论坛上。\n<!--more--> \n\n### 逆火效应的起源与发展\n\n逆火效应的概念最早由美国记者大卫·麦克雷尼（David McRaney）在2011年提出。麦克雷尼通过观察发现，当个体面临公共舆论的指责时，越是试图辩解，越是摆出事实和逻辑，反而越容易引发对方的进一步否认，甚至攻击。这一发现揭示了人类在处理与自身信念相冲突的信息时的一种特殊心理机制。\n\n### 逆火效应的心理学解释\n\n#### 动机性推理\n\n动机性推理（Motivated Reasoning）是解释逆火效应的重要理论之一。该理论指出，人们倾向于防御性地处理和回应信息，即倾向于接受和寻找支持自己信念的信息，而忽视、质疑或反驳与自己信念相悖的信息。当人们遇到挑战自己信念的信息时，会产生认知失调，即心理上的不适感，为了缓解这种不适感，人们会选择忽略或反驳这些信息，从而强化了原有的信念。\n\n#### 心理抗拒\n\n心理抗拒理论也是解释逆火效应的关键理论之一。当个体感到自己的自主权或面子受到威胁时，会产生逆反或抗拒心理，表现为更加相信被限制的观点或更多地采取被限制的行为。在辟谣或说服的过程中，如果信息传递方式不当，也可能触发个体的心理抗拒，进而导致逆火效应的发生。\n\n#### 事实幻觉与动机误解\n\n事实幻觉（Illusory Truth Effect）是指人们容易将重复接触的信息视为真实，即使最初知道这些信息是错误的。随着时间的推移，人们可能会忘记信息的真实来源，而只记得信息本身，从而将错误的信息误认为是真实的。动机误解则是指，当人们接触到辟谣信息时，可能会误认为辟谣者有隐藏的动机，从而更加相信谣言。\n\n### 逆火效应的实际案例\n\n逆火效应在现实生活中有着广泛的应用场景。例如，在政治领域，当某个政治谣言被揭穿后，支持该谣言的群体成员可能会更加坚定地相信谣言，即使有确凿的证据表明这是错误的。另一个典型的例子是在健康领域，关于疫苗的错误信息即便被科学界多次澄清，仍然有一部分人群坚持认为疫苗有害。\n\n### 应对逆火效应的方法\n\n尽管逆火效应的存在使得改变他人的错误观点变得异常困难，但仍有一些策略可以尝试减少其负面影响。首先，提供科学证据和权威信息，使用清晰、简洁的语言表达，有助于提高信息的可信度。其次，采用温和而非对抗的方式交流，避免让对方感到被攻击或威胁，可以降低对方的心理抗拒。最后，利用社会规范和社会身份的提示，鼓励人们效仿群体行为，也有助于接受新的信息。\n\n### 结论\n\n逆火效应是一个复杂的社会心理现象，它提醒我们在传递信息尤其是纠正错误信息时需要谨慎行事。理解逆火效应背后的机制，有助于我们在日常生活和工作中更有效地沟通，减少误解和冲突，促进社会和谐。\n","tags":["心理","效应","逆火","抗拒","机制"],"categories":["笔记","学习"]},{"title":"姐姐 | 张嘉佳","slug":"姐姐-张嘉佳","url":"/2024/11/23/b27ff24db9c9/","content":"\n1  \n到了大学，才发现世界上居然有超过五百块的衣服。大学毕业，才发现世界上居然有标牌子的内裤。  \n我在初中的时候，自己偷偷买了条二十块的短裤，结果被全家人“双规”。  \n曾经以为，真维斯什么的就是名牌啊，非常牛逼。突然逛街发现阿迪、耐克，大惊失色：这是金丝做的吗？  \n从那天开始，抢劫杀人放火的念头，我每天都有的。\n<!--more-->  \n\n一切敌不过时光。  \n工作之后，始终坚持认为，女人，就应该有好的化妆品，好的服饰，花再多的钱也应该。  \n因此我依旧穿不超过五百块的衣服、没有牌子的内裤，希望能赚到钱给女人买最好的化妆品，最好的服饰。  \n后来发现，女人找得到好化妆品，找得到好衣服，就是找不到好男人。  \n而我赚了钱也没人可以花。  \n赚到钱了，就慢慢开始不是好男人。  \n好男人，大多买不起最好的化妆品，最好的服饰。  \n朋友看不起身边的女人，挑三拣四。  \n我说：“你又不是一条好狗，凭什么要吃一块好肉？”  \n朋友：“男人不是狗，女人也不是肉。”  \n我说：“女人的确不是肉，但你真的是一条狗。”  \n朋友：“为什么？”  \n我说：“我怎么知道，我随便侮辱你。”  \n后来朋友结婚了。  \n我送Gucci（意大利时装品牌）给弟妹。  \nGucci属于弟妹，那满阳台晾晒的衣服、裤子、毛巾、床单、拖把，也属于弟妹。  \n我和朋友说：“以后弟妹要什么，尽量买给她。就算她不要，偷偷买给她。”  \n朋友问：“为什么？”  \n我说：“因为你的阳台晒满衣服、裤子、毛巾、床单、拖把。她消耗在阳台上的每一分钟青春，你都要补偿给她。”  \n朋友半年后离婚。喝醉后，他趴在桌上嘀咕：“怎么就离婚了？”  \n我说：“有结才有离，谁让你结的？”  \n朋友：“是不是以前我们都搞错了？”  \n我说：“嗯，应该是。”  \n男人不是狗，女人也不是肉。  \n生活除了Gucci，以及满阳台的衣服、裤子、毛巾、床单、拖把，还有另外重要的东西。  \n什么东西？  \n好多啊。比如斗地主、扎金花、吃消夜什么的。\n\n2  \n在电视栏目工作的时候，有个女编导。  \n我问她：“男人有一千万，给你一百万。或者男人有十万，给你十万，哪个更重要？”  \n女编导说：“一百万。”  \n我说：“难道全部还不如十分之一？”  \n女编导点头。  \n第二天，女编导突然急忙来找我，说：“我昨天想了一夜，觉得十万重要。”  \n我好奇：“你真的想了一夜？”  \n她点头：“嗯。”  \n如果你真的想了一夜，说明你有太多的心事。  \n既然你有心事，又何必再去想这个问题。  \n无论一百万还是十万，不如自己挣来的一万。  \n有一百万，你就是一块肉。  \n有十万，你就吃不到肉。  \n有一万，你就不用再去想一夜。\n\n3  \n有关男女的问题，很小的时候，我问过姐姐。  \n我：“姐姐，什么叫淫荡？”  \n姐姐：“……热情奔放，活泼开朗。”  \n我：“姐姐你真淫荡。”  \n“啪。”我的左脸被抽肿。  \n我：“姐姐，什么叫下贱？”  \n姐姐：“……就是谦恭有礼，勤劳节约。”  \n我：“姐姐你真下贱。”  \n“啪。”我的右脸被抽肿。  \n我：“姐姐，什么叫爱情？”  \n姐姐：“……就是淫荡加下贱。”  \n我：“姐姐你一点儿也不爱情。”  \n过了半天，姐姐“嗯”了一声。  \n过了十年，我才明白，为什么泪水突然在她的眼眶里打转。\n\n4  \n十年之后。  \n我坐在写字桌前，泪水在眼眶里打转。精神恍惚，脑海空白，痛到不能呼吸。  \n姐姐过来，鼓励我：“小伙子把胸膛挺起来。”  \n我：“我们都没有胸，挺个屁。”  \n姐姐出奇地没有愤怒，一甩头发说：“帮我下碗面条去，人一忙就没空胡思乱想。”  \n我垂头丧气：“吃什么面，用舌头舔舔牙床好了。”  \n“啪啪。”我被连抽两个耳光。  \n“好了好了，我去下面我去下面。”  \n忙活一会儿，把面递给她。姐姐笑嘻嘻地端着面，看着我。  \n她吃了几口，突然回到自己房间。  \n三年之后，我看到她的日记。  \n“弟弟下的面里，连盐都没有加，我想，如果不是非常非常难过，也就不会做出这么难吃的面。我也很难过。”  \n我突然嘴角有点儿咸。  \n我想，如果这滴眼泪穿过时光，回到三年前，回到那个碗里，姐姐一定不觉得面很淡，那么她就不会难过。\n\n5  \n“抓小偷啊！”街头传来凄厉的尖叫。  \n我跟姐姐互相推诿。  \n“弟弟你上！你懂不懂五讲四美？”  \n“姐姐你上！你懂不懂三从四德？”  \n“推脱什么，抓小偷不是请客吃饭，上！”  \n“好，上！”  \n两个人迅速往前冲。冲到一半，我往左边路口拐，姐姐往右边路口拐。  \n两个人躲在巷子口大眼瞪小眼。小偷从两人之间狂奔而过。  \n呼，差点儿被撞到。两个人同时拍拍胸口。  \n这时紧跟小偷后面，狂奔过去另一个人。  \n我们一看……是老妈。  \n老妈一边追一边喊：“抓小偷啊！”  \n两个人拼死抓住了老妈，没抓到小偷……回家之后，一人赔给老妈五百块。  \n第二天醒来，姐姐在枕头底下发现了五百块。  \n我在枕头底下发现了五百块，闹钟底下发现了五百块。  \n我一直搞不清楚，为什么放走一个小偷，我凭空赚了五百块。  \n等到学会四则混合运算之后，我终于计算明白。  \n很久之后，我想，如果我还有机会把五百块放回姐姐枕头底下，那么即使小偷手里有刀，我也会冲上去的。  \n嗯，是这样。\n\n6  \n小时候家里只有一辆自行车。28吋大杠永久。  \n爸爸说生日那天给我骑。  \n我仰天大笑：“哈哈哈哈，爸爸你终于不爱姐姐只爱我了。”  \n爸爸说：“你姐姐早就骑过了。”  \n过了几年，姐姐有了一辆自行车。每天上学都是她骑车带我。  \n我：“姐姐我骑车带你吧。”  \n姐姐：“滚。”  \n我：“妈的，老子力气太多了用不完。”  \n姐姐：“滚。”  \n得到这样的回复，我很生气，就在车子后面滚来滚去。  \n“啊！”“砰！”两个人从小桥上摔下去了。  \n姐姐：“呜呜呜呜，我以后再也不带你了。”  \n我：“呜呜呜呜，你骑车水平跟阿黄一样。”  \n姐姐：“阿黄是谁？”  \n我：“阿黄是舅舅家养的狗。”  \n姐姐：“你是浑蛋。”  \n我：“你是母浑蛋。”  \n就如此吵了很久，直接导致上学迟到。  \n又过了几年，我们去大城市的舅舅家玩。  \n姐姐又骑车带我。有人喊，下车。哇，是交警耶。  \n我：“警察叔叔你抓她，是她骑车带我的，我是小孩子你不能抓。”  \n姐姐：“警察哥哥你抓他，是他要坐我车的，我是中学生你不能抓。”  \n警察一身冷汗。  \n我：“警察叔叔你抓她，我不认识她。”  \n姐姐：“警察哥哥你抓他，他是我在路边拣的。”  \n我：“拣个鬼，你要不要脸。”  \n姐姐：“要个魂，马上要罚款了，还要什么脸。”  \n警察：“你们走吧……以后不要骑车带人了。”  \n姐姐终于要去外地上大学了，把那辆自行车留给了我。我很开心。  \n一晚上没睡着。  \n我们全家送姐姐。  \n姐姐上了火车。  \n我突然眼泪哗啦啦流，一边流还一边追火车。  \n姐姐我把车子还给你，你不要走啦。  \n姐姐隔着车玻璃喊。  \n我听不见，但是可以从她的口型认出来：  \n不要哭。  \n我拼命追，用手背抹眼泪，拼命喊：“狗才哭，我没有哭！”  \n从那个时候开始，我最害怕听到火车的汽笛。  \n听到汽笛，就代表要分离。  \n送走姐姐之后，我骑车去上学，被很多很多同学笑话。  \n因为那是一辆女式自行车。  \n大家说我是人妖，说我娘娘腔。  \n我依旧骑，因为感觉姐姐就在自己身边。  \n到了现在，我走到储藏间，看到这辆自行车，还是会不停掉眼泪，小声说，掉你大爷，掉你大爷。\n\n7  \n1988年，舅舅送给我一个从未见识过的东西，邮票年册。  \n我很愤怒：“姐姐，舅舅太小气了，送一堆纸片给我。”  \n姐姐：“那你十块钱卖给我。”  \n我：“太狡诈了！你当我白痴哪，这堆纸片后面写着定价，一百九十八。”  \n姐姐：“纸片越来越不值钱，你现在不卖，明年就只值一块。”  \n我：“为什么？”  \n姐姐：“你没看到这里写着：保值年册，收藏极品。什么叫保值？就是越来越不值钱。卖不卖？”  \n我：“……二十块。”  \n姐姐：“成交。”  \n于是每年的邮票年册，我都以二十块的价格卖给姐姐。  \n一直卖到1992年，四本一共八十块。由于压岁钱都要上缴，所以这八十块成了我无比珍贵的私房钱。而且从这一年起，舅舅不再送了，小气鬼。  \n当年姐姐去外地上大学。  \n第二天她就要离去。我在床上滚了一夜，十六张五块钱，你一张，我一张，数了一夜。  \n一直在想：她去外地，会不会被人欺负？哎呀，以前她被人欺负，都是给我两毛钱，让我骂人家的。  \n那她去了那么远的地方，一定要带钱。  \n嗯，给她十块。可以请人骂……骂五十次。  \n万一被人打怎么办？她上次被婶婶打，她说给五毛钱，我都不愿意帮她打，外面人肯定价格更高！  \n打手请一次算一块好了，给她二十。  \n我心疼地看着钱被分成了两沓，而且她那沓慢慢比我这沓还高。  \n算着算着我睡着了。  \n最后我塞在姐姐包里的，是八十块。  \n送走姐姐那个瘟神，我人财两空，回到家里，忽然非常沮丧，就躲进被子睡觉。  \n在被子里，我发现了四本年册。  \n每本年册里，都夹着二十块。  \n我躲在被子里，一边哭，一边骂，姐姐和舅舅一样小气，一本只夹二十块，人都走了，起码夹五十块对不对？  \n到了今天，这些夹着二十块的年册，整四本，还放在我的书架上。  \n一天我擦擦灰尘，突然翻到1988年的那本，封背有套金的小字，写着定价一百九十八。  \n“那你十块钱卖给我。”  \n“太狡诈了！你当我白痴哪，这堆纸片后面写着定价，一百九十八。”  \n“纸片越来越不值钱，你现在不卖，明年就只值一块。”  \n“为什么？”  \n“你没看到这里写着：保值年册，收藏极品。什么叫保值？就是越来越不值钱。卖不卖？”  \n眼泪滴滴答答，把一百九十八，变得那么模糊。\n\n8  \n姐姐：“坏人才抽烟。”  \n我：“那舅舅是坏人。”  \n姐姐：“做到教授再抽烟，就是好人。”  \n我：“你有没有逻辑。你会算log函数，你懂风雅颂，你昨天把黑格尔说成格外黑，你是逻辑大王。”  \n吵了好几天，姐姐回大学了。  \n我在抽屉里找到报纸包好的一条香烟，里面是一条中华。  \n姐姐写着纸条：如果一定要抽，那也抽好一点儿的，至少对身体伤害少一点儿。  \n我至今还记得，那是一张《扬子晚报》，1997年5月22日。  \n后来我遇到了一个姑娘叫姜微。  \n姜微：“你喜欢抽什么烟？”  \n我：“我喜欢抽好一点儿的。”  \n姜微：“为什么？”  \n我：“对身体伤害少一点儿。”  \n寒假结束之后，她带了一包烟给我。一包中华。里面只有十一根烟。四根中华，四根玉溪，三根苏烟。  \n总比没有好。  \n我：“你哪里来的烟？”  \n姜微：“过年家里给亲戚发烟，我偷偷一根根收集起来的。”  \n我：“寒假二十天，你只收集到十一根？”  \n姜微：“还有七根，被我爸爸发现没收了。”  \n后来姜微消失了。《扬子晚报》在我的书架上。那张《扬子晚报》里，我夹着一个中华香烟的烟壳。  \n只有这两个女人，以为抽好一点儿的烟，会对身体的伤害少一点儿。  \n突然听到winamp（一种音乐播放器）里在放《电台情歌》。  \n一个美丽的女子要伸手熄灭天上的月亮，一个哭泣的女子牵挂不曾搭起的桥梁，自此一枕黄粱，一时荒凉，疼辄不能自已，掌纹折断。  \n这里是无所不痛的旋律。  \n姐姐再也不会痛，姜微不知道在哪里。希望她比我快乐。并且永远快乐。\n\n9  \n姐姐教我打字花了半年的时间。打字课程，1998年8月27日开始教授，9月1日她回大学，自动转为函授。  \n我：“A后面不是B吗，为什么排的是S？B后面不是C吗，为什么排的是N？”  \n姐姐：“Christopher（打字机之父）发明的，跟我没有关系。”  \n我：“字母这么乱伦，姨妈和叔叔凑在一起，它们家谱和希腊神话一个教养。”  \n姐姐：“你他妈的学不学？”  \n我：“字母太乱伦了，玷污我的视线！”  \n姐姐：“让你掌握键盘的顺序，和乱伦有什么关系？”  \n我：“己所不欲，勿施于人，要是我摸你胸你一定用刀杀了我。”  \n“啪啪”。我左脸和右脸全部肿了。  \n姐姐：“学会打字对你有好处的，可以泡妞。”  \n我：“泡什么妞，我不如把钱省下来买三级片。”  \n姐姐：“你看你看，这叫作QQ，可以让远方的MM脱胸罩。”  \n我：“是黛安芬的吗？”  \n姐姐：“你学会了不就可以自己问了吗？”  \n于是姐姐帮我申请了一个QQ号，然后两个人搜索各地的MM。在姐姐指导下，我加了一个北京MM，ID是无花果。  \n我有了点儿兴趣。  \n发了句话：Girl，fuckfuck，哈哈。  \n一点儿反应也没有。  \n我又发了句话：Dogsun，pleasefuck！  \n一点儿反应也没有。  \n我发火了，一下发了三句话：MBD，MBD，MBD。  \n姐姐发火了，说：人家头像是灰色的，说明不在线。  \n不在线，还Q什么，Q他妈蛋。  \n我立刻失去兴趣。  \n姐姐诱惑我，如果学会打字，就可以用流畅的语言勾引她。这被我断然拒绝，正直的青年，一定和我一样会拒绝的。  \n这些乱伦的字母，不是好东西。  \n1998年9月1日，姐姐回大学，把电脑带回去了。  \n我唯一遗憾的是，《仙剑奇侠传》没有通关，月如刚刚死在镇妖塔。  \n但姐姐不会这么小气吧？我就开始翻姐姐的房间。  \n我在她房间翻到的东西有：席绢的《交错时空的爱恋》，沈亚、于晴全集……这是什么玩意儿？星座是什么玩意儿？把所有东西摔出来，箱子底下是一张纸制键盘。  \n键盘上有一张字条：我知道你会翻到这里，麻烦你学习一下字母的顺序。  \n我大惊失色，全世界的姐姐都这么狡猾吗？  \n结果我就在纸质的键盘和电话里督促的声音中，过了一个学期。  \n我：“A后面为什么是S，而不是B？”  \n姐姐：“A后面是S，B后面是N。”  \n我：“复杂得要死。”  \n整整半年，我依旧不能理解字母为何如此乱伦。乱伦的东西，如我般正直，都不会学习的。  \n1999年2月7日深夜11点47分。  \n我依然等在火车站。  \n因为姐姐说她那一分钟回到家。  \n结果等到1999年2月8日4点30分。  \n姐姐和一辆轿车拼命，瞬间损失了所有HP（生命值）。  \n1999年2月8日17点48分，我赶到了北京。  \n房间一片雪白。  \n使者的翅膀雪白。天堂的空间雪白。病房的床单雪白。姐姐的脸色雪白。  \n她全身插满管子。  \n脸上盖着透明的呼吸器。  \n我快活地奔过去：“哈哈，不能动了吧？”  \n她脸上没有一丝表情，紧闭双眼，为什么我看到她仿佛在微笑？  \n要么我眼花了，要么她又偷了我写给隔壁班花的情书。  \n旁边一个穿白大褂的人说：“她不能说话，希望有力气写字给你。”  \n可是，姐姐抓不住笔。  \n这货，从来就没有过力气。  \n坐她自行车她没有力气上坡，和她打架她没有力气还手，争电视节目她没有力气抢遥控器。  \n她不写字，我就不会知道她要说什么。我想，她应该有力气写字的呀！  \n她帮我在考卷上冒充妈妈签字。她帮我在《过好寒假》上写作文。  \n她帮我在作业本子上写上名字。  \n我呆呆地看着她，怎么突然就没有力气了呢？  \n我去抓住她的手。  \n她用手指在我掌心戳了几下。  \n1，2，3，4，5，6。  \n一共六下。  \n她戳我六下干什么？  \n六六大顺？她祝我早日发财？  \n六月飞雪？她有着千古奇冤？  \n六神无主？她又被男人甩了？  \n六道轮回？她想看圣斗士冥王篇？  \n我拼命猜测的时候，突然冲进来一群人，把她推走了。  \n我独自待在这病房里，看着一切雪白，努力戳着自己的手掌。  \n1，2，3，4，5，6。  \n一共六下。  \n上面戳一下，右边戳一下，上面再戳一下，下面戳一下，上面再戳一下，又戳一下。  \n我拼命回忆着有关键盘的记忆。  \n一张纸质的键盘，看了半年，也开始浮现在脑子里。  \nA后面是S，B后面是N，C后面是V……我一下一下地在这张键盘里敲击过去。  \n1，2，3，4，5，6。  \n键盘慢慢清晰起来。  \n我终于明白了这六下分别戳在什么地方。  \nILOVEU。  \n眼泪夺眶而出，一滴滴滚下来，滴下来，扑下来。  \n1999年2月8日19点10分，我终于掌握了键盘的用法，学会了打字。  \n并且刻骨铭心，永不忘记。  \nILOVEU。  \n我缩在走廊里面。  \n在很久之后，我才有勇气把姐姐留下的电脑装起来。  \n装起来之后，又过了很久，我才打开了那个QQ号码。  \n只有一个联系用户。  \n无花果。  \n虽然是灰色，据说是灰色，是因为不在线。  \n可这个头像是跳动的。  \n我双击它。  \n无花果说：  \n笨蛋，我是你老姐。  \n我哭得像一个孩子，可是无论多少泪水，永远不能把无花果变成彩色。  \n无花果永不在线。  \n如果还有明天，小孩子待在昨天，明天没有姐姐，姐姐在昨天用着Windows98。  \n到了今天，MSN退役，弄潮儿对着摄像头跳脱衣舞，我书房电脑的显示屏上，依旧挂着五位数的QQ，永远只有一个联系用户，并且头像灰色，永不在线，ID叫作无花果。  \n生育总是有一次阵痛。结果无数次阵痛。  \n相爱总是有一次分离。结果无数次分离。  \n四季总是有一次凋零。结果无数次凋零。  \n自转总是有一次日落。结果无数次日落。  \n然而无花果永远是灰色。  \n伤心欲笑，痛出望外，泪无葬身之地，哀莫过大于心不死。\n\n---\n\n书《从你的全世界路过》\n","tags":["小小说","转载","故事","姐姐","张嘉佳"],"categories":["转载","学习"]},{"title":"青春的纸条 | 余显斌","slug":"青春的纸条-余显斌","url":"/2024/11/22/240818cb3e52/","content":"![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/image.png)\n那时，我还在读初三，正是情感懵懂的时候。同桌是个女生，很美，一笑，让人心中一片明亮，好像面对一片春草，一片山花。\n\n有一天上午第四节课，是班主任王老师的课。他带我们语文，戴着一副眼镜，古诗词基本功很好，随便一首诗词，分析得鸟语花香春光灿烂，让我们沉浸其中，难以自拔。\n\n可是，他又有一个缺点。他把班上女生男生看得忒紧，不许走得太近，不许有恋爱迹象，用他的话说：“豆子大的娃娃，好好读书。”\n\n那天上课时，他正在滔滔不绝地讲课，眼睛突然一斜，马上停下了，然后快步走到我面前，伸出手说：“拿出来！”我红了脸，悄悄把手中那张没来得及看的纸条揉成团，丢到地上，左顾右盼，假装不知道他说的是什么意思。他俯下身子，拾起那个纸团，严肃地对大家说：“这是吴晓蒙给周至的纸条。”吴晓蒙，是那个女生。周至，就是我。\n<!--more-->\n他转身问同学们：“我曾经说过，这样的纸条抓住该怎么办？”\n\n大家听了，异口同声地回答：“读！”\n\n他打开来看看，眉毛一挑，瞪大了眼。同学们都起哄道：“读，读。”他咳嗽一声，字正腔圆地读起来：“周至同学你好，你的英语那么棒，能教一下我吗？我特想考上重点高中。”\n\n他读完，大家都不说话了，望着我们俩。\n\n“不是我们想象的那么回事。”他叹了口气，“看来，是我想错了，把同学们的关系想得太复杂了。现在，我得向他们道歉。”\n\n他说完，真的向我们道歉了。接着，他向全班同学号召，向吴晓蒙和周至学习，一个桌子组成一个学习小组，互相帮助，共同进步。而且，他当场预言，吴晓蒙同学和周至同学有如此认真的学习态度，一定能考上重点高中。\n\n全班同学听了，都鼓起掌来。\n\n他笑着，把纸条随手装入衣兜，也跟着鼓起掌。\n\n我和吴晓蒙都红了脸，很不好意思地低着头。\n\n以后，我们班的同学整日挤在一起，叽叽喳喳地讨论着学习，如一群鸟儿。我，还有吴晓蒙，竟然成了大家效仿的对象。我们当然不甘落后，不只是我们成了大家的榜样，更因为，王老师在课堂上为我们打了保票，说我们一定能考上重点高中。\n\n那年，我们班考得出奇地好。我和吴晓蒙都如愿以偿，考上了重点高中。\n\n临走，王老师拿出那张纸条，悄悄还给了我。那张纸条上写：周至，我很喜欢你，你呢？\n\n---\n\n[青春的纸条 - 秋日 (qiuri.org)](https://old.qiuri.org/posts/3723517748/)\n\n‍\n","tags":["小小说","转载","故事","青春","纸条"],"categories":["转载","生活"]},{"title":"定情詩","slug":"定情詩","url":"/2024/11/21/27263f3f19ae/","content":"\n# 定情詩\n\n作者：[繁欽](https://zh.wikisource.org/wiki/Author:%E7%B9%81%E6%AC%BD)\n\n我出東門遊 邂逅承清塵  \n思君即幽房 侍寢執衣巾  \n時無桑中契 迫此路側人  \n我即媚君姿 君亦悅我顏\n<!--more-->\n何以致[拳拳](https://zh.wiktionary.org/wiki/%E6%8B%B3%E6%8B%B3) [綰](https://zh.wiktionary.org/wiki/%E7%B6%B0)臂雙金環  \n何以致殷勤 約指一雙銀  \n何以致區區 耳中雙明珠  \n何以致[叩叩](https://zh.wiktionary.org/wiki/%E5%8F%A9%E5%8F%A9) 香囊繫肘後  \n何以致[契闊](https://zh.wiktionary.org/wiki/%E5%A5%91%E9%97%8A) 繞腕雙[跳脫](https://zh.wiktionary.org/wiki/%E8%B7%B3%E8%84%AB)  \n何以結恩情 佩玉綴羅纓  \n何以結中心 素縷連雙針  \n何以結[相於](https://zh.wiktionary.org/wiki/%E7%9B%B8%E6%96%BC) 金薄畫[搔頭](https://zh.wiktionary.org/wiki/%E6%90%94%E9%A0%AD)  \n何以慰別離 耳後瑇瑁釵  \n何以答歡悅 紈素三條裾  \n何以結愁悲 白絹雙[中衣](https://zh.wiktionary.org/wiki/%E4%B8%AD%E8%A1%A3)    \n日[旰](https://zh.wiktionary.org/wiki/%E6%97%B0)兮不至 谷風吹我[襦](https://zh.wiktionary.org/wiki/%E8%A5%A6)  \n遠望無所見 涕泣起踟躕  \n與我期何所 乃期山南陽  \n日中兮不來 凱風吹我裳  \n[逍遙](https://zh.wiktionary.org/wiki/%E9%80%8D%E9%81%99)莫誰[覩](https://zh.wiktionary.org/wiki/%E8%A6%A9) 望君愁我腸  \n與我期何所 乃期西山側  \n日夕兮不來 [躑躅](https://zh.wiktionary.org/wiki/%E8%BA%91%E8%BA%85)長歎息  \n遠望凉風至 俯仰正衣服  \n與我期何所 乃期山北[岑](https://zh.wiktionary.org/wiki/%E5%B2%91)  \n日暮兮不來 淒風吹我[衿](https://zh.wiktionary.org/wiki/%E8%A1%BF)  \n望君不能坐 悲苦愁我心  \n愛身以何為 惜我華色時  \n中情既[欵欵](https://zh.wiktionary.org/wiki/%E6%AC%B5%E6%AC%B5) 然後剋密期  \n褰衣躡茂草 謂君不我欺  \n[厠](https://zh.wiktionary.org/wiki/%E5%8E%A0)此醜陋質 徙倚無所之  \n自傷失所欲 淚下如連絲\n\n---\n\n# 定情诗\n\n[【作者】繁钦](https://hanyu.baidu.com/s?wd=%E7%B9%81%E9%92%A6)【朝代】魏晋\n\n我出东门游，邂逅承清尘。  \n思君即幽房，侍寝执衣巾。  \n时无桑中契，迫此路侧人。  \n我既媚君姿，君亦悦我颜。  \n何以致拳拳？绾臂双金环。  \n何以道殷勤？约指一双银。  \n何以致区区？耳中双明珠。  \n何以致叩叩？香囊系肘后。  \n何以致契阔？绕腕双跳脱。  \n何以结恩情？美玉缀罗缨。  \n何以结中心？素缕连双针。  \n何以结相于？金薄画搔头。  \n何以慰别离？耳后玳瑁钗。  \n何以答欢忻？纨素三条裙。  \n何以结愁悲？白绢双中衣。  \n与我期何所？乃期东山隅。  \n日旰兮不来，谷风吹我襦。  \n远望无所见，涕泣起踟蹰。  \n与我期何所？乃期山南阳。  \n日中兮不来，飘风吹我裳。  \n逍遥莫谁睹，望君愁我肠。  \n与我期何所？乃期西山侧。  \n日夕兮不来，踯躅长叹息。  \n远望凉风至，俯仰正衣服。  \n与我期何所？乃期山北岑。  \n日暮兮不来，凄风吹我襟。  \n望君不能坐，悲苦愁我心。  \n爱身以何为，惜我华色时。  \n中情既款款，然后克密期。  \n褰衣蹑茂草，谓君不我欺。  \n厕此丑陋质，徙倚无所之。  \n自伤失所欲，泪下如连丝。\n\n**注释**定情：在此诗中为镇定其情的意思。  \n承：感激，承蒙。  \n迫：接近，遭遇。  \n媚：爱。  \n拳拳：真挚的感情。绾（wǎn）：绕。  \n殷勤：内心深处无以言说之情。约指：戒指。  \n区区：细致的情意。  \n叩叩：相互忠诚。  \n契阔：别后的思念。跳脱：亦称条脱，即手镯。  \n中心：即中情。素缕：白线。针：真的谐音。  \n相于：相爱。金薄：金箔。搔头：一本作“幧（qiāo）头”，即男子束发的绡（xiāo）头。  \n欢忻：即欢欣。纨素：素白色的丝绢。三条裙：指镶有三道花边的裙子。条：即绦（tāo），丝带，可以用来做衣裙的装饰边。  \n白绢：一作“白发”。  \n期：约会。隅：角落。  \n日旰（gàn）：日落时。谷风：山谷里的风。  \n山南阳：山的朝阳处。  \n逍遥：茫然徘徊状。莫谁睹：看不到任何人。  \n爱身：爱我。惜：爱也。华色时：正当年华，容色美好。  \n款款：形容感情的真挚和热烈。克密期：定下幽会的日期。  \n厕：同“侧”。丑陋质：失恋女子的自称。\n","tags":["特效","情诗","转载","繁钦","古诗"],"categories":["转载","生活"]},{"title":"Hexo博客Next主题-首页文章摘要添加边框","slug":"PicGo图床设置--以github仓库作为存储位置","url":"/2024/11/21/590f0df602e2/","content":"\n## Github中新建仓库存储图片\n例如新建仓库名为tuchuang\n\n![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121111130.png)\n<!--more-->\n\n## Token\n打开你的Github，点击`Settings`\n\n![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121111832.png)\n\n选择`developer settings`![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121111724.png)\n\n![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121113009.png)\n\n选择`Tokens Classic`, 创建新的Token\n\n![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121113021.png)\n\n填写`Note`，`Expiration`时间按需要选，选中`repo`，点击最下面的绿色按钮`Generate Token`生成\n\n![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121120152.png)\n\n复制粘贴生成的Token到PicGo中\n\n## PicGo设置\n如下所示，图床配置名随便，设定仓库名为GitHub名+仓库名，根据仓库中显示的分支名称设定我这里用的是main（见上面图显示的，master不行）\n\n![](https://cdn.jsdelivr.net/gh/leafminer/tuchuang@master/20241121112203.png)\n\n设定自定义域名\n\nhttps://cdn.jsdelivr.net/gh/leafminer/tuchuang@master\n\n## 参考\n1. [https://blog.csdn.net/weixin_44783934/article/details/107798324](https://blog.csdn.net/weixin_44783934/article/details/107798324)\n\n\n\n\n\n","tags":["设置","图床","GitHub","PicGo"],"categories":["原创","其他"]},{"title":"Hexo博客Next主题-首页文章摘要添加边框","slug":"Hexo博客Next主题-首页文章摘要添加边框","url":"/2024/11/20/856d2cdb0f6f/","content":"\n​`\\hexo\\node_modules\\hexo-theme-next\\source\\css\\_common\\components\\post\\index.styl`​，在该文件中搜索`.post-block`​，修改如下:\n<!--more-->\n```yaml\n.use-motion {\n  if (hexo-config('motion.transition.post_block')) {\n    .post-block, {\n      padding: 25px;\n      -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, 0.5);\n      -moz-box-shadow: 0 0 5px rgba(202, 203, 204, 0.5);\n    } \n    .pagination, .comments {\n      visibility: hidden;\n    }\n  }\n```\n\n修改后显示效果如下：\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1732111588492-181c3fbd-b8e7-4544-abaf-1865a2d630d0.png)​\n","tags":["Hexo","边框","博客","首页","Next主题","美化"],"categories":["原创","其他"]},{"title":"Hexo博客Next主题-百度搜索-sitemap","slug":"Hexo博客Next主题-百度搜索-sitemap","url":"/2024/11/17/1217a8b0bd7f/","content":"\n登录[https://ziyuan.baidu.com/](https://ziyuan.baidu.com/)\n\n## 填写信息\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731834662088-782107f2-ddf2-4aaa-ae94-35d10158ec01.png)​\n<!--more-->\n## 文件验证\n\n下载验证文件\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731835416079-0f6e2682-aff9-4767-8573-bdc4f0d250fd.png)​\n\n\\_config.yaml文件配置修改\n\n```yaml\n# skip_render: \"mypage/**/*\"\n# 将会直接将 `source/mypage/index.html` 和 `source/mypage/code.js` 不做改动地输出到 'public' 目录\n# 你也可以用这种方法来跳过对指定文章文件的渲染\n# skip_render: \"_posts/test-post.md\"\n# 这将会忽略对 'test-post.md' 的渲染\nskip_render: \n  - README.md\n  - \"uploads/**/*\"\n  - package.json\n  - CNAME\n  - baidu_verify_codeva-Ee1RJ4ZVv9.html\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731834785230-f2b3d7f5-dde8-4aa2-84f2-f41e518376e7.png)​\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731834879561-3b5fed85-f29d-47d2-aafb-dd80827a0b30.png)​\n\n## Html标签验证\n\n\\_config.next.yaml文件配置修改\n\n```yaml\n# Baidu Webmaster tools verification.\n# See: https://ziyuan.baidu.com/site\nbaidu_site_verification: codeva-Ee1RJ4ZVv9\n```\n","tags":["百度","站图","Hexo","sitemap","Next"],"categories":["笔记","其他"]},{"title":"Github中自定义个人主页","slug":"Github中自定义个人主页","url":"/2024/11/16/ce7848fe48f6/","content":"\n## ![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731761417027-80f8993d-9548-4d53-94e2-0533efbe32d7.png)​\n\n在Github中设定一个账号与同名的repository即可在该仓库的`readme.md`​文件中自定义展示到主页的内容。\n<!--more-->\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731664630208-26ff787b-dccc-4aed-addf-d78197ea116b.png)​\n\n**leafminer/leafminer** is a ✨*special* ✨ repository that you can use to add a `README.md`​ to your GitHub profile. Make sure it’s public and initialize it with a **README** to get started.\n\n## 参考\n\n[自定义你的github主页 - 知乎](https://zhuanlan.zhihu.com/p/189249050)\n\n[GitHub教程-自定义个人页制作-云社区-华为云](https://bbs.huaweicloud.com/blogs/421825)\n","tags":["主页展示","Github","个人主页"],"categories":["笔记","其他"]},{"title":"用 vercel + Github 搭建 hexo 博客","slug":"用 vercel + Github 搭建 hexo 博客","url":"/2024/11/08/8eb747462c1d/","content":"\n[Vercel](https://vercel.com/) 提供了一个云平台，可以优化整个项目开发和部署体验，它有很强大的功能值得去探索，个人使用是免费的，提供了域名访问，使用方便快捷。在vercel上选择New Project，然后如果你是用Github账号登录的话，这边会显示你的所有Github仓库，选择github pages的仓库即可往github上push的任何更改，都会同步到vercel上。把 Hexo 文件放在 Github 上，每次更新文件都推送到 Github 上，由 Vercel 自动拉取构建。\n<!--more-->\n\n## 搭建前准备\n\n1. 注册Github账号\n2. 注册Vercel账号，建议使用Github授权登录，方便后续部署。\n3. 本地安装hexo和node\n\n## 创建项目\n\nvercel 平台中选择hexo模版，创建新项目，也可以选git 仓库中已存在的项目。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731029999479-af39687f-7e21-499c-8e59-26d5e4091ed1.png)​\n\n## 后续使用\n\n在 GitHub 中将我们创建好的博客项目 clone 到本地。\n\n## 使用vercel部署hexo博客出现的问题解决\n\n通常来说只需要import导入github中的博客项目，然后在Framework Preset中选择“Hexo”，最后deploy部署即可。\n\n#### 问题一：“hexo:command not found”\n\n经过一通搜索后，大概猜到了是npm的问题，可以打开项目的Setting：\n\n将“Install Command”一栏打开，并输入“npm install”，保存后该问题解决。\n\n#### 问题二：“no such file or directory, open ‘/vercel/path0/package.json’”\n\n在github项目库中确实没有这个文件，于是手动将根目录下的package.json上传即可。\n\n#### 问题三：“The Output Directory “public” is empty”\n\n由于import的时候默认选择了Output Directory为public，但实际上github项目库中没有这个文件夹，因此也需要修改Setting，将”Output Directory“这一栏打开，内容为空，保存即可。\n\n## 参考\n\n1. [如何使用 vercel + hexo 搭建博客vercel: Vercel 提供了一个云平台，可以优化整个项目开发和部署 - 掘金](https://juejin.cn/post/6915246250933616648)\n2. [使用 Vercel 和 Github 部署 Hexo 安装以及使用教程 | EvanNotFound&apos;s Blog](https://ohevan.com/vercel-hexo-configuration.html)\n3. [yuxi-17-github-io.vercel.app](https://yuxi-17-github-io.vercel.app/2024/06/06/%E4%BD%BF%E7%94%A8vercel%E9%83%A8%E7%BD%B2hexo%E5%8D%9A%E5%AE%A2%E5%87%BA%E7%8E%B0%E7%9A%84%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/)\n","tags":["Github","Hexo","部署","vercel","搭建"],"categories":["笔记","其他"]},{"title":"快速高效地构建ML树——IQ-TREE安装和使用示例","slug":"快速高效地构建ML树——IQ-TREE安装和使用示例","url":"/2024/11/06/d4fa8f53fea0/","content":"\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731116365649-8f7d2b15-847e-420b-81e9-1d8a0ab96f53.png)​\n\n### IQ-TREE\n\nIQ-TREE是一款专为系统发育分析设计的软件工具，其核心功能涵盖系统发育树的推断、统计模型的选择以及结果的综合评估。在系统发育基因组学领域，该学科专注于从全基因组视角探索不同生物种类或个体间的进化联系及其历史背景。通过处理并对比海量的遗传信息，IQ-TREE能够构建出反映这些生物间演化路径的系统发育树。相较于同类软件如RAxML和PhyML，IQ-TREE展现出更为优越的表现力。此外，除了提供传统意义上的本地安装选项外，用户也可以选择访问其在线版本进行操作。\n<!--more-->\n\n[http://iqtree.cibiv.univie.ac.at/](http://iqtree.cibiv.univie.ac.at/)![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731118196330-48ec685b-e807-4905-9e91-77807b7fc142.png)​\n\n### 下载安装\n\n官网：[http://www.iqtree.org/](http://www.iqtree.org/) 点击最新版本`Download v2.3.6 for Windows`​ 下载。\n\n解压，并将`iqtree2`​根据文件位置添加到系统路径中。快捷键`Win+r`​输入`cmd`​，打开命令提示符，输入：\n\n```powershell\npath %path%;E:\\soft\\iqtree-2.3.6-Windows\\bin\niqtree2 -version\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731117517021-1c807c76-abe1-4cdb-9b70-266e6144046c.png)​\n\n输入`iqtree2 -version`​可以查看是否添加成功。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731117605573-c06d81fc-cbb5-4d44-a150-fb94dad4ceb8.png)​\n\n### 使用帮助\n\n通过`iqtree2 -h`​命令查看相关命令帮助，\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731117884624-89ad900f-5582-43fa-a095-6eb34ab579c0.png)​\n\n也可以看官网上的帮助文档。\n\n[http://www.iqtree.org/doc/](http://www.iqtree.org/doc/)### 使用示例\n\n准备好已经比对的序列文件，可以是以下这些格式：\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119661134-32d56b52-a93f-44df-8045-30e7bd44f90d.png)​\n\n#### 在线使用\n\n1. 导入比对的序列数据。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119632685-e31047bf-bd7c-420d-b840-099a2a4359bc.png)​\n\n2. 软件会自动选择最佳模型。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119808481-56cb3f96-9ab0-4701-9434-1336468afa4b.png)​\n\n3. 自举检验1000次，都是默认选项，不用动。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731119869446-9935865d-7903-4c78-89d9-8999eec91337.png)​\n\n4. IQTree的参数。\n\n对于包含许多短序列的数据集，作者建议使用较小的扰动强度（-pers）和较大的-numstop值。较小的扰动强度意味着算法在搜索过程中的随机性较小，而较大的-numstop值意味着算法会在达到某个阈值之前继续搜索，这有助于算法在短序列数据集中找到更好的解。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731120304585-7ffd691d-e194-4975-aba9-e1f6bf35d6f5.png)​\n\n5. 输入邮箱地址，点击提交。运行结束后结果会发送到邮箱。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731120470118-63f1fd1a-c4a3-4e27-b3fb-144bee6e877e.png)​\n\n保存提交后正在运行的链接，等结束后可以通过该链接下载结果文件。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731120567802-6438ba0e-1c3d-43ca-8ea0-2a427a9e0bb1.png)​\n\n**结果文件说明**：\n\n|**Suffix**|**Explanation**|\n| ------| ------------------------------------------------------------------------------------------|\n|​`.iqtree`​|运行的完整结果，是主报告文件。|\n|​`.log`​|运行日志|\n|​`.treefile`​|最大似然树以NEWICK格式表示，可以使用树形查看器程序进行可视化。|\n|​`.svg`​|SVG格式的树图文件。|\n|​`.pdf`​|pdf格式的树图文件。|\n|​`.contree`​|带有分配的分支支持的`Consensus tree`​，其中分支长度基于原始比对进行了优化；如果选择了`Ultrafast Bootstrap`​，则会打印此树。|\n|​`.ckp.gz`​|检查点文件；如果进程因RAM/CPU限制而停止，则会包含此文件。|\n\n---\n\n#### 本地使用\n\n1. 打开命令提示符：\n\n* 点击Windows屏幕左下角的“开始”菜单。在搜索框中输入“cmd”并按回车键，打开命令提示符窗口。\n* 或者快捷键`Win+r`​输入`cmd`​，打开命令提示符。\n\n2. 命令提示符窗口中输入运行示例：\n\n```powershell\niqtree2 -s E:\\Desktop\\果蝇心管自噬\\2024分析作图原始数据\\20241010_DHC_Atgs_pro_align.fas -m MFP -B 1000 -T AUTO \n```\n\n​`iqtree2 -s E:\\Desktop\\果蝇心管自噬\\2024分析作图原始数据\\20241010_DHC_Atgs_pro_align.fas -m MFP -B 1000 -T AUTO -o outgroup_name`​\n\n* ​`-s`​：比对好的fas格式文件\n* ​`-m MFP`​：自动选择测试的最佳模型并建树\n* ​`-B 1000`​：bootstrap检验次数\n* ​`-o outgroup_name`​：选择外群\n\n3. 等待运行结束，生成的文件在比对文件夹中，比如`E:\\Desktop\\果蝇心管自噬\\2024分析作图原始数据\\`​\n\n生成的文件：\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1731125349444-e313d484-78ab-4c50-ae12-4dc9fe02fc5b.png)​\n\n### 参考\n\n1. [【软件速览】IQ-TREE：构建ML树](https://mp.weixin.qq.com/s?src=11&timestamp=1731115564&ver=5617&signature=z3eacrzkvdN4ElPrCggzb2FjTUNCZTKerh0KI1p-BOp05ZkSiUdB3bNZw7IoDmVyfZzCnhMQGpgGeIgl9QQWUgPq-JOdO-FVUyj729-tz5U4RAvccPqRn1pLFZrrMjSD&new=1)\n2. [Web Server Tutorial](http://www.iqtree.org/doc/Web-Server-Tutorial)\n3. [Getting Started](http://www.iqtree.org/doc/Quickstart)\n","tags":["ML树","IQ-TREE","系统发育","发育树"],"categories":["原创","工作"]},{"title":"Hexo博客Next主题加入音乐播放器-Aplayer","slug":"Hexo博客Next主题加入音乐播放器-Aplayer","url":"/2024/11/05/b4e5a4c77d8e/","content":"\nAPlayer是一个功能丰富、支持多种媒体格式的HTML5音乐播放器，具有播放列表和歌词显示等实用功能。在Hexo中有可以使用的插件`hexo-tag-aplayer`​\n<!-- more -->\n\n## 安装插件\n\n插件网址：[MoePlayer/hexo-tag-aplayer: Embed aplayer in Hexo posts/pages](https://github.com/MoePlayer/hexo-tag-aplayer)\n\n```shell\nnpm install --save hexo-tag-aplayer\n```\n\n## 配置使用\n\n加入到侧边栏，在`\\node_modules\\hexo-theme-next\\layout_macro\\sidebar.njk`​文件中添加：\n\n```html\n<div class=\"aplayer aplayer-tag-marker meting-tag-marker aplayer-withlrc aplayer-withlist\" data-id=\"1534866348\" data-server=\"tencent\" data-type=\"playlist\" data-mutex=\"true\" data-preload=\"auto\" data-theme=\"#ad7a86\"></div> \n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730829307366-5dd68bc8-1e2a-41b6-b84c-5d6fe60246b7.png)​\n\n在Markdown文档中：\n\n```plain\n{% aplayer title author url [picture_url, narrow, autoplay, width:xxx, lrc:xxx] %}\n```\n\n### 设置APlayer音乐播放器的选项：\n\n* ​`title`​: 音乐的标题。\n* ​`author`​: 音乐的作者。\n* ​`url`​: 音乐文件的URL地址。\n* ​`picture_url`​: 可选参数，音乐封面图片的URL地址。\n* ​`narrow`​: 可选参数，如果设置，播放器将采用窄样式显示。\n* ​`autoplay`​: 可选参数，如果设置，音乐将在页面加载时自动播放。但请注意，移动浏览器不支持自动播放音乐。\n* ​`width:xxx`​: 可选参数，以`width:`​为前缀，后面跟播放器的宽度值（默认为100%）。\n* ​`lrc:xxx`​: 可选参数，以`lrc:`​为前缀，后面跟LRC歌词文件的URL地址。\n\n这些选项允许用户自定义APlayer音乐播放器的外观和行为，例如设置音乐标题、作者、文件链接、封面图片、是否自动播放、播放器宽度以及歌词文件链接等。\n\n当启用了“post asset folders”（后端资源文件夹）功能后，你可以轻松地将你的图片、音乐和LRC文件放入资源文件夹中，并且可以通过特定的方式引用它们。例如：\n\n```plain\n{% aplayer \"Caffeine\" \"Jeff Williams\" \"caffeine.mp3\" \"picture.jpg\" \"lrc:caffeine.txt\" %}\n```\n\n### 使用 `aplayerlrc`​ 标签来直接插入歌词文本在博客中：\n\n```plain\n{% aplayerlrc \"title\" \"author\" \"url\" \"autoplay\" %}\n[00:00.00]lrc here\n{% endaplayerlrc %}\n```\n\n### 播放列表\n\n```plain\n{% aplayerlist %}\n{\n    \"narrow\": false,                          // （可选）播放器袖珍风格\n    \"autoplay\": true,                         // （可选) 自动播放，移动端浏览器暂时不支持此功能\n    \"mode\": \"random\",                         // （可选）曲目循环类型，有 'random'（随机播放）, 'single' (单曲播放), 'circulation' (循环播放), 'order' (列表播放)， 默认：'circulation' \n    \"showlrc\": 3,                             // （可选）歌词显示配置项，可选项有：1,2,3\n    \"mutex\": true,                            // （可选）该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停\n    \"theme\": \"#e6d0b2\",\t                      // （可选）播放器风格色彩设置，默认：#b7daff\n    \"preload\": \"metadata\",                    // （可选）音乐文件预载入模式，可选项： 'none' 'metadata' 'auto', 默认: 'auto'\n    \"listmaxheight\": \"513px\",                 // (可选) 该播放列表的最大长度\n    \"music\": [\n        {\n            \"title\": \"CoCo\",\n            \"author\": \"Jeff Williams\",\n            \"url\": \"caffeine.mp3\",\n            \"pic\": \"caffeine.jpeg\",\n            \"lrc\": \"caffeine.txt\"\n        },\n        {\n            \"title\": \"アイロニ\",\n            \"author\": \"鹿乃\",\n            \"url\": \"irony.mp3\",\n            \"pic\": \"irony.jpg\"\n        }\n    ]\n}\n{% endaplayerlist %}\n```\n\n### 开启MetingJS\n\n[MetingJS](https://github.com/metowolf/MetingJS) 是基于[Meting API](https://github.com/metowolf/Meting) 的 APlayer 衍生播放器，引入 MetingJS 后，播放器将支持对于 QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐播放。\n\n使用 MetingJS，请在 Hexo 配置文件 `_config.yml`​ 中设置：\n\n```plain\naplayer:\n  meting: true\n```\n\n通过 `{% meting ...%}`​ 在文章中使用 MetingJS 播放器：\n\n```plain\n<!-- 简单示例 (id, server, type)  -->\n{% meting \"60198\" \"netease\" \"playlist\" %}\n\n<!-- 进阶示例 -->\n{% meting \"60198\" \"netease\" \"playlist\" \"autoplay\" \"mutex:false\" \"listmaxheight:340px\" \"preload:none\" \"theme:#ad7a86\"%}\n```\n\n有关 `{% meting %}`​ 的选项列表如下:\n\n|**选项**|**默认值**|**描述**|\n| ---------------| ------| -------------------------------------------------------------|\n|id|**必须值**|歌曲 id / 播放列表 id / 相册 id / 搜索关键字|\n|server|**必须值**|音乐平台:`netease`​,`tencent`​,`kugou`​,`xiami`​,`baidu`​|\n|type|**必须值**|​`song`​,`playlist`​,`album`​,`search`​,`artist`​|\n|fixed|​`false`​|开启固定模式|\n|mini|​`false`​|开启迷你模式|\n|loop|​`all`​|列表循环模式：`all`​,`one`​,`none`​|\n|order|​`list`​|列表播放模式：`list`​,`random`​|\n|volume|0.7|播放器音量|\n|lrctype|0|歌词格式类型|\n|listfolded|​`false`​|指定音乐播放列表是否折叠|\n|storagename|​`metingjs`​|LocalStorage 中存储播放器设定的键名|\n|autoplay|​`true`​|自动播放，移动端浏览器暂时不支持此功能|\n|mutex|​`true`​|该选项开启时，如果同页面有其他 aplayer 播放，该播放器会暂停|\n|listmaxheight|​`340px`​|播放列表的最大长度|\n|preload|​`auto`​|音乐文件预载入模式，可选项：`none`​,`metadata`​,`auto`​|\n|theme|​`#ad7a86`​|播放器风格色彩设置|\n\n关于如何设置自建的 Meting API 服务器地址，以及其他 MetingJS 配置，请参考章节[自定义配置](https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md#%E8%87%AA%E5%AE%9A%E4%B9%89%E9%85%8D%E7%BD%AE30-%E6%96%B0%E5%8A%9F%E8%83%BD)\n\n### 在 Hexo 配置文件 `_config.yml`​ 中配置本插件：\n\n```yaml\naplayer:\n  script_dir: some/place                        # Public 目录下脚本目录路径，默认: 'assets/js'\n  style_dir: some/place                         # Public 目录下样式目录路径，默认: 'assets/css'\n  cdn: http://xxx/aplayer.min.js                # 引用 APlayer.js 外部 CDN 地址 (默认不开启)\n  style_cdn: http://xxx/aplayer.min.css         # 引用 APlayer.css 外部 CDN 地址 (默认不开启)\n  meting: true                                  # MetingJS 支持\n  meting_api: http://xxx/api.php                # 自定义 Meting API 地址\n  meting_cdn: http://xxx/Meing.min.js           # 引用 Meting.js 外部 CDN 地址 (默认不开启)\n  asset_inject: true                            # 自动插入 Aplayer.js 与 Meting.js 资源脚本, 默认开启\n  externalLink: http://xxx/aplayer.min.js       # 老版本参数，功能与参数 cdn 相同\n```\n\n* [https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js](https://cdn.jsdelivr.net/npm/meting@1.2/dist/Meting.min.js)\n* [https://unpkg.com/meting@1.2/dist/Meting.min.js](https://unpkg.com/meting@1.2/dist/Meting.min.js)\n\n## 示例\n\n### QQ音乐、网易云音乐、虾米、酷狗、百度等平台的音乐\n\n#### 创建自己的歌单 (VIP没解析，放到列表里在博客中也播放不了)\n\n以QQ音乐为例，登录QQ音乐创建好歌单后，打开歌单，链接有需要的id\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730814806680-82efc149-de40-4240-8190-b5641dff6e96.png)​\n\n#### 在markdown文件中引用：\n\n```plain\n{% meting \"1534866348\" \"tencent\" \"playlist\" \"autoplay\" \"mutex:false\" \"listmaxheight:340px\" \"preload:none\" \"theme:#ad7a86\"%}\n```\n\n{% meting \"1534866348\" \"tencent\" \"playlist\" \"mutex:false\" \"listmaxheight:340px\" \"preload:none\" \"theme:#ad7a86\"%}\n\n#### 在html页面中引用：\n\n```html\n<div class=\"aplayer aplayer-tag-marker meting-tag-marker aplayer-withlrc aplayer-withlist\" data-id=\"1534866348\" data-server=\"tencent\" data-type=\"playlist\" data-mutex=\"true\" data-preload=\"auto\" data-theme=\"#ad7a86\"></div> \n```\n\n---\n\n### source文件\n\n将所需文件放到`hexo\\source\\assets`​文件夹下，通过下面的方式引用。\n\n#### 在markdown文件中引用：\n\n```plain\n{% aplayer \"雾里看花\" \"AI\" \"/assets/tgAI.mp3\" \"/assets/WVWAW5KC.png\" autoplay %}\n```\n\n{% aplayer \"雾里看花\" \"AI\" \"/assets/tgAI.mp3\" \"/assets/WVWAW5KC.png\" %}\n\n#### 在html页面中引用：\n\n```html\n<div id=\"aplayer-iDYFLcdV\" class=\"aplayer aplayer-tag-marker\" style=\"margin-bottom: 20px;\">\n  <pre class=\"aplayer-lrc-content\"></pre>\n</div>\n<script>\n          var ap = new APlayer({\n            element: document.getElementById(\"aplayer-iDYFLcdV\"),\n            narrow: false,\n            autoplay: true,\n            showlrc: false,\n            music: {\n              title: \"雾里看花\",\n              author: \"AI\",\n              url: \"/assets/tgAI.mp3\",\n              pic: \"/assets/WVWAW5KC.png\",\n              lrc: \"\"\n            }\n          });\n          window.aplayers || (window.aplayers = []);\n          window.aplayers.push(ap);\n</script>\n```\n\n---\n\n## 参考\n\n1. [Home - APlayer](https://aplayer.js.org/#/home?id=installation)\n2. [MoePlayer/hexo-tag-aplayer: Embed aplayer in Hexo posts/pages](https://github.com/MoePlayer/hexo-tag-aplayer)\n3. [DIYgod/APlayer:  Wow, such a beautiful HTML5 music player](https://github.com/DIYgod/APlayer)\n","tags":["Hexo","Next","音乐","Aplayer","播放器"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题添加 Live2D 看板娘-通过CDN","slug":"Hexo博客Next主题添加 Live2D 看板娘-通过CDN","url":"/2024/11/04/79d2eab3e93c/","content":"\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730714807141-e9c04931-c5d3-4964-88af-3ecdd75294c8.png)​\n<!--more-->\n\n## Fork看板娘项目到自己的Github\n\n访问 [stevenjoezhang/live2d-widget: 把萌萌哒的看板娘抱回家 (ノ≧∇≦)ノ | Live2D widget for web platform](https://github.com/stevenjoezhang/live2d-widget)的 Github 仓库，点击右上角 Fork 该项目到自己的Github仓库 中。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730710539240-bbe50dc4-1ee5-4aad-9b7f-18ef23c72a50.png)​\n\n通过[https://cdn.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js](https://cdn.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js)\n\n或者[https://fastly.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js](https://fastly.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js)来引用\n\n将CDN链接中的leafminer 换成你的Github用户名。\n\n## 通用\n\n将下面这一行代码加入 html 页面的 `head`​ 或 `body`​ 中，即可加载看板娘：\n\n```javascript\n// 不要复制这个注释 <!-- lived2d -->\n<script src=\"https://fastly.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js\">\n</script> \n```\n\n## Hexo博客的Next主题\n\n 修改 /node\\_modules/hexo-theme-next/layout/\\_layout.njk 文件，在最后添加下面这行代码：\n\n```javascript\n<script src=\"https://cdn.jsdelivr.net/gh/leafminer/live2d-widget@latest/autoload.js\">\n</script >\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730713781467-e9911c1d-c880-4fa5-b310-4806b301513e.png)​\n\n## 自定义\n\n### clone 你的项目到本地\n\n```git\ngit clone https://github.com/leafminer/live2d-widget.git\n```\n\n### 项目文件\n\n* ​`autoload.js`​ ：自动加载看板娘；\n* ​`waifu.css`​ ：看板娘样式；\n* ​`waifu-tips.js `​：看板娘说话的脚本；\n* ​`waifu-tips.json `​：看板娘说话的内容；\n\n### 路径\n\n 在` autoload.js`​ 的开头定义了加载看板娘的路径，注意这里需要使用绝对路径：\n\n```javascript\n//注意：live2d_path参数应使用绝对路径\nconst live2d_path = \"https://cdn.jsdelivr.net/gh/leafminer/live2d-widget/\";\n//const live2d_path = \"/live2d-widget/\";\n```\n\n### 提交到库\n\n```git\ngit status\ngit add -A\ngit commit -m \"modify position to right\"\ngit push origin master\n```\n\n### 发布版本\n\n 是使用了Github免费的CDN服务，所以还需要发布一个新的版本：\n\n## 参考\n\n[【Hexo搭建个人博客】（十二）Next主题中添加超级好玩的看板娘（CDN方式）_51CTO博客_hexo next主题](https://blog.51cto.com/u_13640625/4907086)\n","tags":["Github","Hexo","Next","Live2D","看板娘","CDN"],"categories":["笔记","其他"]},{"title":"Hexo博客添加关注微信导流","slug":"Hexo博客添加关注微信导流","url":"/2024/11/01/b7b4550e6ac7/","content":"\n该工具的主要功能是通过隐藏文章的部分内容，引导用户关注您的微信公众号，并回复相关关键词之后，获取解锁链接，以现在用户从网站到公众号的导流。Hexo博客接入该功能有两种方式。\n<!-- more -->\n\n## 注册账号\n\n* 注册：[http://admin.openwrite.cn/open in new window](http://admin.openwrite.cn/)\n* 登录：[https://readmore.openwrite.cn/loginopen in new window](https://readmore.openwrite.cn/login)， 用上面注册账号（通用，后续会合并到一个后台）\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730450641429-5202dee7-65dc-4a4c-81a5-f94b0ffe78d1.png)​\n\n通过添加博客列表，根据提示填写你的信息，生成对应的使用指南。如下：\n\n## 公众号设置\n\n登录微信公众号，设置**关键词回复**：\n\n* [ ] 关键词：more\n* [ ] 回复内容，设置为**文本**\n\n```html\n<a href=\"https://readmore.openwrite.cn/code/generate?blogId=33502-1730425843713-524\">点击该链接，获取博客解锁验证码</a>\n```\n\n## 通用接入方式\n\n博客的**文章页面**的末尾，增加如下js代码：\n\n```html\n<script src=\"https://readmore.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n<script>\n    const btw = new BTWPlugin();\n    btw.init({\n        id: 'container',\n        blogId: '33502-173dfdadfa-524',\n        name: '虫子的生存笔记',\n        qrcode: 'https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png',\n        keyword: 'more',\n        btnText: '关注后阅读全文',\n        cookieAge: 1, //验证后的过期时间（单位：小时）\n        displayPercentage: 0.5 //显示文章内容的百分比\n    });\n</script>\n```\n\n### 在Hexo博客Next主题中接入\n\n在`\\node_modules\\hexo-theme-next\\layout\\_macro\\post.njk`​文件中加入之前生成的js代码。[自媒体 - 渠道管理](https://readmore.openwrite.cn/user/channel)\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730454016963-19322c61-c348-4cbe-9b84-1e05c0d446f4.png)​\n\n使文章选择性加入该功能，通过下面的代码，在文章markdown文件的题头里加入 `readmore: true`​ 以后，才会隐藏内容。\n\n```yaml\n<% if (item.readmore) { %>\n<script src=\"https://readmore.openwrite.cn/js/readmore.js\" type=\"text/javascript\"></script>\n<script>\n    const btw = new BTWPlugin();\n    btw.init({\n        id: 'container',\n        blogId: '33502-1730425843713-524',\n        name: '虫子的生存笔记',\n        qrcode: 'https://leaf-miner.pages.dev/image/%E5%85%AC%E4%BC%97%E5%8F%B7.png',\n        keyword: 'more',\n    });\n</script>\n<% } %>\n```\n\n## Hexo博客Next主题--使用插件[hexo-plugin-readmore](https://github.com/snowdreams1006/hexo-plugin-readmore)\n\n### 安装插件\n\n插件链接：[hexo-plugin-readmore](https://github.com/snowdreams1006/hexo-plugin-readmore)\n\nHexo 整合 OpenWrite 平台的 readmore 插件,实现博客的每一篇文章自动增加阅读更多效果,关注公众号后方可解锁全站文章,从而实现博客流量导流到微信公众号粉丝目的.\n\n运行 `npm install`​ 命令安装到本地hexo博客目录，通过`hexo g&&hexo d`​部署到网站\n\n```yaml\n$ npm install hexo-plugin-readmore --save\n```\n\n### 更新博客配置文件 `_config.yml`​\n\n在 `_config.yml`​ 配置文件中,配置 `readmore`​ 插件相关信息,详情见 [OpenWrite 微信公众号增长神器 &quot;ReadMore&quot; 简介](https://openwrite.cn/guide/readmore/install-hexo.html).\n\n```yaml\nplugins:\n  readmore:\n    blogId: 15702-1569305559839-744 # [必选]OpenWrite 后台申请的博客唯一标识\n    name: 雪之梦技术驿站 # [必选]OpenWrite 后台申请的博客名称\n    qrcode: https://snowdreams1006.github.io/snowdreams1006-wechat-public.jpeg\n    # [必选]OpenWrite 后台申请的微信公众号二维码\n    keyword: vip # [必选]OpenWrite 后台申请的微信公众号后台回复关键字\n```\n\n**要替换成自己的相关配置**!\n\n其中,配置参数含义如下:\n\n* ​`blogId`​ : [必选]OpenWrite 后台申请的博客唯一标识\n* ​`name`​ : [必选]OpenWrite 后台申请的博客名称\n* ​`qrcode`​ : [必选]OpenWrite 后台申请的微信公众号二维码\n* ​`keyword`​ : [必选]OpenWrite 后台申请的微信公众号后台回复关键字\n\n## 参考\n\n1. [自媒体 - 增长工具 - 博客导流公众号](https://readmore.openwrite.cn/user/blog2weixin/use?id=33502-1730425843713-524)\n2. [博客导流公众号 | OpenWrite](https://openwrite.cn/guide/readmore/readmore.html)\n3. [Hexo 博客快速整合公众号导流工具,不用互推也能实现粉丝躺增! - 雪之梦技术驿站 - 博客园](https://www.cnblogs.com/snowdreams1006/p/11656241.html)\n4. [Hexo博客整合 | OpenWrite](https://openwrite.cn/guide/readmore/install-hexo.html)\n5. [Hexo利用阅读更多的功能引流到微信公众号 | GSGUNDAM砍柴工](https://www.gsgundam.com/2022/2022-12-12-z14-hexo-readmore-direct-to-wechat/)\n","tags":["Hexo","Next","公众号","导流","阅读全文","微信"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题加入音乐播放器-SQPlayer","slug":"Hexo博客Next主题加入音乐播放器-SQPlayer","url":"/2024/10/30/cf403dbe36d3/","content":"\nSQPlayer一个简洁到极致的单曲播放器。代码由奇趣保罗(https://paugram.com)原创，并遵守 MIT 开源协议。\n<!-- more -->\n\n## 下载播放器\n\n网址：[github.com](https://github.com/Dreamer-Paul/Square-Player)\n\n解压找到需要的文件：SQPlayer.js和SQPlayer.css\n\n## 安装播放器\n\n将`SQPlayer.js`​放到博客对应的`\\node_modules\\hexo-theme-next\\source\\js`​文件夹下。\n\n将`SQPlayer.css`​放到博客对应的`\\node_modules\\hexo-theme-next\\source\\css`​文件夹下。\n\n## 修改文件\n\n修改`SQPlayer.css`​样式，使其适合主题侧边栏。\n\n```css\nsqp {\n    width: 15em;\n    height: 8em;\n    color: #fff;\n    float: right;\n    display: block;\n    overflow: hidden;\n    user-select: none;\n    position: relative;\n    border-radius: 0em;\n    margin: 0 0 1em 1em;\n    background: #c8cae1 center/cover no-repeat;\n}\n```\n\n修改`SQPlayer.js`​\n\n```javascript\nsetupByCloudMusic = (cid, server) => {\n    const getData = {\n      \"moeyao\": () => (\n        fetch(`https://api.moeyao.cn/meting/?server=tencent&type=playlist&id=${cid}`).then(\n          (res) => res.json()\n        ).then((items) => {\n          const item = items[0];\n\n          if (!item) {\n            throw new Error(\"返回数据为空\");\n          }\n\n          this.setup({\n            title: item.name,\n            artist: item.artist,\n            cover: item.cover,\n            link: item.url\n          });\n        })\n      ),\n      // \"paul\": () => (\n      //   fetch(`https://api.paugram.com/netease/?id=${cid}`).then(\n      //     (res) => res.json()\n      //   ).then((item) => {\n      //     this.setup(item);\n      //   })\n      // ),\n    };\n```\n\n## 把CSS引入到生成的主页中\n\n需要在在网页 `head`​ 标签引用项目的 CSS 文件 `SQPlayer.css`​：\n\n```html\n<head>\n...\n<link href=\"SQPlayer.css\" rel=\"stylesheet\" type=\"text/css\"/>\n...\n</head>\n```\n\n修改`\\node_modules\\hexo-theme-next\\layout\\_layout.njk`​文件，添加`<link href=\"SQPlayer.css\" rel=\"stylesheet\" type=\"text/css\"/>`​\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309377882-54220787-065b-4033-9683-6a36bea1d8ab.png)​\n\n## 引入JS\n\n`hexo\\node_modules\\hexo-theme-next\\layout\\_scripts\\index.njk`\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730729590552-7dda6c06-cc97-49db-98e6-6041d6db6a05.png)\n\n## 放置到侧边栏\n\n在网页 `body`​ 标签内的最后一行，或使用 `defer`​ 属性引用项目的 JS 文件 `SQPlayer.js`​。\n\n如果使用 `data-cid`​ 属性引用播放器，就写成这样，其中 `23682511`​ 就是网易云音乐一首歌的 ID。\n\n```html\n<body>\n...\n<sqp data-cid=\"23682511\"></sqp> # data-cid指定了歌曲ID，这里是tencent QQ音乐源\n<script src=\"SQPlayer.js\"></script>\n</body>\n```\n\n修改`\\node_modules\\hexo-theme-next\\layout_macro\\sidebar.njk`​文件，添加`<script src=\"SQPlayer.js\"></script>`​\n\n修改 `\\node_modules\\hexo-theme-next\\layout_macro\\sidebar.njk`​文件，添加`<sqp data-cid=\"2112569740\"></sqp>`​\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730309397117-c7d822ec-9993-4327-ad20-c7557950a39b.png)​\n\n在网页 `body `​标签内插入一个 `sqp`​ 标签：\n\n```html\n<body>\n...\n<sqp></sqp>\n...\n</body>\n```\n\n如果使用静态方法引用播放器，则需要同时编写四个属性。\n\n```html\n<sqp data-title=\"Crimson & Clover\" data-artist=\"Tommy James\" data-cover=\"封面链接\" data-link=\"歌曲链接\"></sqp>\n```\n\n其他属性可以参考本文档的 [属性](https://docs.paul.ren/square/#/?id=%e5%b1%9e%e6%80%a7) 节点。\n\n### 属性\n\nSquare Player 支持以下属性，它们分别的意义是：\n\n|**属性名**|**用途**|\n| -------------| --------------------------------------------------------------|\n|left|至左显示|\n|data-title|歌曲名，用于自定义歌曲|\n|data-artist|艺术家，用于自定义歌曲|\n|data-cover|专辑封面图片链接，用于自定义歌曲|\n|data-link|歌曲地址，用于自定义歌曲|\n|data-cid|网易云音乐的 ID，如果编写了此项目，将忽略以上 data-\\*设置|\n\n将以上属性放在`<sqp>`​ 标签内即可生效。\n\n## 修改歌曲-网易云\n\n### 歌单ID\n\n打开网易云找到喜欢的歌单，浏览器地址栏会显示ID\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730314435092-31479aa8-9638-4a64-a7eb-52e69244c322.png)\n\n将该ID填写到`https://api.moeyao.cn/meting/?type=playlist&id=`连接中，可查看到返回的Json数据。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730314761553-c0bf9c71-0f88-44d6-a8e6-1acd992ded57.png)\n\n可以根据返回的歌单Json在html页面的`body`中手动修改成喜欢的单曲。无需改动SQPlayer.js\n\n```html\n<sqp data-title=\"라라라\" data-artist=\"淑熙\" data-cover=\"https://api.moeyao.cn/meting/?server=netease&type=cover&id=5357743\" data-link=\"https://api.moeyao.cn/meting/?server=netease&type=url&id=5357743\"></sqp>\n```\n\n此外，也可以通过修改SQPlayer.js文件来引用单曲。\n\n首先，在html页面的`body`中引用歌单id\n\n```html\n<sqp data-cid=\"6846019260\"></sqp>\n```\n\n还要修改SQPlayer.js文件，\n\n* `fetch()`\n* `const item = items[0];`中[0]表示第一首歌，依此类推，选择对应的单曲\n\n```javascript\nsetupByCloudMusic = (cid, server) => {\n  const getData = {\n    \"moeyao\": () => (\n      fetch(`https://api.moeyao.cn/meting/?type=playlist&id=${cid}`).then(\n        (res) => res.json()\n      ).then((items) => {\n        const item = items[0]; // 获取list第一首歌曲\n        if (!item) {\n          throw new Error(\"返回数据为空\");\n        }\n\n        this.setup({\n          title: item.name,\n          artist: item.artist,\n          cover: item.cover,\n          link: item.url\n        });\n      })\n    ),\n    // \"paul\": () => (\n    //   fetch(`https://api.paugram.com/netease/?id=${cid}`).then(\n    //     (res) => res.json()\n    //   ).then((item) => {\n    //     this.setup(item);\n    //   })\n    // ),\n  };\n```\n\n## 参考\n\n[Square Player 文档](https://docs.paul.ren/square/#/)\n","tags":["Hexo","Next","音乐","播放器","SQPlayer"],"categories":["笔记","其他"]},{"title":"【转载】用R语言解读凯利公式","slug":"【转载】用R语言解读凯利公式","url":"/2024/10/24/2f91b3f1804e/","content":"\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344529-c6787778-5607-423b-9ba3-654cac0128b7.png)​\n<!--more-->\n\n> [用IT技术玩金融系列文章](http://blog.fens.me/series-it-finance/)，将介绍如何使用IT技术，处理金融大数据。在互联网混迹多年，已经熟练掌握一些IT技术。单纯地在互联网做开发，总觉得使劲的方式不对。要想靠技术养活自己，就要把技术变现。通过“跨界”可以寻找新的机会，创造技术的壁垒。\n>\n> 金融是离钱最近的市场，也是变现的好渠道！今天就开始踏上“用IT技术玩金融”之旅！\n>\n> **关于作者：**\n>\n> * 张丹(Conan), 程序员R,Nodejs,Java\n> * weibo：@Conan\\_Z\n> * blog: [http://blog.fens.me](http://blog.fens.me/)\n> * email: bsspirit@gmail.com\n>\n> **转载请注明出处：**   \n> [http://blog.fens.me/finance-kelly](http://blog.fens.me/finance-kelly)\n\n‍\n\n**前言**\n\n职业做投机交易的人，应该都听说过凯利公式，这是一个通过计算胜率和赔率，来选择最佳投注比例的公式，目的是长期获得最高的盈利。\n\n只要找到长期看必胜的局，接下来就是让时间帮我们赚钱了。\n\n## 1. 开始赌局\n\n设游戏赌局，你赢的概率是80%，输的概率是20%，赢时的净收益率是100%，输时的亏损率也是100%。如果赢，你每赌1元可以赢得1元；如果输，则每赌1元将会输掉1元。赌局可以进行无限次，每次下的赌注可由你自己任意定。如果你的初始资金是100元，那么怎么样下注，才能使得长期收益最大？\n\n对于胜率80%，从感觉上应该是很有把握的事情了。那么我们先主观判断一次，用90%的仓位去赌一下，看看结果怎么呢？如果下注10次，按80%胜率，8次胜，2次负。我们来算一下最后的结果。\n\n```plain\n# 设置胜负，1胜，0负\n> win<-c(1,1,1,0,1,1,0,1,1,1)\n \n# 分别按投注计算每回合的剩余资金 \n> a1<-(1+0.9)*100\n> a2<-a1*(1+0.9)\n> a3<-a2*(1+0.9)\n> a4<-a3*0.1\n> a5<-a4*(1+0.9)\n> a6<-a5*(1+0.9)\n> a7<-a6*0.1\n> a8<-a7*(1+0.9)\n> a9<-a8*(1+0.9)\n> a10<-a9*(1+0.9)\n \n> dat<-c(a1,a2,a3,a4,a5,a6,a7,a8,a9,a10)\n> df<-data.frame(win,dat)\n\n# 打印剩余资金列表\n> df\n   win      dat\n1    1 190.0000\n2    1 361.0000\n3    1 685.9000\n4    0  68.5900\n5    1 130.3210\n6    1 247.6099\n7    0  24.7610\n8    1  47.0459\n9    1  89.3872\n10   1 169.8356\n```\n\n10次交易后，赢了8次，只输了2次，我们从100元本金，上升到了169元，收益率为69%，还是不错的。最高的时候，资金为685元，收益率为685%，赚了6倍多。最低则是只剩下24元，真是赔的好惨啊！\n\n接下来，画出资金曲线。这是一个过山车式的曲线，赚钱的时候非常猛，一旦赌输了，就产生了巨大的亏损。\n\n```plain\n# 画出资金曲线 \n> plot(df$dat,type='l')\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344462-88879fa4-2013-4a2b-80ec-d33e03bc4fa7.png)[http://blog.fens.me/wp-content/uploads/2018/03/01.png](http://blog.fens.me/wp-content/uploads/2018/03/01.png)\n\n曲线很陡峭，波动很大，回撤也很大，完全就是在赌博。\n\n怎么样才能让资金曲线好看一些呢？如果每次下注用少一点资金，是不是会更好呢？那么我继续试一下。分别计算每次下注资金为 60%，40%，20%，10%的4个维度的仓位的情况。\n\n```plain\n> library(magrittr)\n\n# 定义现金流量函数：win=胜负结果,b=赔率,pos=仓位\n> postion<-function(win,b=1,pos=0.6){            # 省略代码\n+ }\n \n# 设置胜负，1胜，0负\n> win<-c(1,1,1,0,1,1,0,1,1,1) \n> prob<-0.8                      # 胜率\n> n<-10                          # 赌局数\n> b<-1                           # 赔率\n> caption<-100                   # 金额\n \n# 分别计算不同仓位的剩余现金\n> pos90<-postion(win,b,0.9)*caption\n> pos60<-postion(win,b,0.6)*caption\n> pos40<-postion(win,b,0.4)*caption\n> pos20<-postion(win,b,0.2)*caption\n> pos10<-postion(win,b,0.1)*caption\n\n# 合并到数据框\n> df1<-data.frame(win,pos90,pos60,pos40,pos20,pos10)\n\n# 打印计算结果\n> df1\n   win    pos90   pos60   pos40   pos20   pos10\n1    1 190.0000 160.000 140.000 120.000 110.000\n2    1 361.0000 256.000 196.000 144.000 121.000\n3    1 685.9000 409.600 274.400 172.800 133.100\n4    0  68.5900 163.840 164.640 138.240 119.790\n5    1 130.3210 262.144 230.496 165.888 131.769\n6    1 247.6099 419.430 322.694 199.066 144.946\n7    0  24.7610 167.772 193.617 159.252 130.451\n8    1  47.0459 268.435 271.063 191.103 143.496\n9    1  89.3872 429.497 379.489 229.324 157.846\n10   1 169.8356 687.195 531.284 275.188 173.631\n```\n\n我们看到，只是简单地调整了交易的仓位比例，那么交易10次后，你剩余的现是就是有很大的不同的。其中pos60列，即60%仓位的交易，获得的回报最高为687元，而90%的仓位获得的回报，是这里面最少的。而且非常有意思的是，后面的4种仓位设置，每次交易后的资金都大于100元的原始本金。\n\n画出资金曲线\n\n```plain\n> library(ggplot2)\n> library(scales)\n> library(reshape2)\n\n# 数据转型 \n> df1$num<-1:nrow(df1)\n> df<-melt(df1[,-1],id.vars=\"num\")\n \n# 画图 \n> g<-ggplot(df,aes(x=num,y=value,colour=variable ))\n> g<-g+geom_line()\n> g\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588344448-0050ef70-3377-47f6-9d54-5505fb1af9e4.png)[http://blog.fens.me/wp-content/uploads/2018/03/05.png](http://blog.fens.me/wp-content/uploads/2018/03/05.png)\n\n从图中可以看到，对于高胜率的情况，大的仓位是可以有高回报的，但是风险也大；小仓位是相对平稳的增长。\n\n## 2. 凯利公式\n\n那么多少的仓位是最优的呢？接下来的问题，就是凯利公式会告诉我们的。\n\n​![](https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1712588345313-52f8ea2d-65d1-4255-90bf-948a768b5e60.jpeg)​\n\n在概率论中，凯利公式（The Kelly Criterion）是一个用以使特定赌局中，拥有正期望值之重复行为长期增长率最大化的公式，由约翰·拉里·凯利于1956年在《贝尔系统技术期刊》中发表，可用以计算出每次游戏中应投注的资金比例。\n\n除可将长期增长率最大化外，此公式不会在任何赌局中，有失去全部现有资金的可能，因此有不存在破产疑虑的优点。公式中，假设货币与赌局可无限分割，只要资金足够多，长期一定是会赚到钱的。\n\n凯利公式的最一般性陈述为，寻找能最大化结果对数期望值的资本比例f，即可获得长期增长率的最大化。对于只有两种结果的简单赌局而言，即 输失去所有本金，胜获得资金乘以特定的赔率。\n\n可以用下面公式来表示：\n\n​![](https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1712588344600-f8c6da23-61c0-4a8e-b65e-53639a69d53e.jpeg)[http://blog.fens.me/wp-content/uploads/2018/03/kelly.jpg](http://blog.fens.me/wp-content/uploads/2018/03/kelly.jpg)\n\n其中\n\n* f\\* 投注的比例\n* b 赔率，盈亏比，即平均一次盈利与一次亏损两者的比例\n* p 胜率\n* q 败率，即 1 – p\n\n用凯利公式对上面的例子进行测试，胜率p\\=0.8，失败率q\\=1-p\\=0.2，赔率b\\=1，失败则下注资金完全损失，计算下注比例为\n\n```plain\nf* = (b*p-q)/b = (1*0.8-0.2)/1=0.6\n```\n\n所以，赌客应在每次机会中下注现有资金的60%，可以获得最大化资金的长期增长率。\n\n通过数学变型，可以很容易得到凯利公式的另一种表达式\n\n```plain\nKelly % = W – [(1 – W) / R]\n```\n\n其中Kelly % 就是上式中的f\\*，W就是p胜率，R就是b赔率。两者看似不同，其实完全等效一致。\n\n对于上面的例子，我们可以计算\n\n```plain\nKelly % = W – [(1 – W) / R] = 0.8-[(1-0.8)/1] = 0.6\n```\n\n凯利公式，有一个优化的变型。如果每次下注失败后，不是全部亏损，只是亏损部分，我们对上面公式可以做一个优化，增加亏损比例参数c，公式改写为下面格式\n\n```plain\nf* =  (b*p-c*q)/c*b\n```\n\n其中\n\n* f\\* 投注的比例\n* b 赔率，盈亏比，即平均一次盈利与一次亏损两者的比例\n* p 胜率\n* q 败率，即 1 – p\n* c 亏损比例\n\n对于上面的例子，如果每次亏损是c\\=0.8，其他条件不变，那么我们应该用什么仓位进行交易呢？\n\n```plain\nf* = (b*p-q)/b = (1*0.8-0.8*0.2)/(0.8*1)=0.8\n```\n\n通过计算结果是0.8，我可以增大仓位。\n\n凯利公式定义了长期获得最高的盈利的仓位确认的计算方法，我们自己也可以按照凯利公式的数学定义，进行推到一下。\n\n假设一个赌局，每投资1，有p的概率可获得额外正收益W，有q\\=1-p的概率可获得额外的负收益-L，每次投资比例为x，建立收益为f(x)的目标函数，使得期望收益最大化。\n\n转化为规划问题：\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588346022-8b6d605c-a269-4362-98f7-119d42a8b2f4.png)[http://blog.fens.me/wp-content/uploads/2018/03/03.png](http://blog.fens.me/wp-content/uploads/2018/03/03.png)\n\n从推到可看出，标准的凯利公式只是当L\\=1的情况是一个应用，通过优化可增加了亏损比例参数。\n\n## 3. 赌局的最优解\n\n我们已经把公式介绍的很清楚了，那么接下来，就可以用程序实现进行实现了。\n\n```plain\n# 凯利公式，实现函数\n> kelly<-function(prob,b=1,loss=1){   # 省略代码\n+ }\n```\n\n用凯利公式计算的上文中的例子。\n\n```plain\n> prob<-0.8                     # 胜率\n> b<-1                          # 赔率\n> k<-kelly(prob,b,1);k\n[1] 0.6\n```\n\n这时通过凯利公式，我们就能算出最最优的解其实是0.6的仓位设置，也就可以解释，上面的结果60%的仓位占比，获得的收益是最大的。\n\n接下来，我们再比较一下不同的胜率和赔率的最优解是什么？\n\n大胜率和大赔率时，可以重仓。当80%的胜率，2倍赔率时，仓位为70%。\n\n```plain\n> kelly(0.8,2)\n[1] 0.7\n```\n\n通常情况下的赌局，不足50%的胜率，高赔率时，可以轻仓。当45%的胜率，2倍赔率时，仓位为17.5%。\n\n```plain\n> kelly(0.45,2)\n[1] 0.175\n```\n\n通常情况下的赌局，不足50%的胜率，低赔率时，不要参考。当45%的胜率，1倍赔率时，不参与赌局。\n\n```plain\n> kelly(0.45,1)\n[1] \"Lost!!!\"\n[1] 0\n```\n\n小胜率，中等赔率时，不要参与。\n\n```plain\n> kelly(0.2,1)\n[1] \"Lost!!!\"\n[1] 0\n```\n\n小胜率，中等赔率时，中等损失，不要参与。\n\n```plain\n> kelly(0.2,1,0.5)\n[1] \"Lost!!!\"\n[1] 0\n```\n\n小胜率，中等赔率时，很小损失，可以All in。很小的损失比例，其实是变相的增大了赔率。\n\n```plain\n> kelly(0.2,1,0.1)\n[1] \"All In\"\n[1] 1\n```\n\n大胜率，很小赔率，很小损失，All in。\n\n```plain\n> kelly(0.8,0.1,0.1)\n[1] \"All In\"\n[1] 1\n```\n\n中胜率，很小赔率，很小损失，不要参与。\n\n```plain\n> kelly(0.45,0.1,0.1)\n[1] \"Lost!!!\"\n[1] 0\n```\n\n总结一下，投机操作的游戏规则。\n\n|胜率|赔率|损失率|仓位|指导建议|备注|\n| ------| ------| --------| -------| ----------| --------------------------|\n|80%|2|100%|70%|重仓|大胜率、大赔率、全部损失|\n|45%|2|100%|17.5%|轻仓|中胜率、大赔率、全部损失|\n|45%|1|100%|0|离场|中胜率、中赔率、全部损失|\n|20%|1|100%|0|离场|小胜率、中赔率、全部损失|\n|20%|1|50%|0|离场|小胜率、中赔率、中等损失|\n|20%|1|10%|100%|满仓|小胜率、中赔率、小损失|\n|80%|10%|10%|100%|满仓|大胜率、小赔率、小损失|\n|45%|10%|10%|0|离场|中胜率、小赔率、小损失|\n\n这样我们就判断出，哪些投机操作值得玩，哪些不能玩，应该怎么玩。是不是很神奇！！\n\n## 4. 让时间帮我们赚钱\n\n根据凯利公式的定义，赌局可以进行无限次，那么当真的把赌局设置为很大时，会是什么情况呢？\n\n我们把第一次的数据，进行100次的赌局，胜率为80%，赔率为1，金额100元，看一下结果。\n\n```plain\n> n<-100                          # 赌局数\n> prob<-0.8                       # 胜率\n> b<-1                            # 赔率\n> caption<-100                    # 金额\n\n# 基本二项分布，生成每盘的赌局正负\n> set.seed(1)\n> win<-rbinom(n,1,prob)\n \n# 生成每盘的资金\n> pos90<-postion(win,b,0.9)*caption   # 90%仓位\n> pos60<-postion(win,b,0.6)*caption   # 60%仓位\n> pos40<-postion(win,b,0.4)*caption   # 40%仓位\n> pos20<-postion(win,b,0.2)*caption   # 20%仓位\n> pos10<-postion(win,b,0.1)*caption   # 10%仓位\n\n# 打印数据\n> df2<-data.frame(win,pos90,pos60,pos40,pos20,pos10)\n> tail(df2)\n    win     pos90       pos60       pos40   pos20   pos10\n95    1 105083487 5.73375e+11  9874948167 5067085 34506.6\n96    1 199658625 9.17399e+11 13824927434 6080503 37957.3\n97    1 379351388 1.46784e+12 19354898407 7296603 41753.0\n98    1 720767637 2.34854e+12 27096857770 8755924 45928.3\n99    0  72076764 9.39417e+11 16258114662 7004739 41335.5\n100   1 136945851 1.50307e+12 22761360527 8405687 45469.0\n```\n\n从100盘赌局后的结果来看，60%的仓位可以获得最高收益的，为1.50307e+12，比其他的仓位都要高少非常。\n\n接下来，我们生成资金曲线图。\n\n```plain\n# 数据转型\n> df2$num<-1:nrow(df2)\n> df<-melt(df2[,-1],id.vars = \"num\")\n\n# 画图 \n> g<-ggplot(df,aes(x=num,y=value,colour=variable ))\n> g<-g+geom_line()\n> g<-g+scale_y_log10()  # y坐标轴log化\n> g\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1712588346270-a13eaf9e-8ca6-4cea-9c08-e027a1e57107.png)[http://blog.fens.me/wp-content/uploads/2018/03/06.png](http://blog.fens.me/wp-content/uploads/2018/03/06.png)\n\n资金曲线图能非常直观地告诉了我们，什么的仓位有什么样曲线形状。你如果追求低风险，就用10%仓位稳健上涨。90%接近满仓并不是最赚钱的，反而是60%的仓位是有最大的回报。\n\n我们再用凯利公式进行计算，可以发现结果最优的结果也是60%。\n\n```plain\n> kelly(prob,1)\n[1] 0.6\n```\n\n神奇的算法，可以有效的帮我们控制仓位，最大化长期收益。只要找到长期必胜的局，接下来就是让时间帮我们赚钱了。下一篇文章，将介绍凯利公式在金融市场应用的应用。\n\n写文章很辛苦，如果需要获得本文源代码或加入量化投资社群，请扫下面二维码，请作者喝杯咖啡。\n\n**转载请注明出处：**   \n[http://blog.fens.me/finance-kelly](http://blog.fens.me/finance-kelly)\n","tags":["R语言","金融","赌博","凯利公式","最佳投注"],"categories":["转载","学习"]},{"title":"Hexo博客Next主题启用pdf预览","slug":"Hexo博客Next主题启用pdf预览","url":"/2024/10/24/45415e09698e/","content":"\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729710044697-25d03133-64ad-4f82-89ae-756f70a8d686.png)​\n<!--more-->\n\n# 下载安装\n\n不需要安装额外的插件，Next主题有自带`pdf.js`​文件。\n\n如果没有可以自行下载，将`pdf.js`​文件放到`\\node_modules\\hexo-theme-next\\scripts\\tags\\`​文件夹下\n\n```git\ngit submodule add https://github.com/next-theme/theme-next-pdf\n```\n\n# 主题配置\n\nNext主题 `_config.next.yml`​ 文件:\n\n```yaml\npdf:\n  enable: true\n  # Default height\n  height: 500px\n```\n\n# 使用\n\n```yaml\n{% pdf url [height] %}\n```\n\n* ​`url`​ : pdf文件的URL (绝对路径) 。\n* ​`[height]`​ : *可选.*  PDF文件展示高度, e.g. 800px.\n\n```yaml\n{% pdf https://example.com/sample.pdf %}\n{% pdf /path/to/your/file.pdf 600px %}\n```\n\n# 参考\n\n[PDF | NexT](https://theme-next.js.org/docs/tag-plugins/pdf)\n","tags":["Hexo","Next","pdf","预览","插件"],"categories":["笔记","学习"]},{"title":"人类还有95%的问题待解决","slug":"人类还有95%的问题待解决","url":"/2024/10/23/7b5efa398b63/","content":"\n# <center>《一想到还有95%的问题留给人类，我就放心了》</center>\n<!--more-->\n\n{% pdf /uploads/kepu1.pdf %}\n\n‍\n","tags":["pdf","问题","电子书","宇宙","时空"],"categories":["转载","学习"]},{"title":"Hexo博客Next主题图片懒加载","slug":"Hexo博客Next主题图片懒加载","url":"/2024/10/22/d852ddbbc257/","content":"\n[jquery-lazyload](https://github.com/tuupola/jquery_lazyload) for [NexT](https://github.com/theme-next)\n\n<!--more-->\n\n# 下载安装\n\n下载`theme-next-jquery-lazyload`​\n\n```shell\n$ git clone https://github.com/theme-next/theme-next-jquery-lazyload\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729605275227-91c937f4-75eb-44c9-bf3e-45e7e89ac1d1.png)​\n\n找到`jquery.lazyload.js`​文件，将该文件放到`node_modules\\hexo-theme-next\\source\\js\\`​文件夹下\n\n# 主题配置\n\nNext主题 `_config.next.yml`​ 文件:\n\n```yaml\nlazyload: true\n```\n\n# 查看是否生效\n\n在`hexo cl && hexo g`​之后，进入自己的网页，随意对任一图片进行”审查元素”，如果你的`img`​元素中包含`data-loaded=\"true\"`​，说明Lazyload已经生效。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729605648458-03e867d3-eb46-4132-9cf9-725a05dda05e.png)​\n\n# 参考\n\n[Hexo + NexT 深度个性化配置 (2020.1 更新) | UPWNothing&apos;s Playground](https://upwnothing.github.io/zh-CN/44bf8def/#google_vignette)\n","tags":["Hexo","Next","加载","图片"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题添加丝带背景","slug":"Hexo博客Next主题添加丝带背景","url":"/2024/10/22/e49567454975/","content":"\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729603831901-97d71810-1f8c-40a4-9abe-bff40b36490e.png)​\n\n<!--more--> \n\n# 主题配置\n\n主题的配置文件`_config.next.yml`​\n\n```yaml\n# Generate a ribbon in your website with HTML5 canvas.\n# For more information: https://github.com/hustcc/ribbon.js\ncanvas_ribbon:\n  enable: true\n  size: 300 # The width of the ribbon\n  alpha: 0.6 # The transparency of the ribbon\n  zIndex: -1 # The display level of the ribbon\n```\n","tags":["Hexo","Next","博客","丝带背景","主题"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题添加相关文章推荐功能","slug":"Hexo博客Next主题添加相关文章推荐功能","url":"/2024/10/22/9a5a0568022f/","content":"\n使用Hexo-Related-Posts插件添加相关文章推荐。~~[Hexo-Related-Popular-Posts](https://github.com/tea3/hexo-related-popular-posts)~~​~~插件~~\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729707074765-64c65e8e-e07c-4dbe-8b5e-2bcfc623695d.png)​\n<!--more-->\n\n# Hexo-Related-Posts插件\n\n## 安装插件\n\n于博客站点根目录打开Git Bash，运行下面的命令：\n\n```shell\nnpm install hexo-related-posts --save\n```\n\n## 主题配置\n\nNext主题的配置文件`_config.next.yml`​\n\n```yaml\nrelated_posts:\n  enable: true\n  # Custom header, leave empty to use the default one 设置推荐区块的标题\n  title:   \n  display_in_home: false\n  params:\n    maxCount: 5\n    #PPMixingRate: 0.0\n    #isDate: false\n    #isImage: false\n    #isExcerpt: false\n```\n\n## 修改样式\n\n打开文件`hexo\\node_modules\\hexo-theme-next\\layout\\_partials\\post\\post-related.njk`​\n\n```yaml\n  <div class=\"links-of-blogroll-title\">\n    {%- if theme.related_posts.icon %}<i class=\"{{ theme.related_posts.icon }} fa-fw\"></i>{% endif %}\n    {{ __('post.related_posts') }} \n  <ul class=\"popular-posts\">\n  {%- for path in page.related_posts %}\n    {%- set popular_post = site.posts.findOne({ path: path }) %}\n    <li class=\"popular-posts-item\">\n      <a class=\"popular-posts-link\" href=\"{{ url_for(popular_post.path) }}\" rel=\"bookmark\">\n      {{ popular_post.title }}\n      {%- if popular_post.date %}\n        <time class=\"popular-posts-time\">{{ date(popular_post.date) }}</time>\n      {%- endif %}  \n      </a>\n    </li>\n  {%- endfor %}\n  </ul> \n  </div>\n```\n\n## 在侧边栏插入\n\n打开文件`hexo\\node_modules\\hexo-theme-next\\layout\\_macro\\sidebar.njk`​，插入下面的语句：\n\n```yaml\n    {%- if theme.related_posts.enable %}\n      {%- if theme.pjax %}\n        <div class=\"pjax\">\n      {%- endif %}\n      {%- if page.related_posts and page.related_posts.length > 0 %}\n        <div class=\"sidebar-inner sidebar-post-related\">\n          <div class=\"animated\">\n            {{ partial('_partials/post/post-related.njk') }}\n          </div>\n        </div>\n      {%- endif %}  \n      {%- if theme.pjax %}\n        </div>\n      {%- endif %}\n    {%- endif %}\n```\n\n## 插入到文章底部\n\n打开文件`hexo\\node_modules\\hexo-theme-next\\layout\\_macro\\post.njk`​，插入下面的语句：\n\n```yaml\n\t\t{%- if theme.related_posts.enable and (theme.related_posts.display_in_home or not is_index) %}\n\t\t\t{{ partial('_partials/post/post-related.njk') }}\n\t\t{%- endif %}\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729705517347-0e8a63a9-10f4-4442-bcbb-1fe3d30cbbd2.png)​\n\n---\n\n# [弃置][Hexo-Related-Popular-Posts](https://github.com/tea3/hexo-related-popular-posts)不好看\n\n通过[Hexo-Related-Popular-Posts](https://github.com/tea3/hexo-related-popular-posts)插件实现在文章下面显示相关文章推荐。\n\n## 安装插件\n\n[https://github.com/tea3/hexo-related-popular-posts](https://github.com/tea3/hexo-related-popular-posts)\n\n```shell\nnpm install hexo-related-popular-posts --save\n```\n\n## 主题配置\n\nNext主题的配置文件`_config.next.yml`​\n\n```yaml\nrelated_posts:\n  enable: true\n  # Custom header, leave empty to use the default one 设置推荐区块的标题\n  title:   \n  display_in_home: false\n  params:\n    maxCount: 5\n    #PPMixingRate: 0.0\n    #isDate: false\n    #isImage: false\n    #isExcerpt: false\n```\n\n## 使用\n\n将`popular_posts( {} , post )`​插入到文章模板中\n\n```yaml\n{{popular_posts( {} , post )}}\n```\n\n# 参考\n\n[Hexo + NexT 深度个性化配置 (2020.1 更新) | UPWNothing&apos;s Playground](https://upwnothing.github.io/zh-CN/44bf8def/#%E6%B7%BB%E5%8A%A0%E7%9B%B8%E5%85%B3%E6%96%87%E7%AB%A0%E6%8E%A8%E8%8D%90%E5%8A%9F%E8%83%BD)\n","tags":["Hexo","Next","插件","相关文章","推荐"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题添加粒子时钟特效","slug":"Hexo博客Next主题添加粒子时钟特效","url":"/2024/10/22/bdadf3e2dd86/","content":"\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729591197719-65af965b-a50d-422a-9301-db5223ae6cc2.png)​\n\n<!--more-->\n\n# 创建njk文件\n\n在`hexo\\node_modules\\hexo-theme-next\\layout\\`​目录下，新建`clock.njk`​文件，内容如下：\n\n```html\n<div style=\"\">\n  <canvas id=\"canvas\" style=\"width:60%;\">当前浏览器不支持canvas，请更换浏览器后再试</canvas>\n</div>\n<script>\n(function(){\n   var digit=\n    [\n        [\n            [0,0,1,1,1,0,0],\n            [0,1,1,0,1,1,0],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,0,1,1,0],\n            [0,0,1,1,1,0,0]\n        ],//0\n        [\n            [0,0,0,1,1,0,0],\n            [0,1,1,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [1,1,1,1,1,1,1]\n        ],//1\n        [\n            [0,1,1,1,1,1,0],\n            [1,1,0,0,0,1,1],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,1,1,0],\n            [0,0,0,1,1,0,0],\n            [0,0,1,1,0,0,0],\n            [0,1,1,0,0,0,0],\n            [1,1,0,0,0,0,0],\n            [1,1,0,0,0,1,1],\n            [1,1,1,1,1,1,1]\n        ],//2\n        [\n            [1,1,1,1,1,1,1],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,1,1,0],\n            [0,0,0,1,1,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,0,0,1,1,0],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,1,1,1,0]\n        ],//3\n        [\n            [0,0,0,0,1,1,0],\n            [0,0,0,1,1,1,0],\n            [0,0,1,1,1,1,0],\n            [0,1,1,0,1,1,0],\n            [1,1,0,0,1,1,0],\n            [1,1,1,1,1,1,1],\n            [0,0,0,0,1,1,0],\n            [0,0,0,0,1,1,0],\n            [0,0,0,0,1,1,0],\n            [0,0,0,1,1,1,1]\n        ],//4\n        [\n            [1,1,1,1,1,1,1],\n            [1,1,0,0,0,0,0],\n            [1,1,0,0,0,0,0],\n            [1,1,1,1,1,1,0],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,1,1,1,0]\n        ],//5\n        [\n            [0,0,0,0,1,1,0],\n            [0,0,1,1,0,0,0],\n            [0,1,1,0,0,0,0],\n            [1,1,0,0,0,0,0],\n            [1,1,0,1,1,1,0],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,1,1,1,0]\n        ],//6\n        [\n            [1,1,1,1,1,1,1],\n            [1,1,0,0,0,1,1],\n            [0,0,0,0,1,1,0],\n            [0,0,0,0,1,1,0],\n            [0,0,0,1,1,0,0],\n            [0,0,0,1,1,0,0],\n            [0,0,1,1,0,0,0],\n            [0,0,1,1,0,0,0],\n            [0,0,1,1,0,0,0],\n            [0,0,1,1,0,0,0]\n        ],//7\n        [\n            [0,1,1,1,1,1,0],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,1,1,1,0],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,1,1,1,0]\n        ],//8\n        [\n            [0,1,1,1,1,1,0],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [1,1,0,0,0,1,1],\n            [0,1,1,1,0,1,1],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,0,1,1],\n            [0,0,0,0,1,1,0],\n            [0,0,0,1,1,0,0],\n            [0,1,1,0,0,0,0]\n        ],//9\n        [\n            [0,0,0,0,0,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,0,0,0,0,0],\n            [0,0,0,0,0,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,1,1,1,0,0],\n            [0,0,0,0,0,0,0]\n        ]//:\n    ];\n\nvar canvas = document.getElementById('canvas');\n\nif(canvas.getContext){\n    var cxt = canvas.getContext('2d');\n    //声明canvas的宽高\n    var H = 100,W = 700;\n    canvas.height = H;\n    canvas.width = W;\n    cxt.fillStyle = '#f00';\n    cxt.fillRect(10,10,50,50);\n\n    //存储时间数据\n    var data = [];\n    //存储运动的小球\n    var balls = [];\n    //设置粒子半径\n    var R = canvas.height/20-1;\n    (function(){\n        var temp = /(\\d)(\\d):(\\d)(\\d):(\\d)(\\d)/.exec(new Date());\n        //存储时间数字，由十位小时、个位小时、冒号、十位分钟、个位分钟、冒号、十位秒钟、个位秒钟这7个数字组成\n        data.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);\n    })();\n\n    /*生成点阵数字*/\n    function renderDigit(index,num){\n        for(var i = 0; i < digit[num].length; i++){\n            for(var j = 0; j < digit[num][i].length; j++){\n                if(digit[num][i][j] == 1){\n                    cxt.beginPath();\n                    cxt.arc(14*(R+2)*index + j*2*(R+1)+(R+1),i*2*(R+1)+(R+1),R,0,2*Math.PI);\n                    cxt.closePath();\n                    cxt.fill();\n                }\n            }\n        }\n    }\n\n    /*更新时钟*/\n    function updateDigitTime(){\n        var changeNumArray = [];\n        var temp = /(\\d)(\\d):(\\d)(\\d):(\\d)(\\d)/.exec(new Date());\n        var NewData = [];\n        NewData.push(temp[1],temp[2],10,temp[3],temp[4],10,temp[5],temp[6]);\n        for(var i = data.length-1; i >=0 ; i--){\n            //时间发生变化\n            if(NewData[i] !== data[i]){\n                //将变化的数字值和在data数组中的索引存储在changeNumArray数组中\n                changeNumArray.push(i+'_'+(Number(data[i])+1)%10);\n            }\n        }\n        //增加小球\n        for(var i = 0; i< changeNumArray.length; i++){\n            addBalls.apply(this,changeNumArray[i].split('_'));\n        }\n        data = NewData.concat();\n    }\n\n    /*更新小球状态*/\n    function updateBalls(){\n        for(var i = 0; i < balls.length; i++){\n            balls[i].stepY += balls[i].disY;\n            balls[i].x += balls[i].stepX;\n            balls[i].y += balls[i].stepY;\n            if(balls[i].x > W + R || balls[i].y > H + R){\n                balls.splice(i,1);\n                i--;\n            }\n        }\n    }\n\n    /*增加要运动的小球*/\n    function addBalls(index,num){\n        var numArray = [1,2,3];\n        var colorArray =  [\"#3BE\",\"#09C\",\"#A6C\",\"#93C\",\"#9C0\",\"#690\",\"#FB3\",\"#F80\",\"#F44\",\"#C00\"];\n        for(var i = 0; i < digit[num].length; i++){\n            for(var j = 0; j < digit[num][i].length; j++){\n                if(digit[num][i][j] == 1){\n                    var ball = {\n                        x:14*(R+2)*index + j*2*(R+1)+(R+1),\n                        y:i*2*(R+1)+(R+1),\n                        stepX:Math.floor(Math.random() * 4 -2),\n                        stepY:-2*numArray[Math.floor(Math.random()*numArray.length)],\n                        color:colorArray[Math.floor(Math.random()*colorArray.length)],\n                        disY:1\n                    };\n                    balls.push(ball);\n                }\n            }\n        }\n    }\n\n    /*渲染*/\n    function render(){\n        //重置画布宽度，达到清空画布的效果\n        canvas.height = 100;\n        //渲染时钟\n        for(var i = 0; i < data.length; i++){\n            renderDigit(i,data[i]);\n        }\n        //渲染小球\n        for(var i = 0; i < balls.length; i++){\n            cxt.beginPath();\n            cxt.arc(balls[i].x,balls[i].y,R,0,2*Math.PI);\n            cxt.fillStyle = balls[i].color;\n            cxt.closePath();\n            cxt.fill();\n        }\n    }\n\n    clearInterval(oTimer);\n    var oTimer = setInterval(function(){\n        //更新时钟\n        updateDigitTime();\n        //更新小球状态\n        updateBalls();\n        //渲染\n        render();\n    },50);\n}\n\n})();\n</script>\n```\n\n# 引用特效\n\n**注**：代码块要放置在`sider-inner`​的`div`​块中，放在`div`​块的位置决定时钟样式的展示位置。\n\n1. 在`博客目录\\node_modules\\hexo-theme-next\\layout\\_macro\\sidebar.njk`​中引入：\n\n```yaml\n{% include '../clock.swig' %}\n```\n\n2. 通过配置文件配置\n\n在`博客目录\\node_modules\\hexo-theme-next\\layout\\_macro\\sidebar.njk`​中引入：\n\n```yaml\n{% if theme.diy_time.clock %}\n  <!-- canvas粒子时钟 -->\n  {% include '../clock.swig' %}\n{% endif %}\n```\n\n在主题的配置文件`_config.yml`​中加入应用代码，：\n\n```yaml\n# 侧栏粒子时钟\ndiy_time:\n  runtime: true \n  clock: true # 粒子时钟\n```\n\n# 参考\n\n[Hexo博客Next主题添加粒子时钟特效 - AomanHao的博客空间](https://www.aomanhao.top/archives/124/)\n","tags":["Hexo","Next","动态时钟","特效","njk"],"categories":["笔记","学习"]},{"title":"【转载】Hexo博客Next主题添加暗黑夜间模式切换","slug":"【转载】Hexo博客Next主题添加暗黑夜间模式切换","url":"/2024/10/22/2cc7acb57128/","content":"\n使用`hexo-next-darkmode`​插件实现夜间模式切换。\n<!--more-->\n\n# 安装\n\n暗黑/夜间模式切换插件\n\n```git\nnpm install hexo-next-darkmode --save\n```\n\n# 配置\n\n往 NexT 主题的 `_config.yml`​ 配置文件里添加以下内容，必须确保 NexT 原生的 `darkmode`​ 选项设置为 `false`​\n\n```yaml\n# close NexT's darkmode\ndarkmode: false\n\n# Darkmode JS\n# For more information: https://github.com/rqh656418510/hexo-next-darkmode, https://github.com/sandoche/Darkmode.js\ndarkmode_js:\n  enable: true\n  bottom: '64px' # default: '32px'\n  right: 'unset' # default: '32px'\n  left: '32px' # default: 'unset'\n  time: '0.5s' # default: '0.3s'\n  mixColor: 'transparent' # default: '#fff'\n  backgroundColor: 'transparent'  # default: '#fff'\n  buttonColorDark: '#100f2c'  # default: '#100f2c'\n  buttonColorLight: '#dcdcdc' # default: '#fff'\n  saveInCookies: true # default: true\n  label: '🌓' # default: ''\n  autoMatchOsTheme: true # default: true\n  libUrl: # Set custom library cdn url for Darkmode.js\n```\n\n适用于 NexT 主题的暗黑/夜间模式切换插件，如果 NexT 的版本 \\< 8.2.0，则需要额外安装 Nunjucks 渲染插件，否则 `hexo-next-darkmode`​ 插件无法正常运行。\n\n---\n\n## 自定义样式\n\n暗黑/夜间模式激活后，会将 `darkmode--activated`​ CSS 类添加到 `body`​ 标签，你可以利用它覆盖插件默认自带的样式（如下所示），这样就可以实现暗黑/夜间模式样式的高度自定义，包括代码块颜色自定义等。\n\n```plain\n.darkmode--activated {\n  --body-bg-color: #282828;\n  --content-bg-color: #333;\n  --card-bg-color: #555;\n  --text-color: #ccc;\n  --blockquote-color: #bbb;\n  --link-color: #ccc;\n  --link-hover-color: #eee;\n  --brand-color: #ddd;\n  --brand-hover-color: #ddd;\n  --table-row-odd-bg-color: #282828;\n  --table-row-hover-bg-color: #363636;\n  --menu-item-bg-color: #555;\n  --btn-default-bg: #222;\n  --btn-default-color: #ccc;\n  --btn-default-border-color: #555;\n  --btn-default-hover-bg: #666;\n  --btn-default-hover-color: #ccc;\n  --btn-default-hover-border-color: #666;\n  --highlight-background: #282b2e;\n  --highlight-foreground: #a9b7c6;\n  --highlight-gutter-background: #34393d;\n  --highlight-gutter-foreground: #9ca9b6;\n}\n\n.darkmode--activated img {\n  opacity: 0.75;\n}\n\n.darkmode--activated img:hover {\n  opacity: 0.9;\n}\n\n.darkmode--activated code {\n  color: #69dbdc;\n  background: transparent;\n}\n```\n\n* 当某个标签不想使用暗黑/夜间模式时，可以添加 `darkmode-ignore`​ CSS 类到标签上。\n\n\\<span class\\=\"darkmode-ignore\"\\>😬\\<span\\>\n\n* 当然你也可以使用 `isolation: isolate;`​ CSS 样式来忽略暗黑/夜间模式。\n\n```plain\n.button {\n  isolation: isolate;\n}\n```\n\n* 也可以使用这种 `mix-blend-mode: difference`​ CSS 样式来还原暗黑/夜间模式。\n\n```plain\n.button {\n  mix-blend-mode: difference;\n}\n```\n\n# 参考\n\n[hexo-next-darkmode/README_CN.md at a2bce418a3df3a9a3409ce92e393cf5669647110 · rqh656418510/hexo-next-darkmode](https://github.com/rqh656418510/hexo-next-darkmode/blob/a2bce418a3df3a9a3409ce92e393cf5669647110/README_CN.md)\n","tags":["Hexo","Next","插件","暗黑模式"],"categories":["转载","其他"]},{"title":"Hexo博客Next主题添加动态标签词云","slug":"Hexo博客Next主题添加动态标签词云","url":"/2024/10/22/4de2bfd9848b/","content":"\n使用\"hexo-tag-cloud\"插件添加动态标签云。\n\n<!--more-->\n\n## 效果\n\n[损不足 - 奉有余 (leafminer.github.io)](https://leafminer.github.io/)\n\n## 安装插件\n\n* 进入到 hexo 的根目录，然后在 package.json 中添加依赖: \"hexo-tag-cloud\": \"2.1.\\*\"\n* 然后执行`npm install`命令\n* 或者`npm install --save hexo-tag-cloud`进行安装\n\n## 配置主题\n\n找到文件 hexo\\\\node\\_modules\\\\hexo-theme-next\\\\layout\\\\\\_macrosidebar.njk, 然后添加如下内容。\n\n```html\n{% if site.tags.length > 1 %}\n<script type=\"text/javascript\" charset=\"utf-8\" src=\"{{ url_for('/js/tagcloud.js') }}\"></script>\n<script type=\"text/javascript\" charset=\"utf-8\" src=\"{{ url_for('/js/tagcanvas.js') }}\"></script>\n<div class=\"widget-wrap\">\n  <h3 class=\"widget-title\">标签云</h3>\n  <div id=\"myCanvasContainer\" class=\"widget tagcloud\">\n    <canvas width=\"250\" height=\"250\" id=\"resCanvas\" style=\"width:100%\">\n      {{ list_tags() }}\n    </canvas>\n  </div>\n</div>\n{% endif %}\n```\n\n在你的Hexo博客根目录，找到 \\_config.yml 文件然后添加如下的配置项:\n\n```yaml\n# hexo-tag-cloud\ntag_cloud:\n    textFont: Trebuchet MS, Helvetica\n    textColor: '#333'\n    textHeight: 25\n    outlineColor: '#E2E1D1'\n    maxSpeed: 0.5\n    pauseOnSelected: false # true 意味着当选中对应 tag 时,停止转动\n```\n\n## 预览部署\n\n* 完成安装和显示，可以通过 `hexo clean && hexo g && hexo s` 来进行本地预览, `hexo clean`为必须选项。\n* PS:不要使用`hexo g -d` 或者` hexo d -g`这类组合命令。\n\n## 参考\n\n[hexo-tag-cloud - npm (npmjs.com)](https://www.npmjs.com/package/hexo-tag-cloud)","tags":["Hexo","Next","标签云","动态","tag_cloud"],"categories":["笔记","学习"]},{"title":"【转载】 鼠标点击特效","slug":"【转载】 鼠标点击特效","url":"/2024/10/22/c0d92f275632/","content":"\n原文地址：[鼠标点击特效 - 凯哥xyz - 博客园](https://www.cnblogs.com/qrk666/p/12878360.html)\n\n<!--more-->\n\n```javascript\n<script type=\"text/javascript\">\n  var a_idx = 0;\njQuery(document).ready(function($) {\n  $(\"body\").click(function(e) {\n    var a = new Array(\"富强\", \"民主\", \"文明\", \"和谐\", \"自由\", \"平等\", \"公正\" ,\"法治\", \"爱国\", \"敬业\", \"诚信\", \"友善\");\n    var $i = $(\"<span/>\").text(a[a_idx]);\n    a_idx = (a_idx + 1) % a.length;\n    var x = e.pageX,\n      y = e.pageY;\n    $i.css({\n      \"z-index\": 999999999999999999999999999999999999999999999999999999999999999999999,\n      \"top\": y - 20,\n      \"left\": x,\n      \"position\": \"absolute\",\n      \"font-weight\": \"bold\",\n      \"color\": \"#ff6651\"\n    });\n    $(\"body\").append($i);\n    $i.animate({\n      \"top\": y - 180,\n      \"opacity\": 0\n},\n1500,\nfunction() {\n$i.remove();\n});\n});\n});\n</script>\n```\n\n接着插入一段引用js\n\n```javascript\n<script language=\"javascript\" type=\"text/javascript\" src=\"<a href=\"https://blog-static.cnblogs.com/files/qrk666/main.js\">https://blog-static.cnblogs.com/files/qrk666/main.js</a>\">\n</script>\n```\n","tags":["特效","JavaScript","鼠标","今日","js"],"categories":["转载","其他"]},{"title":"Hexo博客Next主题修改加载特效","slug":"Hexo博客Next主题修改加载特效","url":"/2024/10/22/f85ae47c487c/","content":"\n修改主题配置文件`_config.next.yml`\n\n<!--more-->\n\n```yaml\npace:\n  enable: true\n  # All available colors:\n  # black | blue | green | orange | pink | purple | red | silver | white | yellow\n  color: black\n  # All available themes:\n  # big-counter | bounce | barber-shop | center-atom | center-circle | center-radar | center-simple\n  # corner-indicator | fill-left | flat-top | flash | loading-bar | mac-osx | material | minimal\n  theme: loading-bar\n```\n\n# 参考\n\n[hexo next8.20.0 主题美化 - 悠心不已 - 博客园 (cnblogs.com)](https://www.cnblogs.com/jinwei26/articles/18460312)","tags":["Hexo","Next","加载","pace"],"categories":["笔记","其他"]},{"title":"Hexo博客添加首页文章置顶","slug":"Hexo博客添加首页文章置顶","url":"/2024/10/22/f157ba7b640c/","content":"\n\n使用\"hexo-generator-index-pin-top\"插件实现首页文章列表中单篇文章置顶。\n<!--more-->\n\n# 安装插件\n\n[hexo-generator-index-pin-top](https://github.com/netcan/hexo-generator-index-pin-top)插件，实现首页的文章置顶功能\n```\nnpm install --save hexo-generator-index-pin-top\n```\n\n# 置顶文章\n\n给文章属性添加`top: true`​就可以实现置顶:\n\n```yaml\n---\ntitle: 每日早报--认识世界\ndate: 2024-10-21T23:57:06Z\nlastmod: 2024-10-21T23:58:02Z\ncategories:\n\t- 笔记\n\t- 其他\ntags: \n\t- 热点\n\t- API \n\t- 全球 \n\t- 今日\n\t- 新闻\ncomments: true\ntop: true\n---\n```\n\n# 添加置顶图标 \n打开'hexo\\node_modules\\hexo-theme-next\\layout\\_macro' 目录下的 post.njk 文件，在标签中插入如下代码： \n\n```html\n{% if post.top %}\n <i class=\"fa fa-thumb-tack\"></i>\n <font color=7D26CD>置顶</font>\n <span class=\"post-meta-divider\">|</span>\n{% endif %}\n```\n![insert point](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730340888356-bc8d5c69-316e-477a-8888-96ab6fcb0db3.png?x-oss-process=image%2Fformat%2Cwebp)\n\n效果：\n![insert point](https://cdn.nlark.com/yuque/0/2024/png/12885947/1730340918819-c90cd06e-3cea-4d57-92fc-806705e85a5a.png?x-oss-process=image%2Fformat%2Cwebp)\n\n# 参考\n\n[从Hexo文章置顶看需求分析思路 － 小专栏](https://xiaozhuanlan.com/topic/2604957381)\n","tags":["Hexo","首页","插件","置顶"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题解决不显示外链图片的问题","slug":"Hexo博客Next主题解决不显示外链图片的问题","url":"/2024/10/22/68f75ac070e2/","content":"\n**问题描述:** Hexo文章中采用外链加载的图片无法显示。\n\n<!--more-->\n\n# 问题原因\n\n防盗链。部分网站不允许图片外链，只允许本网站才能显示图片，外部网站加载图片就会报错。通过对请求方的 **Referer** 进行判断过滤，确认是否可以访问。\n\n# 解决办法\n\n【Next主题】主题文件夹内的(hexo\\\\node\\_modules\\\\hexo-theme-next\\\\layout\\\\\\_partials\\\\head) **head.njk**文件中，添加meta信息\n\n```plain\n<meta name=\"referrer\" content=\"no-referrer\" />\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729527335903-a66b9a72-3937-4216-b2b0-8e4cc9b392a7.png)​\n\n# 参考\n\n[解决hexo引入图床，不显示图片的问题 - 一叶知秋](https://lixiaoyan999.github.io/2024/04/02/%E8%A7%A3%E5%86%B3hexo%E5%BC%95%E5%85%A5%E5%9B%BE%E5%BA%8A%EF%BC%8C%E6%89%8B%E6%9C%BA%E5%92%8Cweb%E4%B8%8D%E6%98%BE%E7%A4%BA%E5%9B%BE%E7%89%87%E7%9A%84%E9%97%AE%E9%A2%98/#)\n","tags":["Hexo","Next","图片显示","防盗链","meta"],"categories":["笔记","学习"]},{"title":"每日早报--认识世界","slug":"每日早报--认识世界","url":"/2024/10/21/ad715d53afba/","content":"\n# <center>今日新闻</center>\n<center><span id=\"date\"></span></center>\n<script>document.getElementById('date').textContent = new Date().toLocaleDateString();</script>\n\n<!--more-->\n\n![](https://v2.alapi.cn/api/zaobao?token=PjSXcfOsbFbutaW9&format=image)\n","tags":["新闻","API","今日","热点","全球"],"categories":["笔记","其他"]},{"title":"Hexo博客Next主题添加动态标题","slug":"Hexo博客Next主题添加动态标题","url":"/2024/10/21/8803d6a9e06d/","content":"\n直接在`hexo\\node_modules\\hexo-theme-next\\layout\\_layout.njk`​文件中添加如下代码：\n<!--more-->\n```javascript\n<script type=\"text/javascript\">\n    var OriginTitile=document.title,st;\n    document.addEventListener(\"visibilitychange\",function(){\n        document.hidden?(document.title=\"ヽ(●-`Д´-)ノ别走啊！\",clearTimeout(st)):(document.title=\"(Ő∀Ő3)ノ来了啊！\",st=setTimeout(function(){document.title=OriginTitile},3e3))\n    })\n</script>\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729158708074-c3c3fbe9-a4ea-45ae-8ba8-760cb5514c17.png)​\n\n## 参考\n\n[hexo+github搭建博客(超级详细版，精细入微) - 个人文章 - SegmentFault 思否](https://segmentfault.com/a/1190000021614307?sort=newest#item-7-10)\n","tags":["Hexo","Next","博客","主题","动态标题"],"categories":["笔记","学习"]},{"title":"Hexo博客Next主题添加公众号二维码","slug":"Hexo博客Next主题添加公众号二维码","url":"/2024/10/21/be743ddf561b/","content":"\n通过改动模板文件，在侧边栏和文章底部添加公众号二维码。\n\n<!--more--> \n\n## 添加到Next主题侧边栏\n\n1. 将图片放入博客根目录下的./themes/next/source/images/目录中，并将图片改名为wechat\\_channel.png\n2. 编辑`themes/next/layout/_macro/sidebar.njk`​文件。\n\n在里面搜索theme.back2top.enable，在这个if语句之后添加下面的代码\n\n```html\n<div class=\"wechat_channel\">\n  <br>\n  <!-- 这里添加你的二维码图片 -->\n  <img src =\"/images/wechat_channel.png\">\n  <!-- <span>公众号</span> -->\n</div>\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729194189399-62740420-6785-4412-ae43-3bc898002824.png)​\n\n## 添加到文章底部\n\n编辑themes/next/layout/\\_partials/post/post-copyright.njk文件，在底部的\\</div\\>上面增加下述代码，\n\n```html\n<div class=\"wechat_channel\">\n  <br>\n  <!-- 这里添加你的二维码图片 -->\n  <img src =\"/images/wechat_channel.png\">\n</div>\n```\n\n## 参考\n\n[hexo next主题新增微信公众号二维码显示 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/463530897)\n","tags":["Hexo","Next","博客","主题","公众号","二维码"],"categories":["笔记","学习"]},{"title":"【转载】 Hexo 的一些冷门小问题——category_map和permalink","slug":"【转】Hexo 的一些冷门小问题——category_map和permalink","url":"/2024/10/21/b74b8ec7e417/","content":"\n初入 Hexo 模板开发，难免要熟悉 Hexo 程序本身的一些特性和使用操作，于是就立下了这篇博文，之后也会陆陆续续进行更新和完善。\n<!--more-->\n## 分类名改成英文\n\n分类名称默认是你在文章里面设置的，如果是中文分类名，那么路径名也是中文了，特别别扭。我在文档上查到了一个名为 `category_map`​ 的设置项，但文档上并没有详细的说明。直到我看到这个 [Issue](https://github.com/hexojs/hexo/issues/908) 之后瞬间明白，就是一个键值对嘛。\n\n```plain\n// Before\nhttp://localhost:4000/进击的码农/js-hover-dropdown-menu/\n\n// After\nhttp://localhost:4000/coding/js-hover-dropdown-menu/\n```\n\n修改办法就是打开你的 Hexo 配置文件 `_config.yml`​，修改 `category_map`​ 属性，大概按照这样的格式：\n\n```plain\ncategory_map:\n  '随笔与杂谈': essay\n  '做个技术宅': tech\n  '进击的码农': coding\n  '设计新视界': design\n  '有趣的分享': share\n```\n\n还有一个类似的属性 `tag_map`​ 也是同理。\n\n## 文章链接生成\n\nHexo 默认根据文件名来生成博文的 URL，你也可以把它当作一个页面的形式去设置，在文章顶部添加 `permalink`​ 设置就可以了，但保罗觉得也许并不应该这么做。可以尝试把文件名写的短一些？\n\n```plain\n// Before:\nhttp://localhost:4000/coding/js-hover-dropdown-menu/\n\n// After:\nhttp://localhost:4000/js-hover-dropdown-menu/\n```\n\n```markdown\n---\ntitle: 使用原生 JS 写一个悬浮下拉菜单\ncategory: 进击的码农\ntags: JavaScript\npermalink: js-hover-dropdown-menu\n---\n```\n\n---\n\n#### Paul\n\n特立独行的一只前端菜狗。本站未注明转载的文章均为原创，并采用 [CC BY-NC-SA 4.0](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh) 授权协议，转载请注明来源，谢谢！如本站内容对你有所帮助的话，不妨 [捐助支持](https://paul.ren/donate) 一下？同时欢迎订阅关注 [我的日记](https://paul.ren/note)，唠嗑（分享）每日的折腾经历。\n\n## 原文地址\n\n[Hexo 的一些冷门小问题 - 保罗的小宇宙 (paugram.com)](https://paugram.com/coding/hexo-secret-usage.html)\n","tags":["Hexo","博客","category_map","permalink"],"categories":["转载","其他"]},{"title":"Hexo博客Next主题添加每日早报","slug":"Hexo博客Next主题添加每日早报","url":"/2024/10/21/1d2a6f85d3f7/","content":"\n通过Alapi提供的API实现每日早报的生成并在hexo博客中展示。\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729504809997-7a6f9e65-e4bb-41fe-9f1e-8f87be2a1892.png?x-oss-process=image%2Fcrop%2Cx_0%2Cy_0%2Cw_658%2Ch_244)​\n<!-- more -->\n\n# Alapi官网注册\n\nAlapi官网地址 [https://www.alapi.cn/](https://www.alapi.cn/)\n\n## 获得Token密钥\n\n**接口管理**，**更新Token密钥**\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729509991587-6f6a2973-9959-4a75-87cb-943936032ff3.png)​\n\n# 生成\n\n复制密钥放到下面的网址中：\n\n```html\nhttps://v2.alapi.cn/api/zaobao?token=你的token密钥&format=image\n```\n\nAPI文档：[每日60秒早报-ALAPI](https://www.alapi.cn/api/view/93)\n\n## 插入文章\n\n在Markdown文档中加入：\n\n```markdown\n![](https://v2.alapi.cn/api/zaobao?token=你的token密钥&format=image)\n```\n\n## Html页面\n\n在html页面中加入：\n\n```html\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n  <head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>全屏图片展示</title>\n    <style>\n      body, html {\n        margin: 0;\n        padding: 0;\n        width: 100%;\n        height: 100%;\n        overflow: hidden;\n      }\n      .full-screen-image {\n        width: 100%;\n        height: 100%;\n        object-fit: cover; /* 图片将覆盖整个容器 */\n      }\n    </style>\n  </head>\n  <body>\n    <img src=\"https://v2.alapi.cn/api/zaobao?token=你的token密钥&format=image\" alt=\"全屏图片\" class=\"full-screen-image\">\n  </body>\n</html>\n```\n\n# 参考\n\n[博客新增每日早报api，网站增加每日早报功能 - AomanHao的博客空间](https://www.aomanhao.top/archives/316/)\n","tags":["Hexo","博客","新闻","API","Html单页"],"categories":["笔记","其他"]},{"title":"【转载】Hexo博客添加背景动态效果","slug":"【转】Hexo博客添加背景动态效果","url":"/2024/10/19/dc63ecb1142e/","content":"\nNext 8.0.2 之后，Canvas\\_nest不再被原生支持。所以需要在`hexo/source/_data/`​下创建`footer.njk`​文件  \n在文件中添加\n\n<!--more--> \n\n```javascript\n<script color=\"0,0,255\" opacity=\"0.5\" zIndex=\"-1\" count=\"99\" src=\"https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js\">\n</script>\n```\n\n​并将其中的参数修改为自己想要的值。  \n最后再在主题配置文件`_config.next.yml`​中，修改`custom_file_path`​，将`footer: source/_data/footer.njk`​的注释删除即可。\n\n## 原文地址\n\n[Hexo + NexT 深度个性化配置 (2020.1 更新) | UPWNothing&apos;s Playground](https://upwnothing.github.io/zh-CN/44bf8def/#%E6%B7%BB%E5%8A%A0%E8%83%8C%E6%99%AF%E5%8A%A8%E6%80%81%E6%95%88%E6%9E%9C)\n","tags":["Hexo","Next","博客","动态背景"],"categories":["转载","其他"]},{"title":"用npm升级Hexo版本","slug":"用npm升级Hexo版本","url":"/2024/10/19/b90e47c7e5a0/","content":"\n使用npm命令简单快捷的升级Hexo，主题和插件的版本。\n## 注意：\n更新主题和插件，会覆盖修改的内容，提前备份。Next主题配置文件'_config.next.yml'最好放在博客根目录下。\n<!--more--> \n## npm镜像服务器更换\n\n国内的镜像服务器\n\n```plain\n# 镜像服务器\nnpm config set registry https://registry.npmmirror.com\n\n# 更新npm\nnpm install -g npm@latest\n```\n\n## 查看当前Hexo版本\n\n```plain\nhexo --version\n```\n\n## 安装npm-check和npm-upgrade\n\n```plain\nnpm install -g npm-check\nnpm install -g npm-upgrade\nnpm-check\n```\n\n## 升级Hexo\n\n首先进入Hexo的主目录，执行：\n\n```plain\n# 更新package.json\nnpm upgrade\n\nnpm update\n```\n\n## 参考\n\n1. [Hexo版本升级指南 | UPWNothing&apos;s Playground](https://upwnothing.github.io/zh-CN/3ba3be9/?highlight=hexo)\n2. [npmmirror 镜像站](https://npmmirror.com/)\n","tags":["Hexo","Next","博客","笔记","升级"],"categories":["笔记","学习"]},{"title":"对博客内文章进行分类(categories)和添加标签(tags)","slug":"对博客内文章进行分类(categories)和添加标签(tags)","url":"/2024/10/19/4625d0b7ed27/","content":"\n之前在博文没有对分类和标签进行过有序整理，基本上想到什么，就随便写一下。随着博文数量的增多，这种随意性会带来很多麻烦。因此在这里对其定义一下，以整理好当前及之后的博文。\n<!--more--> \n## 原则\n|  | **<font style=\"color:rgb(0, 0, 0);\">分类</font>** | **<font style=\"color:rgb(0, 0, 0);\">标签</font>** |\n| :--- | :--- | :--- |\n| <font style=\"color:rgb(0, 0, 0);\">排他性</font> | <font style=\"color:rgb(0, 0, 0);\">是</font> | <font style=\"color:rgb(0, 0, 0);\">否</font> |\n| <font style=\"color:rgb(0, 0, 0);\">关系</font> | <font style=\"color:rgb(0, 0, 0);\">从属</font> | <font style=\"color:rgb(0, 0, 0);\">相关(关联）</font> |\n| <font style=\"color:rgb(0, 0, 0);\">创建</font> | <font style=\"color:rgb(0, 0, 0);\">事先规划</font> | <font style=\"color:rgb(0, 0, 0);\">随时增加</font> |\n| <font style=\"color:rgb(0, 0, 0);\">代价</font> | <font style=\"color:rgb(0, 0, 0);\">高</font> | <font style=\"color:rgb(0, 0, 0);\">低</font> |\n\n\n## 分类(categories)\n文章**类型**或者文章**涉及的主题**。\n\n1. **定义**：\n    - 分类是对内容进行分组的一种更为结构化的方式。\n    - 它们通常按照预定义的层次结构进行排列。\n2. **用途**：\n    - 用于将相关内容聚合在一起，形成有逻辑的导航路径。\n    - 有助于用户理解网站的整体结构和内容布局。\n3. **特点**：\n    - 通常是<font style=\"color:#DF2A3F;\">有限的且固定的</font>数量。\n    - 具有明确的<font style=\"color:#DF2A3F;\">层级关系</font>，例如大类下面有小类。\n4. **示例**：\n    - 在电商网站上，商品可能会被分为“电子产品”、“服装”、“家居用品”等大类。\n\n## 标签(tags)\n文章**内容的关键词**。\n\n1. **定义**：\n    - 标签是对内容进行描述的小型关键字或短语。\n    - 它们通常是自由形式的，可以根据内容的特定方面或主题进行标记。\n2. **用途**：\n    - 用于帮助用户快速找到相关内容。\n    - 可以应用于单个项目或多个项目，支持交叉引用。\n3. **特点**：\n    - 灵活性高，数量不限。\n    - 不需要严格的层次结构。\n4. **示例**：\n    - 在一篇文章中可能会使用“科技”、“创新”、“人工智能”等标签。\n\n在实际应用中，许多网站会同时使用标签和分类来优化内容的组织和检索。例如，一篇文章可能会被归类到一个主分类下，同时附带多个相关的标签，这样既保留了整体的结构性，又能提供细致的搜索选项。\n\n## 我的分类\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729274560504-9a417359-1ecc-43af-8894-4ffdf6aab2c6.png)\n\n## 参考\n1. [个人博客的分类划分 (noodlefighter.com)](https://noodlefighter.com/posts/2836/)\n2. [如何规划blog的标签（tag）和分类 - 心内求法 - 博客园 (cnblogs.com)](https://www.cnblogs.com/holbrook/archive/2012/11/05/2755268.html)\n\n\n\n","tags":["Hexo","博客","分类","标签"],"categories":["原创","其他"]},{"title":"平时使用的字体讲究还挺多","slug":"平常使用的字体讲究还挺多","url":"/2024/10/19/391b7a4df277/","content":"\n字体，作为文字的外观形式，具有特定的风格和设计。在计算机领域中，字体是指由一系列具有相同风格或主题的字符（如字母、数字、标点等）所组成的集合，这些字符通常被设计为一个特定的尺寸，但也可以进行缩放以适应不同的显示或打印需求。\n<!--more--> \n从设计角度看，字体不仅仅是文字的外观，更是文化和艺术的一种表现形式。每一种字体都反映了其设计者的审美观念、创作意图和时代背景。字体还承载着信息的传递功能。不同的字体风格可以传达不同的情感和信息。此外，字体的大小、颜色、行距等排版因素也会影响信息的可读性和视觉效果。在排版和设计中，选择合适的字体至关重要。不同的字体适用于不同的场景和目的。例如，在正式的文档或报告中，通常使用简洁、易读的字体，以确保信息的清晰传递；而在广告或宣传材料中，则可能使用更具个性和吸引力的字体来吸引观众的注意力。\n\n**Microsoft office Word 中的字体列表**\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729266033771-31be0017-4aae-4ffa-815a-4ab89aa08d27.png)\n\n---\n\n## <font style=\"color:#0f4761;\">字体的种类</font>\n分为6种\n\n#### _<font style=\"color:#0f4761;\">1. </font>__**<font style=\"color:#0f4761;\">serif </font>**__**<font style=\"color:#0f4761;\">（衬线类）</font>**_\n字母末段带有装饰线的是serif。\n\n左边的就是衬线类字体Georgia，右边的就是无衬线类字体Verdana\n\n\"一般来说，serif比较庄重，sans-serif相对活泼。因为serif带有衬线，在小字号下，不如sans-serif清晰，所以serif字体可以用作标题，sans-serif字体可以用作正文。\n\n```yaml\nfont-family: Garamond, serif;\nfont-family: Georgia, serif;\nfont-family: 'Times New Roman', Times, serif;\nfont-family: 'Bookman Old Style', serif;\nfont-family: 'Palatino Linotype', 'Book Antiqua', Palatino, serif;\n```\n\n#### _<font style=\"color:#0f4761;\">2. </font>__**<font style=\"color:#0f4761;\">sans-serif</font>**__**<font style=\"color:#0f4761;\">（无衬线类）</font>**_\n字母末段无装饰线的就是sans-serif。\n\n**1. Verdana**\n\nVerdana几乎在所有平台上都预装了，所以是sans-serif字体的第一选择。它的特点就是字母间距比较宽，字母本身的宽度也比较大，所以比较容易阅读。\n\n**2. Trebuchet**\n\nTrebuchet的特点也是宽度大，形状清晰。\n\n**3. Helvetica**\n\nHelvetica的特点是小写字母比较大。\n\n```yaml\nfont-family: Arial, Helvetica, sans-serif;\nfont-family: 'Arial Black', Gadget, sans-serif;\nfont-family: Impact, Charcoal, sans-serif;\nfont-family: 'Lucida Sans Unicode', 'Lucida Grande', sans-serif;\nfont-family: 'MS Sans Serif', Geneva, sans-serif;\nfont-family: 'MS Serif', 'New York', sans-serif;\nfont-family: Symbol, sans-serif;\nfont-family: Tahoma, Geneva, sans-serif;\nfont-family: 'Trebuchet MS', Helvetica, sans-serif;\nfont-family: Verdana, Geneva, sans-serif;\nfont-family: Webdings, sans-serif;\nfont-family: Wingdings, 'Zapf Dingbats', sans-serif;\n```\n\n#### _<font style=\"color:#0f4761;\">3. </font>__**<font style=\"color:#0f4761;\">Handwritten Fonts</font>**__**<font style=\"color:#0f4761;\">（手写类字体）</font>**_\n模仿人的笔迹，一般只在体现某种艺术效果时使用。\n\n```yaml\nfont-family: 'Comic Sans MS', cursive;\n```\n\n#### _<font style=\"color:#0f4761;\">4. </font>__**<font style=\"color:#0f4761;\">Fixed-width Fonts</font>**__**<font style=\"color:#0f4761;\">（等宽字体）</font>**_\n每个字母的宽度相等，一般用来模拟命令行输入和打字机效果，现在多用于展现程序源码。\n\n```yaml\nfont-family: Courier, monospace;\nfont-family: 'Courier New', Courier, monospace;\nfont-family: 'Lucida Console', Monaco, monospace;\n```\n\n#### _<font style=\"color:#0f4761;\">5. </font>__**<font style=\"color:#0f4761;\">Novelty Fonts</font>**__**<font style=\"color:#0f4761;\">（花式字体）</font>**_\n追求装饰性，20世纪之前的印刷品都用这类字体。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729265739797-45b8755a-e97a-4967-a409-d3db2d5068ce.png)\n\n#### _<font style=\"color:#0f4761;\">6. </font>__**<font style=\"color:#0f4761;\">Dingbat Fonts</font>**__**<font style=\"color:#0f4761;\">（符号字体）</font>**_\n这类字体不是字母，而是输出各种各样的符号。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729265676563-2e86558e-6051-474d-a0f0-1dcdae728bc7.png)\n\n---\n\n## **<font style=\"color:#0f4761;\">互联网安全字体（</font>****<font style=\"color:#0f4761;\">web safe fonts</font>****<font style=\"color:#0f4761;\">）</font>**\n所有平台都预装的字体，被称为\"安全字体\"，因为它可以保证所有用户的视觉效果是一样的。以下九种字体就是\"安全字体\"：Arial、Arial Black、Comic Sans MS、Courier New、Georgia、Impact、Times New Roman、Trebuchet MS和Verdana。\n\n---\n\n## <font style=\"color:#0f4761;\">学术与字体</font>\n一般来说，顶级学术期刊在正式发表时会采用专业且易读的字体，如Times New Roman、Calibri或Arial等。Nature期刊有自己设计的Harding字体，用于正文和标题等。同时，其子刊的标题和图题可能会使用不同的字体，如Whitney Book等。\n\n以下是排名前10的学术期刊及其所使用的字体：\n\n1. **Nature**\n    - 字体：Anita Harding\n2. **New England Journal of Medicine (NEJM)**\n    - 字体：Georgia\n3. **Science**\n    - 字体：Arial 或 Helvetica\n4. **Cell**\n    - 字体：Helvetica 或 Arial\n5. **Nature Reviews Molecular Cell Biology**\n    - 字体：Times New Roman\n6. **Nature Reviews Cancer**\n    - 字体：Times New Roman\n7. **Nature Reviews Drug Discovery**\n    - 字体：Times New Roman 和 Arial\n8. **Quarterly Journal of Economics**\n    - 字体：Times New Roman（正文字体），Symbol（用于希腊和特殊字符）\n9. **Nature Reviews Materials**\n    - 字体：未明确提及，建议查看期刊的官方指南\n10. **Nature Reviews Clinical Oncology**\n    - 字体：未明确提及，建议查看期刊的投稿指南\n\n‍\n\n## <font style=\"color:#0f4761;\">毕业论文常用的字体</font>\n1. Times New Roman\n    1. 常用于正文，因为它易于阅读，并且在打印时看起来清晰。\n    2. 字号：通常使用12号字体。\n2. Arial\n    1. 另一个常用的选择，特别是当论文需要在线提交或电子阅读时。\n    2. 字号：通常使用11或12号字体。\n3. Helvetica\n    1. 在一些设计或艺术相关的论文中可能会用到，因为它具有现代感。\n\n---\n\n## <font style=\"color:#0f4761;\">简历如何选字体选择</font>\n你的**字体必须在大小或格式上易于阅读**\n\n### <font style=\"color:#0f4761;\">撰写简历推荐字体</font><font style=\"color:#0f4761;\">--</font><font style=\"color:#0f4761;\">英文简历</font>\n+ **Arial** 线条简洁，易于阅读\n+ **Calibri** 安全、易读性高的字体\n+ **Cambria** 同样安全可靠\n+ **Didot** 适合用在简历标题上\n+ **Garamond** 在印刷品和屏幕中看起来很精致\n+ **Georgia** 具有在小字下仍能清晰辨识的特性，可读性十分优良\n+ **Helvetica** “专业、轻松、真诚”并且“商业性强”\n+ **Times New Roman** 干净、易于阅读\n+ **Trebuchet MS** 有质感，且更具现代风格\n\n---\n\n## <font style=\"color:#0f4761;\">参考</font>\n1. [Helvetica 字体的      50 年 - 阮一峰的网络日志 (ruanyifeng.com)](https://www.ruanyifeng.com/blog/2008/06/helvetica_50th_anniversary.html)\n2. [字体笔记 - 阮一峰的网络日志      (ruanyifeng.com)](https://www.ruanyifeng.com/blog/2008/06/typography_notes.html)\n3. [The      Principles of Beautiful Typography — SitePoint](https://www.sitepoint.com/principles-beautiful-typography/)\n4. [英文简历如何选择字体？      - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/38010761)\n\n","tags":["字体","种类","易读","简历"],"categories":["笔记","学习"]},{"title":"Hexo博客Next主题添加algolia搜索","slug":"Hexo博客Next主题添加algolia搜索","url":"/2024/10/18/c5cd3b3780fc/","content":"\n为Hexo博客系统中的Next主题添加Algolia搜索功能\n\n<!--more--> \n\n## 注册[Sign in | Algolia](https://dashboard.algolia.com/users/sign_in)\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729186832132-e842bb62-33ef-4af4-816a-6ff74a4e093e.png)​\n\n新建一个Index，这里创建了一个名为leafminer-blog的索引。\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729189311007-77eb9bbf-d16e-447f-9277-2e6a72d826c2.png)​\n\n## 安装hexo-algolia\n\nhexo-algolia 是一个由社区提供的 Hexo 插件。\n\n```plain\nnpm install --save hexo-algolia\n```\n\n配置文件放在根目录下的`_config.yml`​中，而不是主题文件夹下的`_config.yml`​, 否则博客的搜索是搜索不到任何内容的，我们需要通过 `Hexo Aloglia`​ 获取站点数据。\n\nHexo博客根目录下的`_config.yml`​中，配置如下：\n\n```yaml\nalgolia:\n  applicationID: 'applicationID' #Algolia Application ID\n  apiKey: 'apiKey' #A Search-Only API key\n  indexName: '...' #The name of the Algolia index to use\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729189864115-05ef9ed2-2109-404e-9873-944be5d7d9ba.png)​\n\n## Hexo Aloglia获取站点数据\n\n必须提供一个名为 `HEXO_ALGOLIA_INDEXING_KEY`​ 的环境变量作为单独的 API 密钥。创建它并赋予其以下有限的写访问权限：添加记录、删除记录、列出索引、删除索引。\n\n​`HEXO_ALGOLIA_INDEXING_KEY=[Write API Key]`​\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729189817603-52e8f420-c000-440c-a885-3fd647366d62.png)​\n\n```bash\nexport HEXO_ALGOLIA_INDEXING_KEY=\n```\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729190141176-9d66d152-ee3e-483c-8634-e9fb0064ba57.png)​\n\n使用插件提供的命令来推送你的内容到Algolia。在 `hexo`​站点根目录下执行`hexo algolia`​ 来搜集数据更新到我们刚创建的 `Index`​ 中,我们可以在网页中看到所有的数据，如下图：\n\n​![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1729190857880-bf3194d8-0f7a-4db7-a81a-106321db1147.png)​\n\n## 在Next主题中启用搜索功能\n\n确保在Next主题的配置文件中启用了Algolia搜索功能。这通常涉及到在`theme_config.yml`​中设置`algolia_search.enable`​为`true`​。\n\n```yaml\n# 在 NexT 主题的配置文件里\nalgolia_search:\n  enable: true\n  hits:\n    per_page: 10\n```\n\n## 重新部署\n\n执行`hexo clean && hexo g -d`​重新部署，部署完成后再次访问，即可看到搜索功能已经配置完成。\n\n## 参考\n\n1. [hexo博客添加algolia搜索-腾讯云开发者社区-腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/2341755)\n2. [https://npmjs.com/hexo-algolia#api-key](https://npmjs.com/hexo-algolia#api-key)\n","tags":["Hexo","Next","博客","搜索","笔记","algolia"],"categories":["笔记","其他"]},{"title":"【文献阅读】药食两用的枸杞属","slug":"药食两用的枸杞属","url":"/2024/10/15/74a70a62f3b4/","content":"\n\n枸杞(_Lycium barbarum_ and _Lycium chinense_)作为国内的保健品，深受人们喜爱。它既是中药，也是饮食中常用的调料。很多人也将枸杞饮品，当做养生职务。尽管它如此受欢迎，但是现有研究仍缺少对枸杞完整而严格的价值评估。\n<!--more--> \n---\n\n#### 研究目的\n- [x] 使用了哪些品种，以及枸杞的用途在空间和时间上是如何发展的。\n- [x] 不同文化背景的地区之间的用途如何不同。\n- [x] 传统和当前的治疗和预防性健康主张与药理学发现之间的关系。 \n\n#### 研究方法\n从植物区系、分类学、植物学和民族植物学数据库、研究文章、近2000年历史中草药的最新版本以及药典中检索信息。\n\n#### 研究结果\n在总共97个物种中，有31个在世界范围内被用作食物和/或药物。通常使用。虽然85%的枸杞品种出现在美洲和非洲，但26%的枸杞被使用，但14种枸杞中有9种在欧亚大陆。在中国，枸杞属有七种两变种，其中四种已被不同民族使用。只有L. barbarum和L. chinense被转化为全球贸易商品。在中国，基于“名字”枸杞”, 它们的使用可以追溯到过去两千年。枸杞果实用于抗衰老、改善视力和营养，早在公元前500年就有记载。最近的发现解释了传统用途的药理学基础。特别是枸杞多糖、玉米黄质双棕榈酸酯、维生素、甜菜碱和混合提取物被报道具有抗衰老、改善视力和抗疲劳的作用。\n\n#### 结论\n历史、民族植物学、植物学、植物化学和药理学数据的整合使人们能够详细了解枸杞及其更广泛的潜力。它强调，到目前为止，人们只关注了两个物种，该属植物可能会产生多种不同性质的其他产品。\n\n---\n\n参考资料：\n\nRuyu, Yao, Michael, et al. The genus Lycium as food and medicine: A botanical, ethnobotanical and historical review.[J]. Journal of ethnopharmacology, 2018.\n\n","tags":["生物","中药","枸杞","评估","药理"],"categories":["笔记","科研"]},{"title":"“病”的来历——病是个体与环境的冲突","slug":"“病”的来历——病是个体与环境的冲突","url":"/2024/10/10/ec06eeb0adff/","content":"\n\n<font style=\"color:rgb(37, 66, 100);\">对于“疾病”，新华字典和汉语词典的解释有：</font>\n\n> **<font style=\"color:rgb(37, 66, 100);\">疾</font>**<font style=\"color:rgb(37, 66, 100);\">： 病，身体不舒适</font>\n>\n> **<font style=\"color:rgb(37, 66, 100);\">病</font>**<font style=\"color:rgb(37, 66, 100);\">：生物体发生不健康的现象</font>\n>\n> [疾病  [ jí bìng ]](https://dict.baidu.com/s?wd=%E7%96%BE%E7%97%85&ptype=zici)：<font style=\"color:rgb(51, 51, 51);\">病的总称</font>\n>\n<!--more--> \n---\n\n#### 先说说那些心理上的“病”，它们也符合字典对疾病的解释——不舒适\n《好妈妈胜过好老师》有一节描述“多动症”，提到多动症不是一种病，更像是给人的“正常行为现象”创造出来的。那些注意力不集中，坐不住的儿童，往往会被“诊断”为多动症。这样去看很多病的产生，是先定下了“果”，之后去凑“因”。这种情况下，往往不是因产生了果，而是果产生的因，所谓的因果倒置。心理上的疾病，真的存在么？我想是存在的！因为那种不舒适每个人都会有，或在不同时间、不同地点，与不同的人相处。\n\n很多病的由来是由一个权威人定义的，而非客观的依据定义的。权威的“正常人”不容忍周围与自己格格不入的异常，不想去理解他们想不通的行为，就会将那个异常定义为“病”。这让我又想到最近看的电影《刺猬》，两个主角——<font style=\"color:rgb(113, 119, 125);\">“精神病人”王战团和自闭口吃少年周正</font>。他们的病也像是多动症的来历意义在来历一样，一种不被周围人认可状态。他们不是主流，他们不迎合主流的设定，在周围人看来那就是病。如果说电影中的两个人是一种不融于当前环境的“病”，我们站在观察者的角度去看主角周围的人，发现这些周围人也处于有“病”的状态。被主流排斥在外的，被定义成了病。\n\n> <font style=\"color:rgb(17, 17, 17);\">我从荒野来，</font>\n>\n> <font style=\"color:rgb(17, 17, 17);\">要到大海去，</font>\n>\n> <font style=\"color:rgb(17, 17, 17);\">远方的汽笛已经响起，</font>\n>\n> <font style=\"color:rgb(17, 17, 17);\">生活却拦住了我的去路。</font>\n>\n> <font style=\"color:rgb(17, 17, 17);\">她赠予我故事，</font>\n>\n> <font style=\"color:rgb(17, 17, 17);\">我为她写诗。</font>\n>\n> <font style=\"color:rgb(17, 17, 17);\">--《刺猬-情诗》</font>\n>\n\n正如《天才在左疯子在右》这本书描述的精神病人的“世界”，他们的世界观、人生观和价值观，不同于主流，所以他们是病人。大环境下的疯子，他们自己的观点往往“疯狂”而且“天才”。他们也有自己的逻辑链，在自己的世界中融洽得很。如果你放弃主流观念，你会很认同他们，因为他们的观念在一定角度上也是合理的。王战团不就是这样么，被主流卡住的人。\n\n如果我们周围的人都一样，也就不存在所谓的病了吧，即便有些客观定义下的病。我们想脱离不舒适的氛围，在没有能力改变环境的条件下，会让自己去迎合环境获得舒适感。有能力改变周围环境的人，能够从心理和认知上摆脱不舒适，往往导致与他格格不入的周围人处于不舒适状态，这些周围人也就有了“病”。这样的病或大或小，或长或短，环境在变，那么病也一直在变。有些时候是我们创造了“病”的环境，不同的环境不同的病。有主流的环境，少部分不容的人会病。没主流的环境呢？都是病人吧，对立的双方互不相容，大家都有病。\n\n生而为人，想没有病真的好难啊！让人感觉心理上的病，多是主观的，不是客观的。就像精神病人，他们在自己的“世界”里大概也是舒适的，悲剧的是他们来错了世界，这个主流世界与他们的世界并不重合。这些疾病多来自于个体与周围的不和谐，不和谐了当然就不会舒适。\n\n#### 再说说生理上的那些“病”，一种导致生物体不健康的现象。\n很多年前看过一本书《病者生存》，它对于病的描述，让我从另一个角度理解了一些生理上的病存在的意义。就比如高血压、高血糖在寒冷环境下能更好地存活，镰刀型贫血症让人在疟疾肆虐的地方生存下来。当然这适应都是有代价的，对于个体来说往往是不利的--寿命短，对于种群的延续则功不可没--保证繁衍。免疫力过度的红斑狼疮、过敏，是否也有一种适应的环境，这种环境需要极端强的免疫力才能存活。就好像所谓的心理疾病，生理疾病也和生存环境息息相关。生理疾病是一种体内环境的不稳定，也是一种个体与环境的不相容。\n\n生理上有内环境，也有外环境。个体与环境交流的不畅，就会引发疾病。内环境的稳态，外环境的安全，才会远离不健康。\n\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1728445408595-ba834bd3-96fc-4318-8989-56e0a5003211.jpeg)\n\n\n\n","tags":["疾病","心理","情诗","生存"],"categories":["原创","生活"]},{"title":"大模型读文献之腾讯元宝--深度阅读","slug":"大模型读文献之腾讯元宝--深度阅读","url":"/2024/09/25/e2a7186bc189/","content":"\n## <font style=\"color:rgba(0, 0, 0, 0.9);\">简介</font>\n<font style=\"color:rgba(0, 0, 0, 0.9);\">腾讯元宝的深度阅读模式是一种创新的阅读方式，它利用人工智能技术，为用户提供了一种全新的长文阅读体验。这种模式不仅能够处理大量文本，还能生成图文并茂的内容，极大地提升了阅读效率和理解深度。</font>\n<!--more--> \n## <font style=\"color:rgba(0, 0, 0, 0.9);\">深度阅读模式的特点</font>\n> + **<font style=\"color:rgba(0, 0, 0, 0.9);\">长文阅读支持</font>**<font style=\"color:rgba(0, 0, 0, 0.9);\">：深度阅读模式支持长达近50万字的专业文档，适用于学术研究、市场分析、财务报告等领域。</font>\n> + **<font style=\"color:rgba(0, 0, 0, 0.9);\">图文并茂的内容重塑</font>**<font style=\"color:rgba(0, 0, 0, 0.9);\">：通过多模态内容生成技术，深度阅读模式能够展示原始插图或通过算法生成的高级分析图表，使信息传达更加直观</font>**<font style=\"color:rgb(0, 108, 69);\"></font>**<font style=\"color:rgba(0, 0, 0, 0.9);\">。</font>\n> + **<font style=\"color:rgba(0, 0, 0, 0.9);\">智慧导航</font>**<font style=\"color:rgba(0, 0, 0, 0.9);\">：配备划词搜索和翻译功能，帮助用户无缝理解专业术语，特别适用于跨语言研究</font>**<font style=\"color:rgb(0, 108, 69);\"></font>**<font style=\"color:rgba(0, 0, 0, 0.9);\">。</font>\n> + **<font style=\"color:rgba(0, 0, 0, 0.9);\">专业图表的智能生成</font>**<font style=\"color:rgba(0, 0, 0, 0.9);\">：针对财报和研究报告，能够自动识别关键数据，生成杜邦分析图等专业图表，并结合内置的计算器功能确保数值的精准计算。</font>\n>\n\n---\n\n## <font style=\"color:rgba(0, 0, 0, 0.9);\">示例</font>\n1. 打开元宝 ([https://yuanbao.tencent.com/](https://yuanbao.tencent.com/)) ，需要登录使用。界面很简洁，点击输入框上面的“深度阅读”\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1727148366978-9197a9b6-3a07-49a5-b024-bc040c20e728.png)\n\n弹出文件上传框，拖动pdf到上传框。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1727148779600-dc1262f2-bbc8-4f93-9ce1-95030e09ce71.png)\n\n2. 阅读界面如下，可以看到总结、精度、翻译、脑图功能。还可以直接根据文献内容生成学术海报。所有生成结果均可下载。下载格式为图片和pdf，生成的pdf对公示显示不友好。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1727149414741-c6bd376e-bfe1-486a-841e-e88a8095194d.png)\n\n\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1727149297794-9f6db9eb-bf09-4031-b4b2-525bf64f81ca.png)\n\n3. 文献阅读部分结果展示：\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1727149668025-30b36304-7464-4c88-b302-8f782e68c89c.png)![](https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1727149709429-88f0498e-804d-4287-82ed-d80a96e7813e.jpeg)\n\n\n\n","tags":["阅读","腾讯","大模型","元宝"],"categories":["原创","科研"]},{"title":"蛋白互作网络PPI分析流程示例","slug":"蛋白互作网络PPI分析流程示例","url":"/2024/09/25/35832a441121/","content":"\n<font style=\"color:rgb(25, 27, 31);\">蛋白互作网络（PPI, Protein-Protein Interaction Networks）可以查看基因之间的联系，进而锁定关键基因。一般使用STRING数据库获取蛋白互作信息。</font>\n<!--more--> \n<font style=\"color:rgb(25, 27, 31);\">STRING数据库：</font>[STRING: functional protein association networks (string-db.org)](https://cn.string-db.org/cgi/input?sessionId=bdbQxuR7Vf1I&input_page_show_search=on)\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726236168597-fa4b7dc9-3e68-4f4a-a1c4-791d5b326152.png)\n\n---\n\n<h2 id=\"KnEId\">数据准备</h2>\n要分析蛋白的名称列表，例如：\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726236540343-3aa2552f-62b4-43d7-be97-2fb54ca1847f.png)\n\n<h2 id=\"hdfCg\">使用STRING数据库获取PPI结果</h2>\n1. 选择Multiple proteins，将蛋白名称粘贴到List Of Names框中。我这里使用的是果蝇的相关蛋白，因此Organisms选择了Drosophila。点击search。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726236801356-1779aa35-2c61-4581-a206-4591430c849c.png)\n\n2. 通过复选框选择对应的蛋白（默认选择的有时候不一定对），点击MAPPING可以下载当前查询到的蛋白信息，点击CONTINUE可以获得蛋白互作结果。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726237115167-5b3a04dd-d4c5-429f-958b-3ee7a9f2726b.png)\n\n3. 蛋白互作网络图如下\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726237331664-344fada0-da40-403b-9e2e-7a2d8fed7740.png)\n\n4. 图例信息在Legend中\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726237463565-20d7d1dc-04c3-43d7-8983-a7ccd38f8787.png)\n\n5. Settings中可以根据需要改变网络样式。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726237695058-0f548c7f-755c-4d4f-b363-cb0df29028c9.png)\n\n6. Exports可以将图片和蛋白互作信息导出。\n\n![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726237789676-78fab9a7-f1da-4c25-8db2-71fc95e00c67.png)\n\n\n\n+ 在网页界面，可以通过鼠标拖动改变蛋白分布。\n+ 点击对应的蛋白节点能够查看蛋白结构信息。![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726238035654-78ea00d9-9ba6-4d7a-9f63-35502f62146e.png)\n+ 点击连接线可以获得详细的连接数据![](https://cdn.nlark.com/yuque/0/2024/png/12885947/1726238149300-1600416f-39de-452f-98e8-cf1c2b172cdc.png)\n\n<font style=\"color:rgb(26, 32, 41);\">PPI（Protein-Protein Interaction，蛋白质-蛋白质相互作用）网络图是生物信息学中的一种图形表示，它展示了细胞内不同蛋白质之间的相互作用关系。</font>\n\n+ **<font style=\"color:rgb(26, 32, 41);\">网络布局</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - **<font style=\"color:rgb(26, 32, 41);\">节点（Node）</font>**<font style=\"color:rgb(26, 32, 41);\">：通常代表一个蛋白质。节点的大小可能表示蛋白质的度（与多少其他蛋白质相互作用）或者其他属性，如表达水平。</font>\n    - **<font style=\"color:rgb(26, 32, 41);\">边（Edge）</font>**<font style=\"color:rgb(26, 32, 41);\">：代表两个蛋白质之间的相互作用。边的粗细可能表示相互作用的强度或者置信度。</font>\n+ **<font style=\"color:rgb(26, 32, 41);\">节点属性</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - **<font style=\"color:rgb(26, 32, 41);\">颜色</font>**<font style=\"color:rgb(26, 32, 41);\">：可以表示蛋白质的属性，如功能分类、亚细胞定位、是否为已知疾病相关蛋白等。</font>\n    - **<font style=\"color:rgb(26, 32, 41);\">形状</font>**<font style=\"color:rgb(26, 32, 41);\">：不同的形状可以代表不同的蛋白质属性，如是否为酶、受体或其他类型。</font>\n+ **<font style=\"color:rgb(26, 32, 41);\">网络特性</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - **<font style=\"color:rgb(26, 32, 41);\">连通性</font>**<font style=\"color:rgb(26, 32, 41);\">：高连通性的节点通常是网络中的关键蛋白，它们的缺失可能导致网络功能的显著变化。</font>\n    - **<font style=\"color:rgb(26, 32, 41);\">模块性</font>**<font style=\"color:rgb(26, 32, 41);\">：网络中可能存在几个紧密连接的节点群，这些群被称为模块，可能代表特定的生物学过程。</font>\n+ **<font style=\"color:rgb(26, 32, 41);\">功能分析</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - <font style=\"color:rgb(26, 32, 41);\">使用GO（Gene Ontology）注释或其他功能数据库，对网络中的蛋白质进行功能富集分析，以识别网络中的主要生物学功能。</font>\n+ **<font style=\"color:rgb(26, 32, 41);\">路径分析</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - <font style=\"color:rgb(26, 32, 41);\">寻找网络中的关键路径，这些路径可能代表信号传导、代谢途径或其他生物学过程。</font>\n+ **<font style=\"color:rgb(26, 32, 41);\">动态变化</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - <font style=\"color:rgb(26, 32, 41);\">如果PPI网络图展示的是随时间或不同条件下变化的数据，分析这些动态变化可以帮助理解生物学过程如何响应外部刺激。</font>\n+ **<font style=\"color:rgb(26, 32, 41);\">实验验证</font>**<font style=\"color:rgb(26, 32, 41);\">：</font>\n    - <font style=\"color:rgb(26, 32, 41);\">PPI网络图通常是基于高通量实验数据（如酵母双杂交、质谱分析）构建的，因此实验验证是解读结果的关键步骤。</font>\n\n<h2 id=\"axzNC\">参考：</h2>\n[RNA-seq入门实战（九）：PPI蛋白互作网络构建（上）——STRING数据库的使用 - 知乎 (zhihu.com)](https://zhuanlan.zhihu.com/p/532037554)\n\n","tags":["STRING","分析","PPI","蛋白互作网络"],"categories":["原创","科研"]},{"title":"【翻译】什么是兔子洞效应？--为什么上网有瘾","slug":"【翻译】什么是兔子洞效应？--为什么上网有瘾","url":"/2024/09/07/916f7cda781a/","content":"\n原文链接：[What is the rabbit hole effect? (awiebe.org)](https://awiebe.org/en/rabbit-hole-effect/)\n\n\"兔子洞效应\"一词在当今数字世界中被广泛使用，它描述了这样一种现象：当一个人原本只是在寻找一条简单的信息时，却往往不自觉地深入到一个或一组特定的主题中去。这种现象得名于刘易斯-卡罗尔的《爱丽丝梦游仙境》中著名的兔子洞，爱丽丝掉进兔子洞后，突然发现自己置身于一个奇异而迷人的世界。<u>在数字时代，我们经常在网上体验到这种现象，因为我们会从一个话题转到下一个话题，从而忘记了时间。</u>     \n<!--more--> \n## 起源和意义 \n兔子洞效应起源于互联网，尤其是 YouTube、维基百科和 Facebook 等社交媒体和平台造成的数字信息超载。这些平台旨在吸引用户不断深入相关内容。点击一个有趣的链接或视频，就会得到进一步的推荐，从而进一步激发用户的兴趣。例如，搜索一个简单的问题，如 \"如何烹饪意大利面？\"，几个小时后就能让你深入了解一部关于意大利美食历史的纪录片。     \n\n## 其背后的机制和心理学原理 \n兔子洞效应基于各种心理机制。其中一个主要驱动力就是人类的 **好奇心**。人脑追求知识，并在吸收新信息时通过释放多巴胺来奖励自己。这促使我们不断搜索和点击，以了解更多信息。     \n\n另一个重要方面是许多 **平台的算法**工作方式。它们会分析网站访问者的行为，并不断推荐与之前的点击和兴趣相匹配的新内容。这就形成了一个相关内容的个性化无休止循环，很难打断这一过程。     \n\n## 兔子洞效应的积极方面 \n除了一些消极方面，兔子洞效应也有积极方面。一方面，它能促进学习和获取知识。通过深入研究一个主题，用户可以大大扩展自己的知识面，发现新的兴趣和爱好。另一个积极的方面是有机会获得灵感。通过结合不同的信息来源和视角，可以产生许多创造性的想法，而这些都可以通过进入数字兔子洞来找到。    \n\n## 危险和消极方面 \n尽管有这些积极方面，但兔子洞效应也隐藏着一些危险。最大的挑战之一就是时间的损失。由于无意识地上网冲浪，原本计划用于其他任务的时间很快就会丢失。这会导致任务无休止地推迟，降低工作效率。另一个负面影响是有可能成为虚假信息的牺牲品。互联网深处潜伏着大量错误信息和不可靠的信息来源。如果用户遇到这些信息并信以为真，就会导致错误的信念和错误的信息。最后但并非最不重要的一点是，兔子洞效应也会造成社会隔离。当人们花太多时间上网时，会影响他们在现实生活中的社交互动和人际关系。     \n\n## 应对兔子洞效应的策略 \n可以使用多种策略来控制兔子洞效应，将其负面影响降到最低：     \n- **时间管理**：为自己设定明确的在线研究时间限制，并严格遵守。    \n- **有意识地浏览**：意识到自己何时以及为何进入数字兔子洞，并尝试有针对性地搜索信息。    \n- **批判性思维**：仔细检查信息来源，确保其可靠可信。    \n- **休息**：从屏幕时间中定期休息，放松眼睛和精神，专注于其他活动。     \n定期自我反思是控制兔子洞效应的重要工具。网民应不断质疑自己，目前访问的内容是否真的与最初的目标相关，或者是否偏离了主题。\n\n","tags":["效应","网络","算法","兔子洞","成瘾"],"categories":["笔记","其他"]},{"title":"《高效阅读》--渡边康弘","slug":"《高效阅读》--渡边康弘","url":"/2024/08/20/51029141b91f/","content":"\n| **书名** | 高效阅读 |\n| --- | --- |\n| **作者** | 渡边康弘 |\n| **状态** |  读完  |\n| **简介** | 本书介绍了“共振阅读法”。用最少的时间，读更多的书。 |\n<!--more--> \n## 思维导图\n> 用思维导图，结构化记录本书的核心观点。\n\n![](https://cdn.nlark.com/yuque/0/2024/jpeg/12885947/1724074312408-484048b2-1fd2-4322-be26-c3146e64c211.jpeg)\n## 读后感\n### 观点1\n> 读书前的准备，环境要适合，通过深呼吸使身体放松，保持稳定的呼吸频率。\n\n### 观点2\n> 明确阅读目的，可以随意翻阅，找感兴趣的词汇，要重视输出，制定行动计划。\n\n### 观点3\n> 输出，回顾，交流--》加深记忆。\n\n### 观点4\n> 为什么年收入越高的人越喜欢阅读？收入越高的人，用在赚钱上的时间越少，有更多的时间支配。或者他们阅读就是在赚钱。没钱的人需要花费更多的时间在生存上，没有更多的精力去充实自己。\n\n## 书摘\n\n- 先从自己被感动的内容开始分享（作者，书名；作者的观点；自己所感动的内容）。\n- 真的像是“在与书籍进行对话”的这样一种阅读体验。\n- 无论是收获成功也好，还是改变自己的人生也罢，都不可能只通过“阅读”就能实现，关键还在于你之后能否有实际的行动。\n- 所谓的“行动”，就是指让我们的想法在现实中以某种形式留存下来。\n- 只有将书中的知识转化为金钱的人，才能更好地生存。在信息化社会，“速度”意味着一切。而如今，我们正在从“信息化社会”向“知识创造型社会”过渡。\n- 只要有“进步”的想法，无论何时都能重塑人生。\n\n","tags":["阅读","方法","共振阅读法","行动"],"categories":["笔记","学习"]},{"title":"R语言--果蝇攀爬--ImageJ测量数据处理","slug":"R语言--果蝇攀爬--ImageJ测量数据处理","url":"/2024/07/03/c8db0b087a94/","content":"\n## 目的\n处理ImageJ测量的果蝇攀爬数据\n\n<!--more--> \n## 实例\n```r\nlibrary(cluster) \n# 设定工作目录\nsetwd(\"E:/Desktop/\")\n\n# 导入数据\nX20180609_WF_IF <- read.csv(\"E:/Desktop/20180609-WF-IF.csv\")\nX20180609_CM_AM <- read.csv(\"E:/Desktop/20180609-CM-AM.csv\")\nX20180609_CF_AF <- read.csv(\"E:/Desktop/20180609-CF-AF.csv\")\n\nclusGap(X20180609_WF_IF$X[which(X20180609_WF_IF$Slice==1)],FUN=kmeans,nstart=25,K.max=10,B=500)\n## 自定义函数，获取每管果蝇的攀爬指数----\nppindex <- function(X){\ng1 <- c()\ng2 <- c()\ng3 <- c()\ng4 <- c()\ng5 <- c()\ng6 <- c()\nfor (i in 1:max(X$Slice)) {\n  slice_x <- X$X[which(X$Slice==i)]\n  slice_y <- X$Y[which(X$Slice==i)]\n  slice_max <- (max(slice_x)+100)/6\n  par(mfrow = c(1,6))\n  # 管1\n  slice_x <- slice_x[which(slice_x < slice_max)]\n  slice_y <- slice_y[which(slice_x < slice_max)]\n  plot(slice_x,slice_y)\n  slice_y_fq0 <- length(slice_y[which(slice_y < 200)])\n  slice_y_fq1 <- length(slice_y[which(slice_y > 200&slice_y < 400)])\n  slice_y_fq2 <- length(slice_y[which(slice_y > 400)])-2\n  index_1 <- (slice_y_fq0*0+slice_y_fq1*1+slice_y_fq2*2)/(slice_y_fq0+slice_y_fq1+slice_y_fq2)\n  g1 <- c(g1,index_1)\n  # 管2\n  slice_x2 <- slice_x[which(slice_max < slice_x&slice_x < slice_max*2)]\n  slice_y2 <- slice_y[which(slice_max < slice_x&slice_x < slice_max*2)]\n  plot(slice_x2,slice_y2)\n  slice_y2_fq0 <- length(slice_y2[which(slice_y2 < 200)])\n  slice_y2_fq1 <- length(slice_y2[which(slice_y2 > 200&slice_y2 < 400)])\n  slice_y2_fq2 <- length(slice_y2[which(slice_y2 > 400)])-2\n  index_2 <- (slice_y2_fq0*0+slice_y2_fq1*1+slice_y2_fq2*2)/(slice_y2_fq0+slice_y2_fq1+slice_y2_fq2)\n  g2 <- c(g2,index_2)\n  # 管3\n  slice_x3 <- slice_x[which(slice_max*2 < slice_x&slice_x < slice_max*3)]\n  slice_y3 <- slice_y[which(slice_max*2 < slice_x&slice_x < slice_max*3)]\n  plot(slice_x3,slice_y3)\n  slice_y3_fq0 <- length(slice_y3[which(slice_y3 < 200)])\n  slice_y3_fq1 <- length(slice_y3[which(slice_y3 > 200&slice_y3 < 400)])\n  slice_y3_fq2 <- length(slice_y3[which(slice_y3 > 400)])-2\n  index_3 <- (slice_y3_fq0*0+slice_y3_fq1*1+slice_y3_fq2*2)/(slice_y3_fq0+slice_y3_fq1+slice_y3_fq2)\n  g3 <- c(g3,index_3)\n  # 管4\n  slice_x4 <- slice_x[which(slice_max*3 < slice_x&slice_x < slice_max*4)]\n  slice_y4 <- slice_y[which(slice_max*3 < slice_x&slice_x < slice_max*4)]\n  plot(slice_x4,slice_y4)\n  slice_y4_fq0 <- length(slice_y4[which(slice_y4 < 200)])\n  slice_y4_fq1 <- length(slice_y4[which(slice_y4 > 200&slice_y4 < 400)])\n  slice_y4_fq2 <- length(slice_y4[which(slice_y4 > 400)])-2\n  index_4 <- (slice_y4_fq0*0+slice_y4_fq1*1+slice_y4_fq2*2)/(slice_y4_fq0+slice_y4_fq1+slice_y4_fq2)\n  g4 <- c(g4,index_4)\n  # 管5\n  slice_x5 <- slice_x[which(slice_max*4 < slice_x&slice_x < slice_max*5)]\n  slice_y5 <- slice_y[which(slice_max*4 < slice_x&slice_x < slice_max*5)]\n  plot(slice_x5,slice_y5)\n  slice_y5_fq0 <- length(slice_y5[which(slice_y5 < 200)])\n  slice_y5_fq1 <- length(slice_y5[which(slice_y5 > 200&slice_y5 < 400)])\n  slice_y5_fq2 <- length(slice_y5[which(slice_y5 > 400)])-2\n  index_5 <- (slice_y5_fq0*0+slice_y5_fq1*1+slice_y5_fq2*2)/(slice_y5_fq0+slice_y5_fq1+slice_y5_fq2)\n  g5 <- c(g5,index_5)\n  # 管6\n  slice_x6 <- slice_x[which(slice_max*5 < slice_x&slice_x < slice_max*6)]\n  slice_y6 <- slice_y[which(slice_max*5 < slice_x&slice_x < slice_max*6)]\n  plot(slice_x6,slice_y6)\n  slice_y6_fq0 <- length(slice_y6[which(slice_y6 < 200)])\n  slice_y6_fq1 <- length(slice_y6[which(slice_y6 > 200&slice_y6 < 400)])\n  slice_y6_fq2 <- length(slice_y6[which(slice_y6 > 400)])-2\n  index_6 <- (slice_y6_fq0*0+slice_y6_fq1*1+slice_y6_fq2*2)/(slice_y6_fq0+slice_y6_fq1+slice_y6_fq2)\n  g6 <- c(g6,index_6)\n  }\n  flyindex <- data.frame(g1,g2,g3,g4,g5,g6)\n  return(flyindex)\n}\n\n#汇总----\nWI_F_Index <- ppindex(X20180609_WF_IF) \nnames(WI_F_Index) <- c(\"WF1\",\"WF2\",\"WF3\",\"IF1\",\"IF2\",\"IF3\")\nWI_F_Index <- ppindex(X20180609_CF_AF)\nnames(CA_F_Index) <- c(\"CF1\",\"CF2\",\"CF3\",\"AF1\",\"AF2\",\"AF3\")\nCA_M_Index <- ppindex(X20180609_CM_AM)\nnames(CA_M_Index) <- c(\"CM1\",\"CM2\",\"CM3\",\"AM1\",\"AM2\",\"AM3\")\n\n# 保存\nlibrary(xlsx)\nwrite.xlsx2(WI_F_Index, sheetName = \"WI_F_Index\", file='flyIndex.xlsx',append = TRUE)\nwrite.xlsx2(CA_F_Index, sheetName = \"CA_F_Index\", file='flyIndex.xlsx',append = TRUE)\nwrite.xlsx2(CA_M_Index, sheetName = \"CA_M_Index\", file='flyIndex.xlsx',append = TRUE)\ndev.off()\n\n###########################################################################################\n#单管----\n# 导入数据\nX20180609_IM3 <- read.csv(\"E:/Desktop/20180609-IM3.csv\")\nX20180609_IM2 <- read.csv(\"E:/Desktop/20180609-IM2.csv\")\nX20180609_IM1 <- read.csv(\"E:/Desktop/20180609-IM1.csv\")\nX20180609_WM3 <- read.csv(\"E:/Desktop/20180609-WM3.csv\")\nX20180609_WM2 <- read.csv(\"E:/Desktop/20180609-WM2.csv\")\nX20180609_WM1 <- read.csv(\"E:/Desktop/20180609-WM1.csv\")\n\npp2index <- function(x) {\n  index <- c()\n  for (i in 1:max(x$Slice)) {\n    slice_x <- x$X[which(x$Slice == i)]\n    slice_y <- x$Y[which(x$Slice == i)]\n    slice_y_fq0 <- length(slice_y[which(slice_y < 340)])\n    slice_y_fq1 <- length(slice_y[which(slice_y > 340 &\n                                          slice_y < 600)])\n    if ((length(slice_y[which(slice_y > 600 &\n                              slice_y < 900)]) - 1) < 0) {\n      slice_y_fq2 <- 0\n    } else {\n      slice_y_fq2 <- length(slice_y[which(slice_y > 600 &\n                                            slice_y < 900)]) - 1\n    }\n    if ((length(slice_y[which(slice_y > 900 &\n                              slice_y < 1200)]) - 1) < 0) {\n      slice_y_fq3 <- 0\n    } else {\n      slice_y_fq3 <- length(slice_y[which(slice_y > 900 &\n                                            slice_y < 1200)]) - 1\n    }\n    if ((length(slice_y[which(slice_y > 1200)]) - 1) < 0) {\n      slice_y_fq4 <- 0\n    } else {\n      slice_y_fq4 <- length(slice_y[which(slice_y > 1200)]) - 1\n    }\n    \n    index_1 <- (slice_y_fq0 * 0 + slice_y_fq1 * 1 + slice_y_fq2 * 2 + slice_y_fq3 *\n                  3 + slice_y_fq4 * 4) / (slice_y_fq0 + slice_y_fq1 + slice_y_fq2 + slice_y_fq3 +\n                                            slice_y_fq4)\n    index <- c(index,index_1)\n  }\n  return(index)\n}\nIM3 <- pp2index(X20180609_IM3)\nIM2 <- pp2index(X20180609_IM2)\nIM1 <- pp2index(X20180609_IM1)\nWM1 <- pp2index(X20180609_WM1)\nWM2 <- pp2index(X20180609_WM3)\nWM3 <- pp2index(X20180609_WM2)\nWI_M_Index <- cbind(WM1=WM1,WM2=WM2,WM3=WM3,IM1=IM1,IM2=IM2,IM3=IM3)\nwrite.xlsx2(WI_M_Index, sheetName = \"WI_M_Index\", file='flyIndex.xlsx',append = TRUE)\n\n```","tags":["ImageJ","批量","R语言","实例","数据处理","果蝇"],"categories":["原创","科研"]},{"title":"Process-->Noise\\Filters笔记","slug":"ImageJ--图像去噪--Process中的Noise和Filters","url":"/2024/06/11/7890000bc707/","content":"\n# Process-->Noise\\Filters笔记\n## Noise\n![](./imgs/20240605_223251_00000.png)\n**Add noise** 对图片增加随机噪声，噪声服从均值为0、标准差为25的高斯分布。\n**Add Specified Noise** 增加一个均值为0、手动输入标准差的高斯噪声。\n<!--more--> \n**Salt and Pepper** 通过随机替换2.5%的黑色像素和2.5%的白色像素来增加椒盐噪声。该命令仅适用于8-bit图片。\n**Despeckle** 这是一种中值滤波器，它将像素值替换为它周围3*3的像素点的均值。中值滤波器对于去掉上面的椒盐噪声很有用。\n**Remove Outliers** 如果一个像素点离它周围点的均值超过一定数值，该命令就会去除这个像素点。该命令对CCD相机的hot pixels或dead pixels很有用。\n- **Radius**：决定计算均值的范围（单位是像素）。使用Process-Filter-Show Circular Masks来显示半径是如何转变为面积的。\n- **Threshold**：决定阈值（单位是像素）\n- **Which Outliers**：决定比均值更亮还是更暗的像素点去除。\n\n**Remove NANs** 该滤波器将32-bit图片中的NaN像素点替换成由Radius定义的圆形kernel区域内部的像素点的平均值。\n**ROF Denoise** 降噪\n\n## Filters\n该菜单包含五花八门的滤波器。\n**Convolve** 使用填入文本区域的kernel进行空间卷积。一个kernel就是一个矩阵，它的中心是源像素，其他的元素是该像素的邻居。通过对像素点乘以相应的kernel中的系数然后相加得到结果。对kernel的尺寸没有限制，但它必须是方形，且必须是奇数宽度。勾选`Normalize Kernel`可以使得每个系数都除以所有系数的和，从而保持图片的亮度。\n**Gaussian Blur** 该过滤器使用一个高斯函数进行卷积，从而实现平滑效果。\n**Gaussian Blur 3D** 计算一个三维高斯低通滤波。\n**Median** 将像素替换为周围点的平均像素值，从而实现**降噪**效果。\n**Mean** 怎么感觉跟上面的Median是一个意思呢。\n**Minimum** 将像素替换为周围点的最小值，从而实现灰度腐蚀。\n**Maximum** 将像素替换为周围点的最大值，从而实现灰度膨胀。\n**Unsharp Mas**k 通过从原图片中提出一个模糊的版本，从而锐化和加强边缘。\n**Variance** 将每个像素替换为邻居的方差，从而高亮边缘。\n**Show Circular Masks** 产生一个包含上面Median、Mean、Minimum、Maximum和Variance滤波器使用的圆形mask产生的事例。\n\n## 参考\n1. https://www.jingege.wang/2021/10/01/imagej-%e7%94%a8%e6%88%b7%e6%8c%87%e5%8d%97/9/","tags":["插件","笔记","ImageJ","图像","降噪","Noise","Filters"],"categories":["笔记","学习"]},{"title":"Web API--学习笔记（1）","slug":"Web API--学习笔记（1）","url":"/2024/05/29/15d7b13129c0/","content":"\n## 简介\n应用程序接口（**API**，Application Programming Interface）是基于编程语言构建的结构，使开发人员更容易地创建复杂的功能。它们抽象了复杂的代码，并提供一些简单的接口规则直接使用。\n\n<!--more--> \n\n> 通常分为两类：\n\n- **浏览器 API**内置于 Web 浏览器中，能从浏览器和电脑周边环境中提取数据，并用来做有用的复杂的事情。例如[Geolocation API](https://developer.mozilla.org/zh-CN/docs/Web/API/Geolocation_API)提供了一些简单的 JavaScript 结构以获得位置数据，因此你可以在 Google 地图上标示你的位置。在后台，浏览器确实使用一些复杂的低级代码（例如 C++）与设备的 GPS 硬件（或可以决定位置数据的任何设施）通信来获取位置数据并把这些数据返回给你的代码中使用浏览器环境；但是，这种复杂性通过 API 抽象出来，因而与你无关。\n- **第三方 API**缺省情况下不会内置于浏览器中，通常必须在 Web 中的某个地方获取代码和信息。例如[Twitter API](https://dev.twitter.com/overview/documentation) 使你能做一些显示最新推文这样的事情，它提供一系列特殊的结构，可以用来请求 Twitter 服务并返回特殊的信息。\n> 浏览器 API 类别\n\n- **操作文档的 API**内置于浏览器中。最明显的例子是[DOM（文档对象模型）](https://developer.mozilla.org/zh-CN/docs/Web/API/Document_Object_Model)API，它允许你操作 HTML 和 CSS — 创建、移除以及修改 HTML，动态地将新样式应用到你的页面，等等。每当你看到一个弹出窗口出现在一个页面上，或者显示一些新的内容时，这都是 DOM 的行为。你可以在在[Manipulating documents](https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Manipulating_documents)中找到关于这些类型的 API 的更多信息。\n- **从服务器获取数据的 API** 用于更新网页的一小部分是相当好用的。这个看似很小的细节能对网站的性能和行为产生巨大的影响 — 如果你只是更新一个股票列表或者一些可用的新故事而不需要从服务器重新加载整个页面将使网站或应用程序感觉更加敏感和“活泼”。使这成为可能的 API 包括[XMLHttpRequest](https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest)和[Fetch API](https://developer.mozilla.org/zh-CN/docs/Web/API/Fetch_API)。你也可能会遇到描述这种技术的术语**Ajax**。你可以在[Fetching data from the server](https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Fetching_data)找到关于类似的 API 的更多信息。\n- **用于绘制和操作图形的 API**目前已被浏览器广泛支持 — 最流行的是允许你以编程方式更新包含在 HTML [<canvas>](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/canvas) 元素中的像素数据以创建 2D 和 3D 场景的[Canvas](https://developer.mozilla.org/zh-CN/docs/Web/API/Canvas_API)和[WebGL](https://developer.mozilla.org/zh-CN/docs/Web/API/WebGL_API)。例如，你可以绘制矩形或圆形等形状，将图像导入到画布上，然后使用 Canvas API 对其应用滤镜（如棕褐色滤镜或灰度滤镜），或使用 WebGL 创建具有光照和纹理的复杂 3D 场景。这些 API 经常与用于创建动画循环的 API（例如[window.requestAnimationFrame()](https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestAnimationFrame)）和其他 API 一起不断更新诸如动画和游戏之类的场景。\n- **音频和视频 API** 例如 [HTMLMediaElement](https://developer.mozilla.org/zh-CN/docs/Web/API/HTMLMediaElement)、[Web Audio API](https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Audio_API) 和 [WebRTC](https://developer.mozilla.org/zh-CN/docs/Web/API/WebRTC_API) 允许你使用多媒体来做一些非常有趣的事情，比如创建用于播放音频和视频的自定义 UI 控件，显示字幕字幕和你的视频，从网络摄像机抓取视频，通过画布操纵（见上），或在网络会议中显示在别人的电脑上，或者添加效果到音轨（如增益、失真、平移等） 。\n- **设备 API**基本上是以对网络应用程序有用的方式操作和检索现代设备硬件中的数据的 API。我们已经讨论过访问设备位置数据的地理定位 API，因此你可以在地图上标注你的位置。其他示例还包括通过系统通知（参见[Notifications API](https://developer.mozilla.org/zh-CN/docs/Web/API/Notifications_API)）或振动硬件（参见[Vibration API](https://developer.mozilla.org/zh-CN/docs/Web/API/Vibration_API)）告诉用户 Web 应用程序有用的更新可用。\n- **客户端存储 API**在 Web 浏览器中的使用变得越来越普遍 - 如果你想创建一个应用程序来保存页面加载之间的状态，甚至让设备在处于脱机状态时可用，那么在客户端存储数据将会是非常有用的。例如使用[Web Storage API](https://developer.mozilla.org/zh-CN/docs/Web/API/Web_Storage_API)的简单的键 - 值存储以及使用[IndexedDB API](https://developer.mozilla.org/zh-CN/docs/Web/API/IndexedDB_API)的更复杂的表格数据存储。\n> 第三方 API\n\n\n## API 如何工作？\nAPI 使用一个或多个 JavaScript objects 在你的代码中进行交互，这些对象用作 API 使用的数据（包含在对象属性中）的容器以及 API 提供的功能（包含在对象方法中）。\n\n## 参考\n\n1. [https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Introduction](https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Client-side_web_APIs/Introduction)\n2. [https://sspai.com/post/87885#!](https://sspai.com/post/87885#!)","tags":["博客","笔记","API","建站"],"categories":["笔记","学习"]},{"title":"ImageJ--自动将源图或堆栈与目标图配准--StackReg插件","slug":"ImageJ--自动将源图或堆栈与目标图配准--StackReg插件","url":"/2024/05/23/d5d33bdaa68f/","content":"\n<a name=\"e05dce83\"></a>\n## 简介\nStackReg，用于递归对齐图像堆栈（stack）的 ImageJ 插件。<br />**作者：** Philippe Thévenaz, Biomedical Imaging Group, Swiss Federal Institute of Technology Lausanne\n<!--more-->\n该插件的目的是配准（换句话说，对齐或匹配）图像堆栈。每张图片用作下一张图片对齐的模板，以便通过转换进行对齐。当插件启动时，当前图片充当全局锚点。StackReg 插件要求安装有TurboReg 插件。该插件（**StackReg**）是**TurboReg** 插件的前端。这些插件之间有几种数据交换机制，其中之一是将临时文件写入 ImageJ 定义的临时目录。该目录的位置可以通过宏命令 \"`print(getDirectory(\"temp\"));` \"查看。文件名称是：StackRegSource，StackRegSourceR，StackRegSourceG，StackRegSourceB，StackRegTarget。\n\n配准完成后，原始堆栈将被销毁，取而代之的是配准结果。堆栈的名称和类型保持不变；除 **RGB 堆栈**和 **HSB 堆**栈外，所有数据类型均可使用。(请注意，RGB-stack 是由三个颜色分量组成的堆栈，不应与 RGB 彩色图像堆栈混淆：后者可以使用，而前者不能使用。如有疑问，请尝试一下)。如果提供的是彩色图像堆栈，则会在灰度版本上进行配准，灰度版本是由红色、绿色和蓝色分量加权求和而成的，即使堆栈是伪彩色图像也是如此。权重取决于整个图像堆栈，并通过主成分分析确定，以提供最大可能的对比度。一旦根据中间灰度表示确定了几何图形，就可以重建真正的彩色图像，如果需要生成伪彩色图像，还可以重新量化。\n\n\n<a name=\"1a63ac23\"></a>\n## 示例\n![image.png](https://cdn.nlark.com/yuque/0/2024/png/12885947/1716430374851-f6e0204e-c711-4eaf-8e10-dd2559bd26b2.png#averageHue=%23bdbbb0&clientId=u2db50134-249f-4&from=paste&height=342&id=LXm3J&originHeight=788&originWidth=1522&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=1428440&status=done&style=none&taskId=u680c6b5e-8e69-4db7-ba5b-a91f3ac40ae&title=&width=661)<br />原始图<br />![攀爬2-缩小.gif](https://cdn.nlark.com/yuque/0/2024/gif/12885947/1716434444337-f17c0e80-e8ff-43ce-bb2e-9855df60aced.gif#averageHue=%23bebfbd&clientId=u2db50134-249f-4&from=paste&height=321&id=u2a92047f&originHeight=1000&originWidth=2057&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=5059819&status=done&style=none&taskId=ub9390e85-5478-4b32-9ef3-a9fade1b7b0&title=&width=661)<br />配准后(转换类型**Scaled rotation**)<br />![WT-处-control-20211218-scaled.gif](https://cdn.nlark.com/yuque/0/2024/gif/12885947/1716438022750-6e21a2ae-fea6-497e-860e-d85616f849a9.gif#averageHue=%23c0c0be&clientId=u89d4ed3b-c40f-4&from=drop&height=321&id=kKliK&originHeight=1960&originWidth=4032&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=16556324&status=done&style=none&taskId=u99a6e12e-93c9-4cd1-bf54-cc01b9e9b5b&title=&width=660)\n\n<a name=\"AX0GW\"></a>\n## 参数\n有四种类型的转换：\n\n- **Translation**：\n\n映射公式为 ![](https://www.yuque.com/api/services/graph/generate_redirect/latex?x%20%3D%20u%20%2B%20%CE%94u#card=math&code=x%20%3D%20u%20%2B%20%CE%94u&id=I1f4r)。其中，输入坐标 **u** 映射到输出坐标 **x**，常数矢量 **Δu** 表示平移量。\n\n- **Rigid Body**：\n\n映射公式为 <br />![](https://cdn.nlark.com/yuque/__latex/e386340d2860de58527e61d4dc5de7cd.svg#card=math&code=x%20%3D%20%5C%7B%20%5C%7Bcos%20%CE%B8%2C%20%E2%88%92sin%20%CE%B8%5C%7D%2C%20%5C%7Bsin%20%CE%B8%2C%20cos%20%CE%B8%5C%7D%20%5C%7D%20%E2%8B%85%20u%20%2B%20%CE%94u&id=HGnJ1)<br />由于存在 **Δu** 项，因此除了旋转角度 **θ** 外，还考虑了平移。\n\n- **Scaled rotation**：\n\n映射公式为 <br />![](https://cdn.nlark.com/yuque/__latex/1678623c5ac84d63fb37a0c24914e4bf.svg#card=math&code=x%20%3D%20%CE%BB%20%5C%7B%20%5C%7Bcos%20%CE%B8%2C%20%E2%88%92sin%20%CE%B8%5C%7D%2C%20%5C%7Bsin%20%CE%B8%2C%20cos%20%CE%B8%5C%7D%20%5C%7D%E2%8B%85%20u%20%2B%20%CE%94u&id=HxAmA)<br />与**Rigid Body** 的区别在于存在标量调整因子 **λ**。\n\n- **Affine**：\n\n映射公式为 <br />![](https://cdn.nlark.com/yuque/__latex/56c72e021aeb8d05a197e959c33a45b2.svg#card=math&code=x%20%3D%20%5C%7B%20%5C%7Ba_%7B11%7D%2C%20a_%7B12%7D%5C%7D%2C%20%5C%7Ba_%7B21%7D%2C%20a_%7B22%7D%5C%7D%20%5C%7D%20%E2%8B%85%20u%20%2B%20%CE%94u&id=CCeB3)<br />由于四个系数 ![](https://www.yuque.com/api/services/graph/generate_redirect/latex?a_%7B11%7D#card=math&code=a_%7B11%7D&id=NPdDU)、![](https://www.yuque.com/api/services/graph/generate_redirect/latex?a_%7B12%7D#card=math&code=a_%7B12%7D&id=X1Pob)、![](https://www.yuque.com/api/services/graph/generate_redirect/latex?a_%7B21%7D#card=math&code=a_%7B21%7D&id=Hro5t) 和 ![](https://www.yuque.com/api/services/graph/generate_redirect/latex?a_%7B22%7D#card=math&code=a_%7B22%7D&id=msruk) 是独立的，因此仿射变换比按比例旋转具有更多的自由度。\n<a name=\"1c53b310\"></a>\n## 操作步骤\n使用的Fiji ImageJ\n\n1. 拖动图片文件夹到Fiji，默认为堆栈。\n\n![image.png](https://cdn.nlark.com/yuque/0/2024/png/12885947/1716433448190-6bcdcea1-090b-4b6e-844b-db57f09551a9.png#averageHue=%23eeeeed&clientId=u2db50134-249f-4&from=paste&height=285&id=R4VvP&originHeight=424&originWidth=428&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=14771&status=done&style=none&taskId=ue08112ae-4ce1-4d16-97b5-adb9378c3cd&title=&width=287.3999938964844)\n\n2. 插件启动前，选择合适的图片，当前图片会被充当全局锚点。\n3. 打开**StackReg。**\n\n![image.png](https://cdn.nlark.com/yuque/0/2024/png/12885947/1716433608518-f4f2cfa8-5406-4ef7-876d-c4ffb225cf73.png#averageHue=%23b3a180&clientId=u2db50134-249f-4&from=paste&height=313&id=pzPnz&originHeight=491&originWidth=605&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=213183&status=done&style=none&taskId=u427dd8d1-e0e2-49ce-9122-31b6a47e994&title=&width=386)\n\n4. 选择对齐方式，点击确定按钮。\n\n![image.png](https://cdn.nlark.com/yuque/0/2024/png/12885947/1716433643863-8b44a1f7-eb00-4ac3-9f28-b4da3cb4d467.png#averageHue=%23edebe9&clientId=u2db50134-249f-4&from=paste&height=125&id=cH9EB&originHeight=156&originWidth=236&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=7246&status=done&style=none&taskId=u745533d0-9a3d-4fde-8597-410e8b9e3eb&title=&width=188.8)\n<a name=\"zAAf8\"></a>\n#### 配准结果展示\n**Translation**<br />![攀爬2-移动-缩小.gif](https://cdn.nlark.com/yuque/0/2024/gif/12885947/1716437482059-89fc3429-bad3-4efb-8f57-e2b6980bd685.gif#averageHue=%23bebfbd&clientId=u89d4ed3b-c40f-4&from=drop&id=u815598a6&originHeight=1000&originWidth=2057&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=4864016&status=done&style=none&taskId=ua36500ba-dce8-49d3-a2dd-78c2e561927&title=)<br />**Rigid Body**<br />![攀爬2-rigid-缩小.gif](https://cdn.nlark.com/yuque/0/2024/gif/12885947/1716437732425-3650fea3-632c-496f-a40a-27c5a7adc316.gif#averageHue=%23bebfbd&clientId=u89d4ed3b-c40f-4&from=drop&id=u66c7948b&originHeight=1000&originWidth=2057&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=4902674&status=done&style=none&taskId=u45d2d0ba-9870-43ee-8089-153602f6b05&title=)<br />**Scaled rotation**<br />![WT-处-control-20211218-scaled.gif](https://cdn.nlark.com/yuque/0/2024/gif/12885947/1716438022750-6e21a2ae-fea6-497e-860e-d85616f849a9.gif#averageHue=%23c0c0be&clientId=u89d4ed3b-c40f-4&from=drop&id=u5e78df36&originHeight=1960&originWidth=4032&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=16556324&status=done&style=none&taskId=u99a6e12e-93c9-4cd1-bf54-cc01b9e9b5b&title=)<br />**Affine**<br />![攀爬2-affine-缩小.gif](https://cdn.nlark.com/yuque/0/2024/gif/12885947/1716438247733-91b6a52e-7abe-4303-a27b-b9389f62063c.gif#averageHue=%23bebfbd&clientId=u89d4ed3b-c40f-4&from=drop&id=uc96e2e67&originHeight=1000&originWidth=2057&originalType=binary&ratio=1.25&rotation=0&showTitle=false&size=4699672&status=done&style=none&taskId=u77f49e48-451d-4b37-876b-5276b590ccd&title=)\n<a name=\"ba311d8a\"></a>\n## 脚本\nStackReg 是可编写脚本和使用宏记录的。下面是一个从宏调用 StackReg 的示例：\n```python\nrun(\"StackReg \", \"transformation=[Rigid Body]\");\n```\n<a name=\"d17a0f0b\"></a>\n## 参考\n\n1. [https://bigwww.epfl.ch/thevenaz/stackreg/](https://bigwww.epfl.ch/thevenaz/stackreg/)\n2. P. Thévenaz, U.E. Ruttimann, M. Unser, \"A Pyramid Approach to Subpixel Registration Based on Intensity,\" IEEE Transactions on Image Processing, vol. 7, no. 1, pp. 27-41, January 1998. Other relevant on-line publications are available at [http://bigwww.epfl.ch/publications/](http://bigwww.epfl.ch/publications/).\n","tags":["ImageJ","图像","图像配准","stack","StackReg"],"categories":["笔记","学习"]},{"title":"R语言--批量解压文件--示例","slug":"R语言--批量解压文件","url":"/2024/05/23/979fc3b16655/","content":"\n## 目的\n用R语言批量解压文件到指定目录\n\n<!--more--> \n## 实例\n```r\nlibrary(tidyverse)\n# 工作文件夹\nsetwd(\"I:\\\\果蝇锻炼\\\\201803-不同浓度枸杞攀爬拍照\")\n\n# 压缩文件列表\nfilelist <- dir()\nziplist <-  filelist[grepl(\"zip\",filelist)]\n\n# 循环解压到指定文件夹\nfor (i in 1:length(ziplist)) {\n  unzip(ziplist[i], exdir = paste0(\"E:\\\\Desktop\\\\Fly-climb\\\\\",substr(ziplist[i],1,str_length(ziplist[i])-4)))\n  }\n```","tags":["批量","解压","R语言","实例"],"categories":["原创","科研"]},{"title":"ImageJ--形态学数据挖掘、三维建模以及图像拼接、配准、编辑和注释-TrakEM2简介","slug":"ImageJ--形态学数据挖掘、三维建模以及图像拼接、配准、编辑和注释-TrakEM2简介","url":"/2024/05/16/4681ff84ccf3/","content":"TrakEM2 是一个 ImageJ 插件，用于形态学数据挖掘、三维建模以及图像拼接、配准、编辑和注释。\n<!--more--> \n## 设备要求\n要运行 TrakEM2，该为 Fiji 的 JVM 分配多少内存？  \n取数据集中最大的单个二维图像，然后将其大小乘以 10，并确保 CPU 的每个内核至少有这么多可用内存。    \n例如，对于 4096x4096 16 位图像，每个内核至少需要 335 Mb，因此 16 个内核至少需要 5.4 Gb 内存。8 Gb 可能会更好。32GB 的内存使用起来会很方便。    \n至于显卡，在计算能力和内置内存方面都要买你能负担得起的最大显卡。\n\n## 特征\n- **特征分割：** 在堆栈(stack)上手动绘制区域，用球和管道勾勒结构。骨架化整个神经元轴突，用关系连接器对象表示突触。  \n- **测量：** 体积、表面、长度，以及通过 ImageJ ROI 进行测量。 \n- **图像配准：** 使用 SIFT 和全局优化算法将浮动图块相互配准。 \n- **三维可视化：** 通过与三维浏览器插件交互，TrakEM2 可显示图像体积和各种三维网格。\n- **图像注释：** 浮动文本标签。\n- **语义分割：** 以树状层次排列分割，其模板可导出供其他类似项目重复使用。\n\n## \n- 通过 \"File - New - TrakEM2 (blank)\"创建新项目 \n- 通过将 .xml 文件拖到工具栏上或通过 \"文件 - 打开 \"打开现有项目。\n\n## TrakEM2最佳性能设定\n### 加快图层浏览\n右键单击画布，选择 \"Display - Properties…\"。然后确保    \n- \"snapshots mode \"设置为 \"Disabled\"，或最多设置为 \"Outlines\"。  \n- 取消\"Prepaint\"，使其处于禁用状态。\n\n### 导入大量图像，并在导入后立即进行编辑\n避免多次生成 mip，不启用 “enable mipmaps”，使其处于禁用状态。由于不会生成贴图，将无法在导入时快速浏览图层。\n现在要纠正对比度，首先要重新启用 mipmaps，方法是：\"Display - Properties\"并选中 \"enable mipmaps\" 复选框。然后有两个（非排他性）选项：    \n- A. 使用右键菜单中的内置命令，例如    \n    - \"Adjust images - Enhance contrast layer-wise\" \n    - \"Adjust images - Set min and max layer-wise\"。\n- B. 创建一个预处理器脚本并将其设置为所有图像。例如，在每个图像上运行 CLAHE 的 beanshell 脚本。在脚本中，patch 和 imp 变量自动存在，分别代表 Patch 实例和 Patch 封装的 ImagePlus 实例。\n```Python\nimport ij.IJ;\nIJ.run(imp, \"Enhance Local Contrast (CLAHE)\", \"blocksize=127\"\n   + \" histogram=256 maximum=3 mask=*None* fast_(less_accurate)\");\n```\n要将脚本设置为所有图像，请将上述内容保存到名为 \"whatever.bsh \"的文件中（注意文件名扩展名为\".bsh\"），然后右键单击 TrakEM2 画布，选择 \"Script - Set preprocessor script layer-wise\"，并选择整个图层范围。这会将脚本设置到每个图层的每个图像上，并触发每个图像的 mipmap 再生。当 TrakEM2 加载图像时，脚本将在 TrakEM2 看到图像内容之前在图像上运行。\n\n### 快速重新生成 mipmap\n\nmipmap 的默认生成方式是平均生成，速度相当快。不过，还可以考虑将其并行化：进入 \"Project - Properties...\"，将 mipmap 线程数设置为您机器的内核数，例如 12。\n如果选择使用高斯模式生成 mipmaps，请进入 \"Project - Properties...\"，将 mipmaps 模式设置为 \"Gaussian\"。必须注意以下事项：    \n在 TrakEM2 0.9a 及更高版本中，mipmaps 机器可以使用最新 ImageJ 中的多线程高斯实现。这意味着现在有两组线程：    \n- 线程集，每个线程重新生成单张图像的 mipmap 金字塔。  \n- 在生成 mipmap 金字塔的过程中，每迭代一次缩放，就会有一组线程执行高斯模糊降采样。  \n\n如果您的机器有 12 个内核，默认设置将使用 1 个线程处理 mipmap，12 个线程处理高斯模糊。这可能不符合您的数据属性：如果图像较小，您可能需要等待很长时间才能生成 mipmap。\n有两种策略可以加速基于高斯的 mipmaps 生成：    \n- 策略 A：您的数据由大图像组成（超过 4000x4000）。右键单击 TrakEM2 显示屏，选择 \"Project - Properties…\"，将 mipmap 线程设置为 1（默认值）。现在，将使用 12 个线程（给定 12 个内核）计算高斯，每次为单个图像重新生成 mipmap。  \n- 策略 B：您的数据由小图像组成（小于 4000x4000）。进入 Fiji 窗口，选择 \"Edit - Options - Memory & Threads…\"，将线程数设为 1。 然后进入 \"Project - Properties…\"，将 mipmap 线程数设为 12。现在，mipmap 将一次生成 12 幅图像（给定 12 个内核），每幅图像使用一个线程计算高斯。  \n\n如果您的电脑内存较少，或者访问图像的速度较慢（例如数据保存在 USB 硬盘中），也可以使用策略 A。这就是为什么默认情况下只用一个线程生成 mipmaps。    \n如果将生成 mipmaps 的方法改为非高斯方法，就不会出现上述情况。将生成 mipmaps 的线程数设置为内核数，如果电脑内存不多，则设置为更少的线程数。\n\n### 使用更大的quadtree buckets，XML 加载更快，内存消耗更少 \n除了为大图像选择合适的 mipmap 生成策略外，还要确保适当设置bucket的大小。    \n**什么是 TrakEM2 中的 \"bucket\"：** 每个层（每个部分）都有一个内部四叉树，用于查找鼠标下的对象（如图像），或快速查找与其他图像重叠的图像。换句话说，就是能够执行快速空间查询，例如查找与给定矩形相交的所有图像列表。    \n如果图像bucket的尺寸很小（默认边长为 4096 像素，那么一个图像桶就是一个 4096x4096 像素的正方形，这可以说是相当小了），再加上画布尺寸很大，生成的图像桶就会太多。这将耗费大量时间和内存。\n如果您的每个部分只有大约 100 张图片，而且图片都比较大（例如，每张图片的尺寸为 8096x8096 像素），那么请将bucket大小设置为比默认值大得多的值，例如 100000。这样实际上就只有一个bucket了。    \n当一个图层中有许多小对象或许多小的 zdisplayable 对象时，就需要使用小的数据bucket。在这种情况下，例如每个图层只有一个图像，但其中有许多较小的 Ball 或 Pipe 或 AreaList 对象，那么可以使用默认的数据bucket大小（4096）或更小。否则，可以选择大尺寸甚至超大尺寸，这样就能有效地移除bucket功能，并简化为列表搜索，而列表搜索对于 100 张左右的小图像列表来说是没有问题的。    在配准/对齐分布在 5000 个部分的 400,000 张图片时，将图片桶设置为大（如 40960，默认值的 10 倍，甚至更大）是合理的。    将数据bucket大小设置为较大值将大大减少 XML 的加载时间。    要设置数据bucket大小，请右键单击并选择 \"Display - Properties …\"，然后写入数据桶大小值。\n\n## TrakEM2 一些脚本\n打开 \"Plugins - Scripting - Jython Interpreter\"（请参阅 \"[脚本帮助](https://imagej.net/scripting)\"），确保打开了 TrakEM2 项目，并打开显示图片。然后键入或粘贴下面的示例。或者使用 \"File - New - Script\"打开一个新的脚本编辑器窗口，然后粘贴示例，选择 \"Language - Python\"，并按下 \"Run \"按钮。\n基础：    \n- 拖动图像并将其可视化的画布是显示对象的一部分。后者拥有访问其 \"选区 \"以及 \"显示 \"正在查看的 \"图层 \"和 \"图层集 \"的方法。  \n- 图层包含 Patch（每个 Patch 都包裹着一幅图像）和 DLabel（浮动文本）等 2D 对象。  \n- LayerSet 包含三维对象，如 AreaList、Pipe、Polyline、Ball、Dissector、Treeline 和 Stack（后者封装了包含 ij.ImageStack 的 ij.ImagePlus）。\n \n### 获取所选图像实例\n```Python\n>>> p = Display.getFront().getActive()\n>>> print p\n    090504_0314_ex0768.mrc z=0.0 #67398\n```\n### 获取选定图像的ImagePlus\n```Python\n>>> p = Display.getFront().getActive()\n>>> imp = p.getImagePlus()\n>>> print imp.width, imp.height\n    2048 2048\n```\n\n## 访问图层和选择显示\n```Python\n>>> front = Display.getFront()\n>>> layer = front.getLayer()\n>>> layer_set = front.getLayerSet()\n>>> sel = front.getSelection()\n>>> print sel.getSelected().size()\n    10\n    >>> print sel.isEmpty()\n    0\n```\n\n\n## 参考\n1. https://imagej.net/plugins/trakem2/\n2. Cardona, A., Saalfeld, S., Schindelin, J., Arganda-Carreras, I., Preibisch, S., Longair, M., … Douglas, R. J. (2012). TrakEM2 Software for Neural Circuit Reconstruction. PLoS ONE, 7(6), e38011. doi:10.1371/journal.pone.0038011\n3. https://syn.mrc-lmb.cam.ac.uk/acardona/INI-2008-2011/data.html","tags":["笔记","ImageJ","图像拼接","TrakEM2","简介","图像配准"],"categories":["笔记","学习"]},{"title":"R语言--SimpleITK","slug":"R语言-SIMPLEITK","url":"/2024/05/16/ef7e309aa1eb/","content":"\n**SimpleITK** 是 Insight 工具包（ITK）算法和数据结构的简化编程接口。它支持多种编程语言的接口，包括 C++、Python、R、Java、C#、Lua、Ruby 和 TCL。这些绑定使科学家能够用他们最熟悉的编程语言开发图像分析工作流。该工具包支持 15 种以上不同的图像文件格式，提供 280 多种图像分析过滤器，并为 ITK 基于强度的配准框架实现了统一接口。\n<!--more-->\n## 特点  \n使用 Python、R、Java、C#、Lua、Ruby、TCL 和 C++ 进行开源多维图像分析。由 Insight 工具包社区为生物医学科学及其他领域开发。\n\n- 被视为空间对象而非像素阵列的图像。计算在二维或三维物理空间中进行。\n- 利用刚性或可变形变换快速配准二维和三维模内和模间图像的配准框架。\n- 从经典的Otsu thresholding到水平集(level sets) 和分水岭(watersheds)，为图像分割工作流程提供了丰富的过滤器。\n- 评估分割结果（豪斯多夫距离、雅卡德值和骰子值、表面距离等<Hausdorff distance, Jaccard and Dice values, surface distances etc.> ）和分析分割形状特征（定向边界框、主矩、周长、伸长率、费雷特直径等<oriented bounding box, principal moments, perimeter, elongation, Feret diameter etc.>）的工具。\n- 图像文件输入/输出，支持 20 多种图像文件格式（jpg、png、DICOM、TIFF 等），并可在不同格式间轻松转换。\n- 通过基于进程和线程的并行化，可随时集成到集群或台式机的并行处理框架中。\n\n## 安装R包-SimpleITKRInstaller\n`devtools::install_github(\"SimpleITK/SimpleITKRInstaller\")`\n\n## Fiji\nSimpleITK 有一个内置函数 `itk::simple::Show()`，可用于在交互会话中查看图像。默认情况下，该 Show 函数会搜索已安装的 Fiji 来显示图像。如果找不到 Fiji，则会搜索 ImageJ。选择 Fiji/ImageJ 是因为它们可以处理 SimpleITK 支持的所有图像类型，包括每像素有 n 个分量的 3D 矢量图像。    Show 函数会在多个标准位置搜索 Fiji/ImageJ。具体位置取决于系统类型（Linux、Mac 或 Windows）。启用 \"Show \"的 \"debugOn \"选项后，用户可以看到 SimpleITK 正在搜索 Fiji（或其他查看应用程序）的位置，以及用于启动查看应用程序的实际命令。    Show 是 ImageViewer 类的功能接口。可以使用 ImageViewer 对象配置其他查看应用程序.\n\n---\n\n## 图片导入和导出\n```R\nlibrary(SimpleITK)\n\nreader <- ImageFileReader()\nreader$SetImageIO(\"PNGImageIO\")\nreader$SetFileName(inputImageFileName)\nimage <- reader$Execute()\n\nwriter <- ImageFileWriter()\nwriter$SetFileName(outputImageFileName)\nwriter$Execute(image)\n```\n上面的示例指定使用 PNGImageIO 来读取文件。如果省略该行，SimpleITK 将根据文件名的后缀和/或文件头自动确定要使用哪个 IO。\n```R\nimage <- ReadImage(inputImageFileName)\nWriteImage(image, outputImageFileName)\n```\n\n","tags":["插件","笔记","ImageJ","图像","简介"],"categories":["笔记","学习"]},{"title":"从出生那天开始，你就是“局外人”","slug":"从出生那天开始，你就是“局外人”","url":"/2024/05/10/51fa0d872217/","content":"## 你\n如果你是中国的90后，那你的出生就已经是个错误。这个错是谁跟你定的呢？谁管呢，谁让你赶在了这个糟糕的年代。\n<!--more-->\n20世纪90年代正是计划生育实行最没“人性”的时代，你出生了。不是独生子，就是“计划外”。独生子的你以后要独自承担这个家，而计划外的你现在就要面临活下去的困难。\n好了，挨过了出生这道屏障。上小学到5年级，突然多了一个6年级。\n2003年，你又赶上了非典。\n接着又赶上了高考改革。\n后来你又赶上了考研公费取消。\n都这样了你还不死心考了博士，硕博的毕业条件一年比一年离谱，而教育水平似乎并没有改变。\n你迟迟没有毕业，等到的却是新冠肺炎。毕业条件提高，盲审条件提高，毕业难度加大。\n以后你将面临人口老龄化。\n这于你来说就是最糟糕的年代。你被抛弃之人，就没有家。却还要对这个屋檐感恩戴德。\n\n---\n\n>智谱清言修改\n\n# 90后的挑战与机遇\n## 出生背景\n**20世纪90年代的中国**，你作为90后的一员，出生在一个社会变革的时期。计划生育政策在这一时期达到了严格的顶峰，你的出生或许被标记为“错误”，但这个“错误”并非由你造成，而是那个时代的社会环境所决定。作为独生子女，你将承担家庭的重任；若是“计划外”的孩子，你则面临更多的生存挑战。\n## 教育经历\n**教育之路**，从小学到五年级，教育体系的变化让你不得不适应新的六年级。2003年，非典疫情爆发，给你带来了关于生命和健康的新认知。随后，高考改革对你提出了新的要求，你需要适应新的考试制度和教育模式。\n## 高等教育\n**高等教育的挑战**，考研公费的取消增加了你的经济负担，但你仍选择继续深造，攻读硕士和博士学位。然而，毕业条件逐年提高，盲审制度变得更加严格，使得毕业难度不断加大。\n## 新冠肺炎疫情\n**疫情的冲击**，当你即将完成学业之际，新冠肺炎疫情爆发，就业市场急剧萎缩，你面临着更加激烈的竞争和不确定性。\n## 人口老龄化\n**面对未来**，中国正面临人口老龄化的挑战。随着生育率的下降和人口结构的变化，你需要在工作和生活中承担更多的责任，并为未来的养老问题做好准备。\n## 坚持与希望\n在这个充满挑战的时代，90后似乎成了被抛弃的一代。然而，你们依然坚持着自己的梦想，努力寻找属于自己的位置。或许对现状感到不满，但你们明白，只有通过自己的努力，才能在这个不断变化的世界中找到属于自己的道路。\n\n\n+++ **修改前**\n在中国的90后，出生在一个特殊的历史时期，这个时期的社会变革和发展对他们的成长产生了深远的影响。20世纪90年代，中国实行了一项具有深远历史意义的人口政策——计划生育。这项政策旨在控制人口增长，提高人口素质，但由于其严格的实施方式，也引发了一系列社会问题。对于90后来说，他们的出生就伴随着这样的背景，这无疑是一个巨大的挑战。\n如果你是中国的90后，那么你的出生就已经是个错误。这个错误不是由你决定的，而是由那个时代的社会环境决定的。在当时，计划生育政策被视为控制人口增长的必要手段，但对于许多家庭来说，这却是一种痛苦的选择。如果你是独生子女，那么你将承担起家庭的重任，独自面对未来的挑战。如果你是“计划外”的孩子，那么你的出生将面临更多的困难和挑战，你可能需要为生存而奋斗。\n在度过了出生这道难关后，90后的孩子们开始接受教育。然而，他们又遇到了新的挑战。在上小学到5年级的过程中，突然多出了一个6年级。这一变化让许多学生感到困惑和不适，他们不得不适应新的教育体系。然而，这仅仅是他们成长过程中的一部分。\n2003年，中国爆发了非典疫情。这场突如其来的灾难对整个社会造成了巨大的冲击，也影响了90后的成长。他们不得不学会面对疾病和死亡，学会珍惜生命和健康。这场疫情也让人们意识到公共卫生的重要性，推动了中国医疗卫生体系的改革和发展。\n随着90后的成长，他们又迎来了高考改革。这一改革旨在减轻学生的学业压力，提高教育的公平性和质量。然而，对于90后来说，这又是一次挑战。他们需要适应新的考试制度和教育模式，努力提高自己的综合素质和能力。\n在经历了高考改革后，90后又迎来了考研公费的取消。这一政策变化使得研究生教育变得更加市场化，也增加了学生的经济负担。对于许多90后来说，这无疑是一个巨大的压力。他们需要为自己的未来付出更多的努力和汗水，才能实现自己的梦想。\n随着就业困难，物价疯涨，90后一代中很多的人选择继续深造，攻读硕士和博士学位。然而，他们发现，硕博的毕业条件逐年提高，盲审制度变得更加严格，毕业难度不断加大。这些变化对他们的学术生涯和心理健康都带来了巨大的压力。即便如此，他们依然坚持不懈地追求知识，希望能够在学术领域取得突破。\n然而，就在他们即将完成学业之际，新冠肺炎的爆发给了他们新的打击。疫情导致毕业生的就业市场急剧萎缩，许多行业受到重创，就业机会减少。对于即将步入社会的博士生来说，这意味着他们需要面对更加激烈的竞争和不确定性。\n与此同时，中国正面临着人口老龄化的严峻挑战。随着生育率的下降和人口结构的变化，年轻劳动力市场的供给将逐渐减少，而老年人口的比例将不断上升。这对于90后来说，不仅意味着他们需要在工作和生活中承担更多的责任，还意味着他们需要为未来的养老问题做好准备。\n在这个充满挑战的时代，90后似乎成了被抛弃的一代。他们不仅要应对现实的压力，还要为未来的不确定性做好准备。然而，他们依然坚持着自己的梦想，努力寻找属于自己的位置。他们或许对现状感到不满，但他们也明白，只有通过自己的努力，才能在这个不断变化的世界中找到属于自己的道路。\n+++\n","tags":["局外人","随笔","牢骚","时代"],"categories":["原创","生活"]},{"title":"ImageJ--Feature Finder插件","slug":"ImageJ--图像模板匹配-Feature Finder插件","url":"/2024/05/09/0673e2301734/","content":"\n![](/images/feature-finder-screenshot.jpg=100x100)\n**Feature Finder** 是ImageJ 中的图像模板匹配（Template Matching）插件，用于查找与原型（模板）相同或相似的特征。\"相似 \"是指图像与原型之间的均方偏差应该很小。\n<!--more--> \n![](/images/20240509_223918_00000.png)\n\n## 用途\n\n>- 目标检测：通过将已知目标作为模板，在图像中寻找与模板最相似的区域，从而实现目标的检测。\n>- 物体跟踪：通过不断更新模板，可以实现对移动目标在视频序列中的跟踪。\n>- 字符识别：通过利用字符的模板，可以识别文本中的字符或数字。\n\n## 特点\n\n**优点：** \n\n- 经过（缓慢的）初始计算后，预览提供了一种快速确定相似度阈值的方法。  \n- 亚像素精度。  \n- 在预览过程中，可以通过对找到的特征进行平均来完善原型。\n\n**局限：** \n\n- 仅适用于灰度图像；像素值的任何校准都会被忽略。  \n- 只能搜索未旋转（或圆形）和未缩放的特征。  \n- 速度较慢，小原型除外（暴力算法，无 FFT）。  \n- 预览期间，当进度条处于激活状态时：不要更改对话框中的任何输入，否则会重新启动，耗时更长。  \n- 不处理堆栈。\n\n## 安装 \n\n- 下载[Feature_Finder.java](https://github.com/imagej/imagej.github.io/blob/main/media/plugins/feature-finder/Feature_Finder.java)\n- 将原始的 `Feature_Finder.java` 文件复制到 ImageJ 插件文件夹 (plugins) 或其子文件夹中。确保将下载的文件命名为 \"Feature_Finder.java\"；大写/小写都很重要。  \n- 使用 \"编译并运行 (Compile and Run)\"进行编译，然后按 \"确定\"。请注意，\"编译并运行 \"功能目前在 Fiji 上无法使用；作为一种变通方法，请使用文件>新建>脚本，打开 Feature_Finder.java 文件并按 \"运行\"。  \n- 使用 \"帮助\">\"更新菜单 \"或重新启动 ImageJ 使其出现在插件菜单中（如果您已使用 Fiji 脚本编辑器，则无需使用）。\n\n\n## 参数选项 (Dialog Options)\n\n- **Prototype from** 选择原型 (prototype)。这可以是当前图像或不同图像的 ROI。\n- **Output Type** 可以是： \n\t- 点选择：所有特征中心的点 ROI。\n\t- 计数：找到的特征数量写入结果表。\n\t- 列表：中心的 x 和 y 像素坐标列表被写入结果表。\n\t- 列表（校准）：与“列表”类似，但将校准的 x 和 y 坐标写入结果表。\n\t- 点图：一个单独的二值图像，每个特征的中心有一个像素 = 255。\n\t- 偏差图：单独的浮点（32 位）图像。每个点的值表示原始图像中该位置的周围环境与原型的偏离程度。偏差图独立于“公差”设置。\n\t- 特征平均值：单独的浮点（32 位）输出图像，所有特征的平均值移动到同一位置。\n- **Subtract Background**使用减去背景，特征被认为是相同的，独立于任何恒定（相加）背景。\n- **Soft Edges** 软边缘为原型的近边缘像素赋予的权重小于靠近中心的像素的权重。\n- **Distance Min**如果要素靠得很近，小于“最小距离”，则仅保留最匹配的要素。\n- **Tolerance**公差决定了特征与原型的偏差程度。值 0 表示完全匹配，100 表示偏差等于原型的方差。启用“减去背景”后，在公差为 100% 的情况下，原型区域上具有恒定值的图像区域也符合特征。\n- **Refine** 在预览过程中，设置容差后，您可以按“调整”按钮。这会根据当前选择的所有特征的平均值计算出新的原型。例如，如果原型受到噪声影响，“优化”很有用。\n在预览期间，该对话框还显示特征数量与原型偏差的直方图以及包含找到的特征数量的消息。\n\n## 提示和技巧\n\n- 在预览过程中，直方图右侧经常会出现一个宽阔的峰值。这就是假匹配。请将阈值保持在该峰值以下。 \n- 特征应与原型具有相同的灰度对比度。如果不是这种情况，建议选择图像中可能出现的对比度最高的模板。  \n- 如果阈值法失败，也可以尝试创建偏差图并对其进行处理（背景减除、高通滤波器、查找最大值......）。\n\n\n## 参考\n\n1. https://imagej.github.io/plugins/feature-finder\n2. https://blog.csdn.net/twnkie/article/details/132154253","tags":["ImageJ","图像","特征匹配","Feature Finder"],"categories":["笔记","学习"]},{"title":"Hexo新建文章及发布指令--笔记","slug":"Hexo新建文章及发布指令--笔记","url":"/2024/05/08/eda54285e852/","content":"\n使用Git部署文章的命令\n<!--more--> \n\n># 完成后部署\n>您可执行下列的其中一个命令，让 Hexo 在生成完毕后自动部署网站，两个命令的作用是相同的。\n>```bash\n>$ hexo generate --deploy\n>$ hexo deploy --generate\n>\n> **简写**\n>$ hexo g -d\n>$ hexo d -g\n>```\n\n\n\n## 新建\n\n`hexo new [layout] <title>`\n布局（Layout）有三种：post、page 和 draft。\n|布局\t|路径|\n|---|---|\n|post\t|source/_posts|\n|page\t|source|\n|draft\t|source/_drafts|\n\n### 新建文章\nwindows下使用命令行创建新的博客文章\n如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来。\n`hexo new \"post title with whitespace\"`\n\n\n```\n参数\t描述\n-p, --path\t自定义新文章的路径\n-r, --replace\t如果存在同名文章，将其替换\n-s, --slug\t文章的 Slug，作为新文章的文件名和发布后的 URL\n```\nHexo 主页文章列表默认会显示文章全文，浏览时很不方便，可以在文章中插入 <!--more--> 进行分段。\n\n### 新建独立页面\n\n`hexo new page --path about/me \"About me\"`\n以上命令会创建一个 source/about/me.md 文件，同时 Front Matter 中的 title 为 \"About me\"\n\n### 新建草稿\n\n`hexo new draft \"draft\"`\n\n\n## 生成静态网页\n\n`hexo generate`\n可简写为`hexo g`\n\n```\n选项\t描述\n-d, --deploy\t文件生成后立即部署网站\n-w, --watch\t监视文件变动\n-b, --bail\t生成过程中如果发生任何未处理的异常则抛出异常\n-f, --force\t强制重新生成文件Hexo 引入了差分机制，如果 public 目录存在，那么 hexo g 只会重新生成改动的文件。使用该参数的效果接近 hexo clean && hexo generate\n-c, --concurrency\t最大同时生成文件的数量，默认无限制\n```\n\n## 发布\n\n发表草稿。\n`hexo publish [layout] <filename>`\n\n## server\n\n启动服务器。默认情况下，访问网址为： http://localhost:4000/。\n`hexo server`\n\n## 布署(deploy)\n\n`hexo deploy`\n可简写为`hexo d`\n\n## 渲染文件\n\n`hexo render <file1> [file2] ...`\n\n## 迁移\n\n`hexo migrate <type>`\n\n## 清除缓存和已生成的静态文件\n\n清除缓存文件 (db.json) 和已生成的静态文件 (public)。\n`hexo clean`\n\n## list\n\n列出网站数据。\n`hexo list <type>`\n\n## 显示草稿\n`hexo --draft`\n显示 `source/_drafts` 文件夹中的草稿文章。","tags":["Hexo","博客","指令","部署"],"categories":["笔记","其他"]},{"title":"RNA-Seq Count数据的标准化(RPKM, FPKM, TPM)-学习笔记","slug":"RNA-Seq Count数据的标准化(RPKM, FPKM, TPM)-学习笔记","url":"/2023/09/21/037b43cd53d9/","content":"\n测序得到的 **read counts** 数量会受到多种因素的影响，如 **测序深度** 和 **基因长度** 。除了上述两个主要因素外，还会有其他因素对read counts的检测有所影响，例如转录组的组成，GC含量，random hexamers引起的测序偏好等等。因此测序得到的read counts需要标准化后才能进行比较。标准化的方式有 **RPKM** ， **FPKM**， **TPM** 。其中TPM被更多人认可。\n<!--more--> \n**RPKM:** Reads per kilo base per million mapped reads (single-end sequencing)\n\n**FPKM:** Fragments per kilo base per million mapped reads (paired-end sequencing)\n\nRPKM与FPKM实际上一样的单位，只不过RPKM是在单端测序文库中使用，而FPKM是双端测序所用的。对基因长度（gene length）以及测序深度（mapped reads from library）都进行了校正。\n![公式1](https://thereallda.github.io/2022/01/24/%E7%90%86%E8%AE%BA-%E7%AE%80%E8%BF%B0RPKM-FPKM-AND-TPM/image-20220124111816290.png)\n\n\n### RPKM，FPKM\n```\n#x为一个向量存储了每个基因的counts，而gene.length是相应于x中每个基因的长度的一个向量.\nRPKM <- function(x, gene.length){ \n  lib.size <- sum(x)\n  rpm <- 1e6 * x/lib.size\n  rpkm <- 1e3 * rpm/gene.length\n  return(rpkm)\n}\n\nFPKM <- function(x, gene.length){ \n  lib.size <- sum(x)\n  rpm <- 1e6 * x/lib.size\n  rpkm <- 1e3 * rpm/gene.length\n  return(fpkm)\n}\n```\n\n### TPM\nTPM: Transcript per million\n![公式2](https://thereallda.github.io/2022/01/24/%E7%90%86%E8%AE%BA-%E7%AE%80%E8%BF%B0RPKM-FPKM-AND-TPM/image-20220124111831499.png)\n\n\nTPM对基因的长度进行了校正，计算比对到基因上的reads/基因长度得到长度校正的表达量 reads per kilobase (RPK)。再以文库中RPK之和作为Scale Factor求出TPM。\n```\nTPM <- function(x, gene.length){\n  rpk <- 1e3 * x/gene.length\n  scale.factor <- sum(rpk)\n  tpm <- 1e6 * rpk/scale.factor\n  return(tpm)\n}\n```\n相比于RPKM使用文库大小（read counts之和）来作为文库校正因子，TPM使用RPK之和作为文库校正因子的好处是考虑了不同样本间的基因长度的分布。因为RPK是一个对基因长度进行校正后的表达量单位，所以RPK之和也不会再带入基因长度的bias。因此，如果需要比较的样本之间转录本分布不一致时（例如不同物种RNA-seq的比较），使用TPM是一个较佳的normalization方案。\n\nRPKM和TPM这类方法就是为了使不同样本间的总体表达量趋于一致，让不同样本间的基因表达量有可比较性，而TPM能够更好地校正样本间的差异。\n\n常用的Normalization 方法总结\n\n|Normalization method\t|描述\t|考虑因素\t|使用场景|\n|---|---|---|---|\n|CPM (counts per million)\t|使用read counts的总和校正counts\t|测序深度\t|同一样本组重复样本之间的基因counts比较；不适用于样品内的比较或差异分析|\n|TPM (transcripts per kilobase million)\t|每百万mapped reads中每kb转录本上的reads数\t|测序深度和基因长度\t|样本内或同一样本组样本之间的基因counts比较； 不适用于差异分析\n|RPKM/FPKM (reads/fragments per kilobase of exon per million reads/fragments mapped)\t|如TPM\t|测序深度和基因长度\t|样本内基因间的counts比较; 不适用于样本间比较和差异分析|\n|DESeq2’s median of ratios [1]\t|counts除以样本特异的校正因子，该因子由基因计数相对于每个基因的几何平均值的中位数比率确定\t|测序深度及RNA组成\t|样本之间的基因counts比较以及差异分析; 不适用于样本内比较|\n|EdgeR’s trimmed mean of M values (TMM) [2]\t|使用样本之间的加权截尾的对数表达量比值的均值进行TMM校正\t|测序深度，RNA组成以及基因长度\t|样品之间和样品内部的基因counts比较，适用于差异分析|\n\n在进行差异表达分析时，我们实际上并不会用到RPKM/FPKM, TPM，而是使用raw counts给到差异分析的工具。这是由于RPKM/FPKM和TPM都没有考虑到样本间文库组成的差异，因而不适合用于样本间差异分析。\n\n## 获取基因长度\n计算TPM或RPKM/FPKM等基因表达量时，除了基因的counts信息外，我们还需要知道基因的长度。由于可变剪接的存在，一个基因可能会有多个转录本，在进行基因水平的表达分析时，我们并不会区分各个转录本剪接变体的表达量，而是以基因为单位进行统计。目前，对于基因长度有多种定义，包括：\n\n- 基因最长转录本；\n- 多个转录本长度的平均值；\n- 非重叠外显子长度之和：\n- 非重叠CDS序列长度之和。\n\n![3](https://thereallda.github.io/2022/02/07/R-Retrieve-Gene-Length/paste-CBFC7C07.png)\n\n\nFigure Source: Gene structure\n\n```message\n#使用gtf文件在R中获取基因长度（非重叠外显子长度之和）\n#首先，读取计算基因counts时用的GTF文件，并将其转换为TxDb对象；\nlibrary(GenomicFeatures)\n#一般常用的物种基因注释信息都已经有人构建好TxDb对象，以R包的形式上传到Bioconductor里。我们使用时直接加载、赋值即可。BiocManager::install(\"TxDb.Dmelanogaster.UCSC.dm6.ensGene\")\n#从本地读取数据库文件 txdb <- makeTxDbFromGFF('gencode.vM23.annotation.gtf', format='gtf')\n#然后，提取每个基因的外显子注释信息；exons.list.per.gene <- exonsBy(txdb, by=\"gene\")\nlibrary(TxDb.Dmelanogaster.UCSC.dm6.ensGene)\nexons.list.per.gene <- exonsBy(TxDb.Dmelanogaster.UCSC.dm6.ensGene, by=\"gene\")\n#最后，合并重叠的外显子，计算非重叠外显子的长度作为基因长度（bp）\nexonic.gene.sizes <- sum(width(reduce(exons.list.per.gene)))\n```\n`GenomicFeatures`还支持自己手动从指定数据库中构建TxDb对象，例如从 UCSC提取构建的`makeTxDbFromUCSC()`函数；从BioMart提取构建的`makeTxDbFromBiomart()`函数等方法可以用作替补方案（没有对应TXDB的R包时）。\n\n`tureCounts`统计基因counts时，其输出的counts.txt文件中通常会包含一列长度信息Length。也是采用非重叠外显子作为基因长度。\n\n## 参考：\n1. 理论-简述RPKM-FPKM-AND-TPM | Dean’s blog (thereallda.github.io)\n\n2. R-获取基因长度 | Dean’s blog (thereallda.github.io)\n\n3. [R]bioconductor之GenomicFeatures学习 - 简书 (jianshu.com)","tags":["笔记","R语言","RNA-seq","生信","测序","标准化"],"categories":["笔记","科研"]},{"title":"R语言--爬取小说-战略级天使","slug":"爬取小说--战略级天使","url":"/2021/05/04/290fbc002946/","content":"\n## 目的\n小说离线阅读,保存。练习R语言。示例网站：https://www.-----.com/yuedu/15111/\n\n<!--more--> \n## 实例\n```r\nlibrary(\"stringr\")\nlibrary(\"rvest\")\nlibrary('RCurl')\nlibrary('curl')\nlibrary('downloader')\nlibrary('RSelenium')\nsetwd('H:\\\\R\\\\R脚本\\\\爬虫')\nurl <- \"https://www.-----.com/yuedu/15111/\"\nhtmlpage <- read_html(url)\nxs_chapter <- htmlpage %>% html_nodes('div#wrapper div.box_con div#list dl dd a') %>% html_text()\nhead(xs_chapter)#观察数据形式\nxs_link <- htmlpage %>% html_nodes('div#wrapper div.box_con div#list dl dd a') %>% html_attrs()\nhead(xs_link)#观察数据形式\nxs_link <- paste(\"https://www.-----.com\",unlist(xs_link),sep = '')#构建章节链接\nxs_content <- cbind(xs_chapter[-(1:10)],xs_link[-(1:10)])#合并目录链接\n\n#尝试获取小说内容，并提取。\nms_f1 <- read_html(xs_content[1,2], encoding = \"GB18030\") %>% html_nodes('div#content') %>% html_text()\nms_f2 <- read_html(xs_content[2,2], encoding = \"GB18030\") %>% html_nodes('div#content') %>% html_text()\nms_f <- c(xs_content[1,1],ms_f1,xs_content[2,1],ms_f2)\nwrite(gsub(\"\\u00A0\",\" \", ms_f),file = \"1.txt\")\n\n#自定义下载函数\nxs_down <- function(x){\n  xs <- c()\n  for (i in 1:length(x[,1])) {\n  xm <- read_html(x[i,2], encoding = \"GB18030\") %>% html_nodes('div#content') %>% html_text()\n  xs <- c(xs, x[i,1], xm)\n  }\n  xs\n}\n#导出小说\nwrite(gsub(\"\\u00A0\",\" \", xs_down(xs_content)),file = \"战略级天使.txt\")\n```","tags":["R语言","实例","爬虫","小说"],"categories":["原创","其他"]},{"title":"Hello World","slug":"hello-world","url":"/2021/01/01/145a1920f348/","content":"\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n<!--more--> \n\n## 快速开始\n\n### 创建文章\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n### 查看效果\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### 生成静态\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### 部署到远程\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/one-command-deployment.html)\n","tags":["默认","你好"],"categories":["笔记","其他"]}]